(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"+01O":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(6)]).then(function(e){a("aR0x"),a("mJVD"),t(null,a("Yzof").default)}.bind(null,a)).catch(a.oe)}},"+MLC":function(e,t,a){"use strict";l(a("fZjL"));var n=l(a("Zzip")),r=l(a("pFYg")),o=l(a("5QVw")),i=l(a("woOf"));function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=("function"==typeof o.default&&(0,r.default)(n.default),d(a("GHKy"))),u=d(a("BYKG"));function d(e){return e&&e.__esModule?e:{default:e}}var p={common:"NORMAL",tax:"VAT",electron:"ELEC"},f={NORMAL:"common",VAT:"tax",ELEC:"electron"},m={load:!0,update:!0,data:"",invoiceType:"common",invoiceSelData:[{text:"普通发票",type:"common",able:!0},{text:"电子发票",type:"electron",able:!0},{text:"增值税发票",type:"tax",able:!0}],invoiceContent:[],invoiceId:"",showModal:!1,invoiceNote:!1,commonInvoice:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},electronInvoice:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},taxInvoice:{postData:{action:2,invoice_name:"",invoice_content:1,contentText:"明细"}},prompt:{show:!1,msg:""}};t.default=(0,c.default)("invoiceSelect",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case"resetState":return m;case"updateState":return s({},e,{update:!0});case"initialPage":return function(e,t,a,n){var r=u.default.fromJS(e);if(!t.status)return(r=r.set("prompt",{show:!0,msg:t.msg})).toJS();r=(r=r.set("load",!1)).set("update",!1);var o=t.data,l=r.get("invoiceSelData").toJS().map(function(e,t){return o.shop_invoice.invoice_type.indexOf(p[e.type])>-1?e.able=!0:e.able=!1,e});r=(r=r.set("invoiceSelData",l)).set("invoiceContent",o.shop_invoice.invoice_content);var s=o.user_invoice;if(s&&(r=r.set("invoiceId",s.invoice_id),s.user_addr&&(r=(r=(r=(r=r.setIn(["taxInvoice","postData","receiver_addr"],s.user_addr.addr)).setIn(["taxInvoice","postData","receiver_name"],s.user_addr.name)).setIn(["taxInvoice","postData","receiver_region"],s.user_addr.area.split(":")[0])).setIn(["taxInvoice","postData","receiver_tel"],s.user_addr.mobile)),s.invoice_type)){var c=f[s.invoice_type];r=r.updateIn([c+"Invoice","postData"],function(e){return"tax"!==c&&(s["invoice_name"+s.action]=s.invoice_name),(0,i.default)(e.toJS(),s)})}return r=r.set("invoiceType",f[a]),(r=(r=u.default.fromJS(r.toJS())).setIn([f[a]+"Invoice","postData","action"],n)).toJS()}(e,t.data,t.invoice,t.action);case"changeType":return s({},e,{invoiceType:t.invoiceType});case"ctrlPrompt":return s({},e,{prompt:s({},t.prompt)});case"popupNote":return s({},e,{invoiceNote:t.status});case"changeStatus":return function(e,t){if(e[t.invoiceType].status[t.key]===t.value)return e;var a=u.default.fromJS(e);return(a=a.setIn([t.invoiceType,"status",[t.key]],t.value)).toJS()}(e,t);case"modalCtrl":return s({},e,{showModal:t.status});case"selectAddress":return function(e,t){var a={};a.receiver_region=t.provinceName+t.cityName+t.districtName,a.receiver_addr=t.address,a.receiver_tel=t.phone,a.receiver_name=t.name;var n=u.default.fromJS(e);return(n=n.updateIn(["taxInvoice","postData"],function(e){return(0,i.default)(e.toJS(),a)})).toJS()}(e,t.data);case"modalSelect":return function(e,t){if(e[t.selectType].content===t.obj.id)return e;var a=u.default.fromJS(e);return(a=(a=a.setIn([t.selectType,"content"],t.obj.id)).setIn([t.selectType,"contentText"],t.obj.text)).toJS()}(e,t);case"changeForm":return function(e,t){if(e[t.mode].postData[t.name]===t.value)return e;var a=u.default.fromJS(e);return(a=a.setIn([t.mode,"postData",t.name],t.value)).toJS()}(e,t);default:return e}},m)},"+ecx":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={popup:"",show:!1,popupShow:!1,listType:"SELECT",reasonList:[],reason:"0",money:"",description:"",subArr:[],tid:"",load:!0,data:"",paymentLarg:""};t.default=(0,l.default)("afterSaleApply",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetData":return i({},s,t.query);case"getDataSuccess":return i({},e,{load:!1,data:t.result.data,money:t.result.data.payment,paymentLarg:t.result.data.payment});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"changeMoney":return i({},e,{money:t.money});case"changeDescribe":return i({},e,{description:t.description});case"ctrlPopup":return i({},e,{popup:t.popup,popupShow:t.show});case"hidePopup":return i({},e,{popupShow:t.show});case"reasonChange":return i({},e,{reason:t.reason,popupShow:!1});case"setsubImgArr":return i({},e,{subArr:t.subArr});case"typeChange":return i({},e,{listType:t.listType,reasonList:t.reasonList,popupShow:!1});default:return e}},s)},"/o4W":function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=k(m),g=(a("Zfgq"),a("4n+p")),v=a("d2xe"),y=k(a("fw66")),E=a("NUeF"),b=a("f2Hk"),_=k(a("qAHI")),x=a("2uFj");k(a("2inQ"));function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var C={init:{url:x.MALLAPI+"/user/order/info",method:"get"},cancel:{url:x.MALLAPI+"/user/order/cancelCloseOrder",method:"post"}},S=(0,b.concatPageAndType)("orderCancel"),T=function(t){function a(){return A(this,a),w(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,m.Component),f(a,[{key:"componentWillMount",value:function(){document.title="取消订单",window.location.href="jsbridge://set_title?title=取消订单"}},{key:"componentDidMount",value:function(){e(this.refs.page).css({minHeight:e(window).height()})}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("#modal");e&&e.parentNode&&e.parentNode.removeChild(e);var t=document.querySelector("#msgTip");t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"render",value:function(){return h.default.createElement("div",{"data-page":"order-cancel",ref:"page"},h.default.createElement(I,{tid:this.props.location.query.tid}))}}]),a}();t.default=T;var M=(d=u=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,m.Component),f(t,[{key:"componentDidMount",value:function(){var e=this.context.store;e.dispatch(S("getInitData")),_.default.request(p({},C.init,{params:{no:this.props.tid}})).then(function(t){console.log(t),0===t.data.code&&e.dispatch(S("sucInitData",{data:t.data.data}))}).catch(function(t){e.dispatch(S("failInitData",{msg:"网络发生问题，请稍后再试"}))})}},{key:"componentWillUpdate",value:function(e){if(e.error)return y.default.MsgTip({msg:e.msg}),!1}},{key:"componentWillUnmount",value:function(){this.props.dispatch(S("initialPage"))}},{key:"render",value:function(){var e=this.props,t=e.update,a=(e.msg,e.tid),n=(e.cancelReason,e.data);return console.log("data",n),console.log("update",t),h.default.createElement("div",null,t?h.default.createElement("div",null,h.default.createElement(O,{data:n}),h.default.createElement(L,null),h.default.createElement(R,{tid:a,btnText:"取消订单"})):h.default.createElement(v.LoadingRound,null))}}]),t}(),u.contextTypes={store:h.default.PropTypes.object},d),I=(0,g.connect)(function(e,t){var a=e.orderCancel;return{data:a.initData,error:a.error,update:a.update,msg:a.errorMsg,cancelReason:a.cancel_reason}})(M),O=function(e){var t=e.data;return h.default.createElement("div",{className:"cancel-top"},h.default.createElement("div",{className:"list-top g-row-flex"},h.default.createElement("div",{className:"left g-col-1"},"订单号：",t.no),h.default.createElement("div",{className:"right "},E.ordermainStatusMap[t.status])),h.default.createElement("div",{className:"list-mid"},h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"商品总额"),h.default.createElement("div",{className:"right g-col-1"},"¥",(+t.total_fee).toFixed(2))),h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"促销优惠"),h.default.createElement("div",{className:"right g-col-1"},"- ¥",(+t.discount_summary.promotion).toFixed(2))),h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"运费"),h.default.createElement("div",{className:"right g-col-1"},"+ ¥",(+t.post_fee).toFixed(2))),h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"税费"),h.default.createElement("div",{className:"right g-col-1"},"+ ¥",(+t.tax_fee).toFixed(2))),h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"优惠券抵扣"),h.default.createElement("div",{className:"right g-col-1"},"- ¥",(+t.discount_summary.coupon).toFixed(2))),h.default.createElement("div",{className:"li  g-row-flex"},h.default.createElement("div",{className:"left"},"红包抵扣"),h.default.createElement("div",{className:"right g-col-1"},"- ¥",(+t.discount_summary.hb).toFixed(2)))))},D=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.changeReason,n=e.otherReason,r=E.reasonList.map(function(e){return h.default.createElement("div",{key:e.name,className:"list c-clrfix",onTouchTap:function(t){a(e.name)}},h.default.createElement("div",{className:"choose"},t==e.name?h.default.createElement("i",{className:"current-black-icon"}," "):h.default.createElement("i",{className:"current-no-agree-icon"}," ")),h.default.createElement("div",{className:"text"},e.text))});return h.default.createElement("div",{className:"reason-choose"},h.default.createElement("div",{className:"reason-list"},r),"other"==t&&h.default.createElement("div",{className:"reason-text"},h.default.createElement("textarea",{placeholder:"请填写取消订单的理由",defaultValue:"",onBlur:function(e){n(e.target.value)}})))}}]),t}(),L=(0,g.connect)(function(e,t){return{cancel_reason:e.orderCancel.cancel_reason}},function(e,t){return{changeReason:function(t){e(S("changeReason",{reason:t}))},otherReason:function(t){e(S("otherReasonChange",{value:t}))}}})(D),P=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"btm-btn colour-btn",onClick:this.props.clickHandle},this.props.btnText)}}]),t}(),H=!1,R=(0,g.connect)(function(e,t){var a=e.orderCancel,n=window.location.protocol+"//"+window.location.host;return{clickHandle:function(){a.cancel_reason?"other"!=a.cancel_reason||a.other_reason.trim()?H||(H=!0,a.cancel_reason="other"==a.cancel_reason?a.other_reason:E.reasonList[a.cancel_reason].text,_.default.request(p({},C.cancel,{params:{no:t.tid,closeDesc:a.cancel_reason}})).then(function(e){0===e.data.code?(H=!1,y.default.MsgTip({msg:"取消成功"}),setTimeout(function(){window.location.href="jsbridge://open_link_at_stack_root?url="+window.btoa(n+"/tradeList/0")})):y.default.MsgTip({msg:e.data.message})}).catch(function(e){H=!1,y.default.MsgTip({msg:"网络出现问题，请稍后再试"})})):y.default.MsgTip({msg:"请填写取消订单的理由"}):y.default.MsgTip({msg:"请选择取消订单的理由"})}}})(P)}).call(this,a("OOjC"))},"02pt":function(e,t,a){"use strict";(function(e){var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p,f,m=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=(f=g)&&f.__esModule?f:{default:f},y=a("4n+p"),E=a("Zfgq"),b=a("d2xe"),_=a("f2Hk"),x=a("fw66"),k=a("qeJi");function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("SFZ9");var C={completion:{url:"/newapi/search/suggests",method:"get"},hot:{url:"/newapi/search/bizKeyword?type=biz",method:"get"}},S=(0,_.actionAxios)("qygSearch"),T=(0,_.concatPageAndType)("qygSearch"),M=(p=d=function(t){function a(t,o){A(this,a);var i=w(this,(a.__proto__||(0,r.default)(a)).call(this,t));return i.getTerraceHost=function(){var e="m";return navigator.userAgent.indexOf("51gjj")>-1?e="51af-m":"mall"==document.cookie.platform?e="m":"finance"==document.cookie.platform?e="jr-m":document.cookie.origin||(e="wx"),e},i.getLinkByTerrace=function(e){return e&&e.indexOf("tairanmallhost")>-1?e.replace("tairanmallhost",i.getTerraceHost()):e},i.searchSubmit=function(e,t,a){(e=void 0!==e?e.trim():"")?t?window.location.href=i.getLinkByTerrace(t):(i.addHistoryHandle(e),E.browserHistory.replace("/searchResult?key="+encodeURIComponent(e)+"&type=biz"+(a&&a.shop?"&shop="+a.shop:"")+(a&&a.coupon_id?"&coupon_id="+a.coupon_id:""))):i.props.dispatch(T("ctrlPrompt",{prompt:{show:!0,msg:"请输入搜索词"}}))},i.addHistoryHandle=function(e){if(!e)return!1;for(var t,a=i.props,r=a.searchHistory,o=a.dispatch,l=0;t=r[l++];)t.word===e&&r.splice(l-1,1);r.unshift({word:e}),r.length>20&&(r.length=20);var s=(0,n.default)(r);window.localStorage.setItem("qygSearchHistory",s),o(T("historyCtrl",{history:r}))},i.clearHistory=function(){window.localStorage.removeItem("qygSearchHistory"),i.props.dispatch(T("historyCtrl",{history:[]}))},i.searchHandle=function(e){i.props.dispatch(T("keyCtrl",{key:e})),""!==e.trim()?i.xhrHandle(i.deleteSpace(e)):i.props.dispatch(T("listCtrl",{list:[]}))},i.getList=function(){return i.props.compList&&i.props.compList.map(function(e,t){return v.default.createElement(O,{key:t,text:e,keyHandle:i.searchSubmit})})},i.deleteSpace=function(e){if("string"==typeof e){e=e.trim();for(var t="",a=0;a<e.length;a++)t+=" "==e[a]?"":e[a];return t}return e},i.searchBarMount=function(t){var a=i.deleteSpace(t);""!==a&&i.props.searchCompletion(a),setTimeout(function(){e(i.refs.search).focus()},0)},document.title="搜索",o.isApp&&(window.location.href="jsbridge://set_title?title=搜索"),i}return N(a,g.Component),h(a,[{key:"componentWillMount",value:function(){this.props.initialPage(),this.props.updateHot(),this.xhrHandle=(0,k.throttle)(this.props.searchCompletion)}},{key:"render",value:function(){var e=this.props,t=e.keyWord,a=e.param,n=e.searchHistory,r=e.hotList,o=e.prompt,i=e.promptClose;return v.default.createElement("div",{"data-page":"search-page",id:"searchPage"},v.default.createElement("div",{className:"search-bar-grid"},v.default.createElement(b.SearchBarA,{ref:"search",onChange:this.searchHandle,value:t,param:a,isMount:this.searchBarMount.bind(null,t),onSearch:this.searchSubmit})),this.props.keyWord?a.shop||a.coupon_id?"":v.default.createElement("div",{className:"search-list-grid"},v.default.createElement("div",{className:"search-list"},this.getList())):v.default.createElement("div",{className:"history-block"},v.default.createElement(I,{type:"history",data:n,param:a,clearHistory:this.clearHistory,searchKeyWord:this.searchSubmit}),v.default.createElement(I,{type:"hotWord",data:r,param:a,searchKeyWord:this.searchSubmit})),v.default.createElement(x.PopupTip,{active:o.show,msg:o.msg,onClose:i}))}}]),a}(),d.contextTypes={isApp:v.default.PropTypes.bool},p),I=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.data,n=e.searchKeyWord,r=e.param,o={history:{text:"历史搜索",del:!0},hotWord:{text:"热门搜索",del:!1}},i=a&&a.length?v.default.createElement("div",{className:"search-key"},a.slice(0,10).map(function(e,t){return v.default.createElement("div",{className:"grid-key",key:t,onClick:n.bind(null,e.word,e.link,r)},v.default.createElement("div",{className:e.active?"red-btn":"black-btn"},v.default.createElement("div",null,e.word)))})):v.default.createElement("div",{className:"no-history"},"暂无",o[t].text);return v.default.createElement("div",{className:"search-key-list c-clrfix"},v.default.createElement("h3",null,v.default.createElement("span",null,o[t].text),o[t].del&&v.default.createElement("i",{className:"delete-box-icon",onTouchTap:this.props.clearHistory}," ")),i)}}]),t}(),O=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this;return v.default.createElement("div",{className:"list-one c-clrfix",onClick:function(){return e.props.keyHandle(e.props.text)}},v.default.createElement("div",{className:"c-fl c-dpb grid-left"},this.props.text))}}]),t}();t.default=(0,y.connect)(function(e,t){return m({},e.qygSearch)},function(e,t){return{dispatch:e,promptClose:function(){e(T("ctrlPrompt",{prompt:{show:!1,msg:""}}))},initialPage:function(){try{var t=window.localStorage.getItem("qygSearchHistory");t&&(t=JSON.parse(t),e(T("historyCtrl",{history:t})))}catch(e){console.error(error)}},updateHot:function(){e(S("updateHot",C.hot))},searchCompletion:function(t){e(S("searchCpt",m({},C.completion,{params:{keyword:t}}),t))}}})(M)}).call(this,a("OOjC"))},"0WfC":function(e,t,a){"use strict";!function(e){var t=window,a=document,n=e(t),r=e(a);e.fn.dropload=function(e){return new o(this,e)};var o=function(e,t){var a=this;a.$element=e,a.upInsertDOM=!1,a.loading=!1,a.isLockUp=!1,a.isLockDown=!1,a.isData=!0,a._scrollTop=0,a._threshold=0,a.init(t)};function i(e){e.touches||(e.touches=e.originalEvent.touches)}function l(e){e.opts.autoLoad&&e._scrollContentHeight-e._threshold<=e._scrollWindowHeight&&c(e)}function s(e){e.opts.scrollArea==t?e._scrollContentHeight=r.height():e._scrollContentHeight=e.$element[0].scrollHeight}function c(e){e.direction="up",e.$domDown.html(e.opts.domDown.domLoad),e.loading=!0,e.opts.loadDownFn(e)}function u(e,t){e.css({"-webkit-transition":"all "+t+"ms",transition:"all "+t+"ms"})}o.prototype.init=function(o){var s=this;s.opts=e.extend(!0,{},{scrollArea:s.$element,domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新</div>',domUpdate:'<div class="dropload-update">↑释放更新</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>',domNoData:'<div class="dropload-noData">别拉了，我是有底线的~</div>'},autoLoad:!0,distance:50,threshold:"",loadUpFn:"",loadDownFn:""},o),""!=s.opts.loadDownFn&&(s.$element.append('<div class="'+s.opts.domDown.domClass+'">'+s.opts.domDown.domRefresh+"</div>"),s.$domDown=e("."+s.opts.domDown.domClass)),s.$domDown&&""===s.opts.threshold?s._threshold=Math.floor(1*s.$domDown.height()/3):s._threshold=s.opts.threshold,s.opts.scrollArea==t?(s.$scrollArea=n,s._scrollContentHeight=r.height(),s._scrollWindowHeight=a.documentElement.clientHeight):(s.$scrollArea=s.opts.scrollArea,s._scrollContentHeight=s.$element[0].scrollHeight,s._scrollWindowHeight=s.$element.height()),l(s),s.$element.on("touchstart",function(e){s.loading||(i(e),function(e,t){t._startY=e.touches[0].pageY,t.touchScrollTop=t.$scrollArea.scrollTop()}(e,s))}),s.$element.on("touchmove",function(t){s.loading||(i(t),function(t,a){a._curY=t.touches[0].pageY,a._moveY=a._curY-a._startY,a._moveY>0?a.direction="down":a._moveY<0&&(a.direction="up");var n=Math.abs(a._moveY);""!=a.opts.loadUpFn&&a.touchScrollTop<=0&&"down"==a.direction&&!a.isLockUp&&(t.preventDefault(),a.$domUp=e("."+a.opts.domUp.domClass),a.upInsertDOM||(a.$element.prepend('<div class="'+a.opts.domUp.domClass+'"></div>'),a.upInsertDOM=!0),u(a.$domUp,0),n<=a.opts.distance?(a._offsetY=n,a.$domUp.html(a.opts.domUp.domRefresh)):n>a.opts.distance&&n<=2*a.opts.distance?(a._offsetY=a.opts.distance+.5*(n-a.opts.distance),a.$domUp.html(a.opts.domUp.domUpdate)):a._offsetY=a.opts.distance+.5*a.opts.distance+.2*(n-2*a.opts.distance),a.$domUp.css({height:a._offsetY}))}(t,s))}),s.$element.on("touchend",function(){s.loading||function(t){var a=Math.abs(t._moveY);""!=t.opts.loadUpFn&&t.touchScrollTop<=0&&"down"==t.direction&&!t.isLockUp&&(u(t.$domUp,300),a>t.opts.distance?(t.$domUp.css({height:t.$domUp.children().height()}),t.$domUp.html(t.opts.domUp.domLoad),t.loading=!0,t.opts.loadUpFn(t)):t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.upInsertDOM=!1,e(this).remove()}),t._moveY=0)}(s)}),s.scrollEvent=function(){s._scrollTop=s.$scrollArea.scrollTop(),""!=s.opts.loadDownFn&&!s.loading&&!s.isLockDown&&s._scrollContentHeight-s._threshold<=s._scrollWindowHeight+s._scrollTop&&c(s)},s.$scrollArea.on("scroll",s.scrollEvent)},o.prototype.lock=function(e){var t=this;void 0===e?"up"==t.direction?t.isLockDown=!0:"down"==t.direction?t.isLockUp=!0:(t.isLockUp=!0,t.isLockDown=!0):"up"==e?t.isLockUp=!0:"down"==e&&(t.isLockDown=!0,t.direction="up")},o.prototype.unlock=function(){this.isLockUp=!1,this.isLockDown=!1,this.direction="up"},o.prototype.noData=function(e){void 0===e||1==e?this.isData=!1:0==e&&(this.isData=!0)},o.prototype.resetload=function(){var t=this;"down"==t.direction&&t.upInsertDOM?t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.loading=!1,t.upInsertDOM=!1,e(this).remove(),s(t)}):"up"==t.direction&&(t.loading=!1,t.isData?(t.$domDown.html(t.opts.domDown.domRefresh),s(t),l(t)):t.$domDown.html(t.opts.domDown.domNoData))},o.prototype.remove=function(){var e=this;e.$element&&(e.$element.unbind("touchstart"),e.$element.unbind("touchmove"),e.$element.unbind("touchend")),e.$scrollArea&&e.$scrollArea.unbind("scroll",e.scrollEvent)}}(window.Zepto||window.jQuery)},"0p2n":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tip=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=m(u),p=m(a("fqXV")),f=a("uaqS");function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.isMount=!0,a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({show:!0})},0),setTimeout(function(){e.isMount&&e.setState({show:!1}),setTimeout(function(){e.props.destroy()},500)},2500)}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){return d.default.createElement("div",{className:p.default.tip},d.default.createElement("div",{className:p.default.tipText+" "+(this.state.show?p.default.active:"")},this.props.msg))}}]),t}();t.tip=new f.Prompt(h)},"1H2n":function(e,t,a){e.exports={popupLoad:"_2UU1YIVNGuoB7Vy8iX0flS",popupLoadImg:"_1WB4M8Jzqq_MW5a28wInfA",popupLoadText:"_2ps8iXcAwHJhL_V1-WKUuk"}},"1N3E":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG")),a("Zfgq");function s(e){return e&&e.__esModule?e:{default:e}}var c={keyWord:"",param:{},searchHistory:[],hotList:[],compList:[],prompt:{show:!1,msg:""}};t.default=(0,l.default)("qygSearch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"keyCtrl":return i({},e,{keyWord:t.key});case"paramCtrl":return i({},e,{param:t.param});case"listCtrl":return i({},e,{compList:t.list});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"historyCtrl":return i({},e,{searchHistory:t.history});case"initPlaceHolderSuccess":return i({},e,{placeHolder:t.result.data});case"updateHotSuccess":return i({},e,{hotList:t.result.data});case"searchCptSuccess":return i({},e,{compList:t.result.data.suggests});default:return e}},c)},"2JAf":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=f(u);a("d5M9");var p=f(a("fw66"));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){p.default.MsgTip({msg:"页面点击关闭"})}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("#msgTip");e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"agreement",className:"agreement",onClick:this.props.onClose},d.default.createElement("div",{dangerouslySetInnerHTML:{__html:'<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px;">进口个人委托申报协议</span></strong></span></p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">本人承诺所购买商品系个人合理自用，针对保税区发货的各种商品，现委托商家代理申报，代缴税款等通关事宜，本人保证遵守《海关法》和国家相关法律法规，保证所提供的身份信息和收货信息真实完整，无侵犯他人权益的行为，以上委托关系如实填写，本人愿意接受海关、检验检疫机构及其他监管部门的监管，并承担相应法律责任。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px; font-family: 微软雅黑;">泰然城用户协议</span></strong></span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">欢迎加入泰然城，开始您的幸福购物之旅！</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">感谢您使用我们的服务。泰然城的各项服务由泰然城电子商务有限公司提供，服务所有权和运营权属于泰然城电子商务有限公司（泰然城平台包括泰然城网站www.tairanmall.com和客户端），以下称为“泰然城”或“本站”。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><span style="font-size: 14px;">泰然城在此特别提醒用户，《泰然城用户协议》（以下简称“本协议”）为您与泰然城平台经营者者之间所订立的契约，具有合同的法律效力。</span><strong><span style="font-size: 14px;">您在使用泰然城提供的各项服务之前，应仔细阅读本协议的各项条款，特别是加粗的涉及您核心利益的条款、免除或者限制责任的条款、法律适用和争议解决条款。</span></strong><span style="font-size: 14px;">您一旦使用泰然城服务，即视为您已了解并完全同意本协议各项内容，包括泰然城对本协议随时所做的任何修改，并成为泰然城用户（以下简称“您”或“用户”）。 届时您不应以未阅读本协议的内容为理由，主张本协议无效，或要求撤销本协议。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 14px;"></span></strong></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">一、服务内容</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户注册成功后，即成为泰然城的会员，可享受泰然城为您提供的服务，可以在泰然城上进行购物、订单查询、参加各项优惠活动、发表产品评论等。请记住您的注册手机号，它是您在泰然城的唯一识别，您的任何投诉、问题、购买记录，均采用这个注册手机号处理。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户必须自行准备如下设备和承担如下开支：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1上网设备，包括并不限于电脑或者其他上网终端、调制解调器及其他必备的上网装置；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2上网开支，包括并不限于网络接入费、上网设备租用费、手机流量费等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.泰然城有权不断更改和改进服务，包括增加、删除某项服务，或暂停、彻底停止某项服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">二、用户注册及使用规则</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.注册资格</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">用户须为具有法定的相应权利能力和行为能力的自然、法人或其他组织，能够独立承担法律责任，如用户不具备前述与用户行为相适应的民事行为能力，则用户及用户的监护人应依照法律规定承担因此而导致的一切后果。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.个人信息</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1 用户同意泰然城为提供更好的服务，向您搜集姓名/名称、地址、手机号码等个人信息，泰然城将搜集的前述信息用于精准服务和相关的信息推送。用户同意其提供的注册资料真实、准确、完整、合法有效，用户个人信息如有变动的，应及时更新个人信息。泰然城有权通过征信机构、银行卡绑定等方式，对您提交的身份信息的真实性进行验证。如果用户提供的注册资料不合法、不真实、不准确、不详尽的，用户需承担因此引起的相应责任及后果，并且泰然城保留终止用户使用本平台各项服务的权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2 用户设置的会员名不得违反国家法律法规的规定以及侵犯或涉嫌侵犯他人合法权益。泰然城有权对用户名等用户注册信息进行审核并向用户反馈注册结果，只有经泰然城审核同意并反馈确认的才成为泰然城的用户，并享有泰然城提供的各项服务。否则，泰然城有权终止向用户提供泰然城平台服务，注销账户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3 用户在本站进行浏览、下单购物等活动时，涉及用户真实姓名/名称、通信地址、联系电话等隐私信息的，本站将予以严格保密，除非得到用户的授权或法律另有规定，本站不会向外界披露用户隐私信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.账户</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.1 用户注册成功后，将产生泰然城用户名和密码等账户信息，用户可以根据本站规定改变密码。用户应谨慎合理的保存、使用用户名和密码。如账户因您主动泄露或遭受他人诈骗等行为导致的损失及后果，均由您自行承担，如用户账号遭受他人攻击而导致损失的，泰然城网和用户将根据双方的过错依法承担相应的责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.2 您确认并同意，在您的账户登录状态下进行的所有操作均视为您本人的操作，您应对您账户项下的所有行为结果（包括但不限于在线签署各类协议、发布信息、购买商品及服务及披露信息等）负责。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.3 用户不得将在本站注册获得的账户借给他人使用，否则用户应承担由此产生的全部责任，并与实际使用人承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.使用规则</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1 用户在使用泰然城服务过程中实施的所有行为均应遵守中华人民共和国法律、法规等规范性文件及泰然城各项规则的规定和要求，不违背社会公共利益或公共道德，不损害他人的合法权益，不违反本协议及相关规则。如果违反前述承诺，产生任何法律后果的，用户应以自己的名义独立承担所有的法律责任，并确保泰然城免于因此遭受任何损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2 用户确认并同意，泰然城有权在提前通过网络公示等方式对平台服务规则进行修改，用户应当在指定时间之内对相关服务规则的修改进行回复。用户未对相关修改进行反馈意见的情况下即视为同意上述修改。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.3 用户应该严格遵守泰然城的一切规则，不得出现恶意注册、恶意点评、恶意退款、恶意骗取积分等违规行为，一经发现，泰然城有权取消用户资格，并追回已经发放的全部积分，同时该用户必须承担由此给泰然城带来的所有损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.4 用户同意，泰然城拥有通过邮件、短信、电话，以及客户端推送等形式，向在本站注册、购物用户、收货人发送促销活动等告知信息的权利，泰然城将给予用户退订的权利，用户如不同意接收前述信息，可以通过前述信息中退订途径进行退订。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.5 用户了解并同意，泰然城有权应国家司法、行政等主管部门的要求，向其提供您在泰然城平台填写的注册信息和交易记录等必要信息。如您涉嫌侵犯他人知识产权，则泰然城亦有权在初步判断涉嫌侵权行为存在的情况下，向权利人提供您必要的身份信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.6 用户同意，泰然城有权使用用户的注册信息、用户名、密码等信息，登录进入用户的注册账户，进行证据保全，包括但不限于公证、见证等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.7 泰然城用户账号如果一年内无登录记录，将被视为休眠账户作冻结处理；超过两年无登录记录，泰然城有权注销该账号。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.8 对于被泰然城暂时停止或者永久停止账号的用户，泰然城将不再向该用户提供服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.9 为便于或更好的提供服务，用户同意并授权泰然城将用户在注册、使用本站过程中提供、形成的信息传递给泰然城关联公司（关联公司指泰然城电子商务有限公司下分子公司、孙公司）或本站卖方，用于泰然城的产品/服务包含的核心业务或附加功能上，这些功能包含了网上购物所必须的功能、改进泰然城平台上的产品与/或服务功能、保障交易安全所必须的功能，以及为精准服务用户而在泰然城圈儿、社区、早教、亲子等板块使用。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.授权使用</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1 对于用户在注册和使用泰然城过程中提供的资料及数据信息，用户授权泰然城及其关联公司独家的、全球通用的、永久的、免费的许可使用权利（包括再授权），用途包括但不限于网站、电子杂志、杂志、刊物等。泰然城及其关联公司有权使用、复制、编辑、改写等方式处理并展示用户的数据资料。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您同意可以使用本站的账户信息在与本站合作的第三方网站进行注册、登录和账户绑定操作，届时您应按照第三方网站的相关协议与规则使用第三方网站，而不是按照本协议。</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">第三方网站的内容、产品、广告和其他任何信息均由您自行判断并承担风险，而与本站无关。</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">三、用户依法言行义务</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议依据国家相关法律法规规章制定，用户同意在注册账户和使用泰然城期间，严格遵守以下义务：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.1 不得传输或发表：煽动抗拒、破坏宪法和法律、行政法规实施的言论，煽动颠覆国家政权，推翻社会主义制度的言论，煽动分裂国家、破坏国家统一的的言论，煽动民族仇恨、民族歧视、破坏民族团结的言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.2 不得利用本站从事洗钱、窃取商业秘密、窃取个人信息等违法犯罪活动；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.3 不得干扰本站的正常运转，不得侵入本站及国家计算机信息系统；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.4 不得传输或发表任何违法犯罪的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的，淫秽的、不文明的等信息资料；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.5 不得传输或发表损害国家社会公共利益和涉及国家安全的信息资料或言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.6 不得教唆他人从事本条所禁止的行为；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.7 不得发布任何侵犯他人著作权、商标权等知识产权或合法权利的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.8 不得发布任何泰然城认为不适合在泰然城展示的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户应不时关注并遵守本站不时公布或修改的各类合法规则规定。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本站保有删除站内各类不符合法律政策或不真实的信息内容的权利，并予以通知用户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.若用户未遵守以上规定的，本站有权作出独立判断并采取暂停或关闭用户帐号等措施。用户须对自己在网上的言论和行为承担法律责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">四、订单</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.在本站购物的用户，请您仔细确认所购商品的名称、价格、数量、型号、规格、尺寸、联系地址、电话、收货人等信息。收货人与用户本人不一致的，收货人的行为和意思表示视为用户的行为和意思表示，用户应对收货人的行为及意思表示的法律后果承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2. </span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">除网站页面另有明确标示为自营商品外，泰然城应当被界定为本站买卖双方提供网络服务的第三方交易平台。在您与入驻商家发生的消费者权益纠纷、产品质量纠纷，均应由您先行与产品或服务的卖方解决。</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如无法解决的，您可申请泰然城客服介入调解，泰然城不承担卖方或买方的责任。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.除法律另有强制性规定外，双方约定如下：本站上展示的商品和价格等信息仅仅是要约邀请，您下单时须填写您希望购买的商品数量、价款及支付方式、收货人、联系方式、收货地址等内容；系统生成的订单信息是计算机信息系统根据您填写的内容自动生成的数据，仅是您向品牌合作商发出的合同要约；</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">本站卖方收到您的订单信息后，只有将您在订单中订购的商品从仓库实际直接向您发出时，方视为您与卖方之间就实际直接向您发出的商品建立了合同关系；</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如果您在一份订单里订购了多种商品并且本站卖方只给您发出了部分商品时，您与本站卖方之间仅就实际直接向您发出的商品建立了合同关系；只有在本站卖方实际直接向您发出了订单中订购的其他商品时，您和本站卖方之间就订单中该其他已实际直接向您发出的商品才成立合同关系。您可以随时登录您在本站注册的账户，查询您的订单状态。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您了解并同意，本平台上的商品、价格、数量、是否有货等商品信息随时可能发生变动，本站不作特别通知。您接受本平台在发现网页拼写错误或系统问题导致的展示错误，正式向您发出通知后，对商品信息进行调整，订单按照正确的信息执行，或取消订单，同时若用户违反泰然城交易规则，平台管理者有权关闭或拒绝您的交易订单，泰然城承诺不滥用该条款的权利，不故意利用该条款损害用户合法权益。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城、关联公司或本站卖方将会把商品（货物）送到您所指定的收货地址。您了解本平台所提示的送货时间供参考，实际送货会与参考时间略有差异。平台管理者和所有者或其关联公司不对因您及收货人原因导致无法送货或延迟送货承担责任。若发生不可抗力或其他正当合理理由导致发货延迟的，您将给予充分理解。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">因如下情况造成订单延迟或无法配送等，泰然城或本站卖方不承担延迟配送的责任：</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.1 用户提供的信息错误、地址不详细等原因导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.2 货物送达后无人签收，导致无法配送或延迟配送的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.3 情势变更因素导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.4 不可抗力因素导致的，例如：自然灾害、交通戒严、突发战争等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">五、责任限制</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">1.除泰然城在本协议中规定的其它限制之外，在中国（“中国”指中华人民共和国，为本协议之目的不包括香港和澳门特别行政区以及台湾省）法律法规所允许的限度内，对于因用户使用服务而引起的或与之有关的任何直接的、间接的、特殊的、附带的、后果性的或惩罚性的损害，或任何其它性质的损害，泰然城、泰然城的董事、管理人员、雇员、代理或其它代表在任何情况下都不承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">2.泰然城不对本站所涉及的技术及信息的有效性、准确性、可靠性、稳定性和及时性作出任何承诺和保证。如因不可抗力或其它本站无法控制的原因使本站系统崩溃或无法正常使用导致本平台不能服务或延迟服务、丢失数据信息、记录的，泰然城不承担责任，但泰然城将协助处理相关事宜。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.除标有“自营”商品外，用户应理解泰然城平台上销售的商品和相关信息由入驻商家提供和发布；由于泰然城不参与也无法核实商品/服务的交易，对于商品/服务的质量、安全及合法性、真实性、准确性，用户应谨慎判断。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">4.除商品被标有“自营”字样外，用户理解泰然城上发布的商品及相关的图片、文字等信息均由入驻泰然城的卖方所提供，泰然城不对该信息所涉及的知识产权承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.用户有责任切实维护自身持有的银行卡及资金安全，应当采取一切措施避免银行卡及身份信息被泄露。如您银行卡内资金有未经您许可的被盗刷、资金损失等行为，请您主动联系您的开户银行，或者就上述违法行为向公安机关报案。泰然城不承担经系统识别的您卡内资金划转及损失。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">六、协议修改</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.泰然城有权不定时修改本协议及/或各类规则。所有修改的适用不具有追溯力，且会在网站进行公示，修改后的协议或规则将在公示后立即生效。如果用户不同意服务的修改条款或规则，应停止使用服务。如用户继续使用服务，则视为同意。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果本协议条款与附加条款有冲突，以附加条款为准。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">七、违约赔偿</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户同意保障和维护泰然城及其他用户的利益，如因用户违反有关法律、法规或本协议项下的任何条款而给泰然城或任何其他第三人造成损失，用户同意承担由此造成的损害赔偿责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果用户不遵守本协议，且泰然城未立即采取行动，并不意味泰然城放弃可能享有的任何权利或在将来采取行动。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.如用户涉嫌违反有关法律或者本协议之规定，使泰然城遭受任何损失，或受到任何第三方的索赔，或受到任何行政管理部门的处罚，用户应当赔偿泰然城因此造成的损失及（或）发生的费用，包括合理的律师费用。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">八、协议终止</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.您了解并同意，泰然城有权在您的账户存在风险交易的情况下中止、终止向您提供部分或全部泰然城平台服务，暂时冻结或永久冻结（注销）您的账户，且无须为此向您或任何第三方承担任何责任，如出现依法律或本协议及/或泰然城平台规则规定的您违约的情形时，泰然城网可以有权通知您解除本协议，并中止、终止向您提供部分或全部平台服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.出现以下情况时，泰然城有权直接以注销账户的方式终止本协议:</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1泰然城终止向您提供服务后，您涉嫌再一次直接或间接或以他人名义注册为泰然城用户的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2您注册信息中的主要内容不真实或不准确或不及时或不完整。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3本协议（含本协议的修改、附加条款及泰然城各项规则）变更时，您明示并通知泰然城不愿接受新的服务协议的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.4在您的账户内存在或发现有盗卡、信用卡套现、洗钱等违法违规行为或风险时；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.5其它泰然城认为应当终止服务的情况。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您有权向泰然城要求注销您的账户，经泰然城审核同意的，泰然城注销（永久冻结）您的账户，届时，您与泰然城基于本协议的合同关系即终止。您的账户被注销（永久冻结）后，泰然城没有义务为您保留或向您披露您账户中的任何信息，也没有义务向您或第三方转发任何您未曾阅读或发送过的信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您同意，您与泰然城的合同关系终止后，泰然城仍享有下列权利：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1继续保存您的注册信息及您使用泰然城平台服务期间的所有交易信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2您在使用泰然城平台服务期间存在违法行为或违反本协议和/或规则的行为的，泰然城仍可依据本协议向您主张权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城中止或终止向您提供泰然城平台服务后，对于您在服务中止或终止之前的交易行为依下列原则处理，您应独立处理并完全承担进行以下处理所产生的任何争议、损失或增加的任何费用，并应确保泰然城免于因此产生任何损失或承担任何费用：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1您在服务中止或终止之前已经上传至泰然城平台的物品尚未交易的，泰然城有权在中止或终止服务的同时删除此项物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您在服务中止或终止之前已经与本站卖方达成买卖合同，但合同尚未实际履行的，泰然城有权删除该买卖合同及其交易物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.3您在服务中止或终止之前已经与本站卖方达成买卖合同且已部分履行的，泰然城可以不删除该项交易，但泰然城有权在中止或终止服务的同时将相关情形通知您的交易卖方。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">九、法律管辖和适用</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议的订立、执行和解释及争议的解决均应适用中国法律。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如发生本协议与中国法律相抵触时，则这些条款将完全按法律规定重新解释，而其它合法条款则依旧保持对用户产生法律效力和影响。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本协议的规定是可分割的，如本协议任何规定被裁定为无效或不可执行，该规定可被删除而其余条款应予以执行。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.为维护用户在本平台交易过程中的权利义务，您同意泰然城有权先行裁决您与泰然城本站卖方的消费争议，并执行泰然城的裁决结果。如您对泰然城裁决结果不满意或有异议，您有权将争议提交司法机构。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.如泰然城与用户双方就本协议内容或其执行发生任何争议，双方应尽力友好协商解决；协商不成时，任何一方均可向被告所在地法院提起诉讼。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">十、其他</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议构成双方对本协议之约定事项及其他有关事宜的完整协议，除本协议规定的之外，未赋予本协议各方其他权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.本协议中的标题仅为方便而设，不作为对标题下条款的解释。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255);">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您注册为泰然城的会员即视为您完全接受本协议，在注册之前请您再次确认已知悉并完全理解本协议的全部内容。</span>\n</p>'}}))}}]),t}();t.default=m},"2cQF":function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ShopCollect=t.CollectBar=t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=y(u),p=a("Zfgq"),f=(y(a("O27J")),y(a("fw66"))),m=a("fluX"),h=a("d2xe"),g=a("zpSi");a("L1w3");var v=a("2uFj");function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var x={initGoods:{url:"/originapi/user/getCollectionList?object_type=1&page=1"},initShop:{url:"/originapi/user/getCollectionList?object_type=2&page=1",type:"get"},del:{url:"/originapi/user/collection/remove",type:"get"},delShop:{url:"/originapi/subscribe/collection/removeShop?",type:"get"}},k=function(t){function a(t){E(this,a);var r=b(this,(a.__proto__||(0,n.default)(a)).call(this,t));return r.loadData=function(){var e=x.initGoods,t=x.initShop,a=r.state,n=(a.goodsPage,a.goodsTotal,a.shopPage,a.shopTotal,r);(0,m.ownAjax)(e).then(function(e){console.log(e),0===e.code&&n.setState({goodsPage:e.data.collection.count,goodsTotal:e.data.collection.total_count,goodsData:e.data.collection.data,selectGoods:!0,updateGoods:!0})}).then(function(){return(0,m.ownAjax)(t)}).then(function(e){0===e.code&&n.setState({shopTotal:e.data.collection.total_count/10,shopData:e.data.collection.data,updateShop:!0})})},r.loadGoodsHandle=function(t){var a=r.state,n=a.goodsData,o=a.goodsPage;if(o>=a.goodsTotal)return t.lock(),t.noData(),void t.resetload();r.setState({goodsPage:++o});var i=r;e.ajax({url:"/originapi/user/getCollectionList?object_type=1&page="+o,type:"get",success:function(e){if(!e.data.fav_info)return t.lock(),t.noData(),void t.resetload();i.setState({goodsData:n.concat(e.data.fav_info),updateGoods:!0}),t.resetload()},error:function(e){t.resetload()}})},r.loadShopHandle=function(t){var a=r.state,n=a.shopData,o=a.shopPage;if(o>=a.shopTotal)return t.lock(),t.noData(),void t.resetload();var i=r;r.setState({shopPage:++o}),e.ajax({url:"/originapi/user/collection/getShopFav?page="+o,type:"get",success:function(e){if(!e.data.data)return t.lock(),t.noData(),void t.resetload();i.setState({shopData:n.concat(e.data.data)}),t.resetload()},error:function(e){t.resetload()}})},r.onDelete=function(e){for(var t,a=r.state.goodsData,n=0;t=a[n];n++)t.item_id==e&&a.splice(n,1);r.setState({goodsData:a})},r.onDelShop=function(e){for(var t,a=r.state.shopData,n=0;t=a[n];n++)t.shop_id==e&&a.splice(n,1);r.setState({shopData:a})},r.goodsHandle=function(){r.setState({selectGoods:!0})},r.shopHandle=function(){r.setState({selectGoods:!1})},r.state={goodsData:[],goodsPage:1,goodsTotal:100,updateGoods:!1,shopData:[],shopPage:1,shopTotal:100,updateShop:!1},r}return _(a,u.Component),c(a,[{key:"componentWillMount",value:function(){document.title="我的收藏",location.href="jsbridge://set_title?title=我的收藏"}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("#modal");e&&e.parentNode&&e.parentNode.removeChild(e);var t=document.querySelector("#msgTip");t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"render",value:function(){var e=this.state,t=e.goodsData,a=e.shopData,n=e.selectGoods,r=e.updateGoods,o=e.updateShop;return r?d.default.createElement("div",{"data-page":"collect-page",className:"main"},d.default.createElement("div",{className:"nav"},d.default.createElement("div",{className:"collect-type",onClick:this.goodsHandle},d.default.createElement("span",{className:n?"selected":""},"商品收藏")),d.default.createElement("div",{className:"split-line"}),d.default.createElement("div",{className:"collect-type",onClick:this.shopHandle},d.default.createElement("span",{className:n?"":"selected"},"店铺关注"))),n?d.default.createElement("div",{className:"showarea area"},t&&t.length?d.default.createElement("section",{className:"floor-bd"},d.default.createElement(w,{data:t,update:r,onDelete:this.onDelete,dropDown:this.loadGoodsHandle,scrollArea:window})):d.default.createElement(C,null)):d.default.createElement("div",null,o?a&&a.length?d.default.createElement(M,{data:a,onDelShop:this.onDelShop,dropDown:this.loadShopHandle,scrollArea:window}):d.default.createElement(S,null):d.default.createElement(h.LoadingRound,null))):d.default.createElement(h.LoadingRound,null)}}]),a}();t.default=k;var A=t.CollectBar=function(e){function t(e){E(this,t);var a=b(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.toggleActive=function(){var e=a.state,t=e.active,n=e.select;"edit"==t?a.state.active="del":n.length?a.showModal():a.state.active="edit",a.setState(a.state)},a.showModal=function(){var e=a.getSelectId(),t=x.del,n=a;f.default.Modal({isOpen:!0,msg:"确定删除收藏商品吗？"},function(){(0,m.ownAjax)(t,{item_id:e}).then(function(t){f.default.MsgTip({msg:t.msg}),200===t.code&&!0===t.status&&(n.update(),n.props.onDelete(e))})})},a.state={data:a.props.data,active:"edit",select:[]},a}return _(t,u.Component),c(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"update",value:function(){var e=this.state,t=e.data,a=e.select;this.state.select.forEach(function(e){var a=t.indexOf(e);t.splice(a,1)}),a=[],this.setState({select:a,data:t})}},{key:"checkActive",value:function(e){return e===this.state.active}},{key:"onSelect",value:function(e){if(!this.checkActive("edit")){var t;~(t=this.state.select.indexOf(e))?this.state.select.splice(t,1):this.state.select.push(e),this.setState(this.state)}}},{key:"getSelectId",value:function(){return this.state.select.map(function(e){return e.item_id})}},{key:"render",value:function(){var e=this,t=this.state.data,a=this.props.update?t instanceof Array?t.map(function(t,a){return d.default.createElement(N,{data:t,key:t.item_id+"_"+a,onSelect:function(){return e.onSelect(t)},checkActive:e.checkActive("edit")})}):"":null;return d.default.createElement("div",{className:"collect-control list-data"},a,this.checkActive("edit")?d.default.createElement("div",{className:"edit",onClick:this.toggleActive},d.default.createElement("button",{type:"button",className:"ui-btn edit-btn"},"编辑")):d.default.createElement("div",{className:"delete-action",onClick:this.toggleActive},d.default.createElement("button",{type:"button",className:"ui-btn-warning"},"删 除")))}}]),t}(),w=(0,g.DropDownLoad)(A),N=function(e){function t(e){E(this,t);var a=b(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.changeHandle=function(){a.props.checkActive||a.setState({active:!a.state.active}),a.props.onSelect()},a.state={active:!1},a}return _(t,u.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.checkActive;return d.default.createElement("div",{className:"collect-box clearfix",onClick:this.changeHandle},d.default.createElement("div",{className:"col-xs-6 single un-padding"},d.default.createElement("div",{className:"pro-pic pro-info list-item-pic un-padding "+(this.state.active&&"cur")},d.default.createElement("a",{className:"pro-link",href:(t.primary_image||t.title)&&n?v.RNDomain+"/item?item_id="+t.item_id:null}," ",t.primary_image||t.title?d.default.createElement("img",{src:t.primary_image}):d.default.createElement("img",{src:a("Km++")})),d.default.createElement("div",{className:"info-g",style:{display:"none"}}," ",t.promotion_tag instanceof Array?t.promotion_tag.map(function(e,t){return d.default.createElement("div",{key:t,style:{float:"left"}},"拼团"!=e?d.default.createElement("span",{key:t},e):null)}):t.promotion_tag),d.default.createElement("div",{className:"info-n"},d.default.createElement("a",{href:"javascript:;"},d.default.createElement("p",null,t.brand_name),d.default.createElement("p",null,t.goods_name))),d.default.createElement("div",{className:"info-p"},d.default.createElement("div",{className:"p-lf"},t.min_promotion_price?(+t.min_promotion_price).toFixed(2):(+t.sell_price).toFixed(2))))))}}]),t}(),C=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return _(t,u.Component),c(t,[{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{className:"empty-area",style:{marginTop:"3.5rem"}},d.default.createElement("img",{src:a("YR4B")}),d.default.createElement("span",null),d.default.createElement("a",{href:"trmall://main?page=home",className:"ui-btn-empty"},"去逛逛")),d.default.createElement("div",{className:"empty-mask"}))}}]),t}(),S=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return _(t,u.Component),c(t,[{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{className:"empty-area",style:{marginTop:"3.5rem"}},d.default.createElement("img",{src:a("DVFt")}),d.default.createElement("span",null),d.default.createElement("a",{href:"trmall://main?page=home",className:"ui-btn-empty"},"去逛逛")),d.default.createElement("div",{className:"empty-mask"}))}}]),t}(),T=t.ShopCollect=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return _(t,u.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onDelShop;return d.default.createElement("div",{style:{paddingTop:"1.2rem"}},t.map(function(e,t){return d.default.createElement(I,{key:t,index:t,item:e,onDelShop:a})}))}}]),t}(),M=(0,g.DropDownLoad)(T),I=function(t){function r(t){E(this,r);var a=b(this,(r.__proto__||(0,n.default)(r)).call(this,t));return a.touchStartHandle=function(e){a.setState({startX:e.touches[0].clientX,startY:e.touches[0].clientY})},a.touchEndHandle=function(t){var n=a.state,r=n.startX,o=n.startY,i=t.changedTouches[0].clientX,l=t.changedTouches[0].clientY;if(Math.abs(l-o)<30)if(i-r<-5)e(t.target).parents(".shop-info").addClass("animationCancel1").removeClass("animationCancel2"),e(t.target).parents(".shop-info").siblings().map(function(t,a){e(a).hasClass("animationCancel1")&&e(a).removeClass("animationCancel1").addClass("animationCancel2")});else if(Math.abs(i-r)<5){if(e(t.target).parents(".shop-info").hasClass("animationCancel1"))return e(t.target).parents(".shop-info").addClass("animationCancel2").removeClass("animationCancel1"),!1;var s=a.props.item;if("open"!==s.open_state)return!1;p.browserHistory.push("/store/home?shop="+s.shop_id)}else e(t.target).parents(".shop-info").hasClass("animationCancel1")&&e(t.target).parents(".shop-info").addClass("animationCancel2").removeClass("animationCancel1")},a.closeAttention=function(t){e(t.target).parents(".shop-info").addClass("animationCancel2").removeClass("animationCancel1");var n=a.props.item.shop_id,r=a.props.onDelShop,o=x.delShop;(0,m.ownAjax)(o,{shopId:n}).then(function(e){200===e.code&&!0===e.status&&(f.default.MsgTip({msg:"取消成功"}),r(n))})},a.state={startX:0,startY:0},a}return _(r,u.Component),c(r,[{key:"render",value:function(){var e=this.props,t=e.item;e.index;return d.default.createElement("div",{className:"shop-info"},d.default.createElement(p.Link,{onTouchStart:this.touchStartHandle,onTouchEnd:this.touchEndHandle},d.default.createElement("div",{className:"shop-detail"},d.default.createElement("div",{className:"shop-logo"},d.default.createElement("img",{src:t.shop_logo?t.shop_logo:a("sReQ")})),d.default.createElement("div",{className:"text-wrap"},d.default.createElement("p",{className:"title"},t.shop_alias?t.shop_alias:t.shop_name),d.default.createElement("p",{className:"sub-title"},"泰然城精选商家 服务保障"))),d.default.createElement("img",{className:"arrow-right",src:a("MTHZ")})),d.default.createElement("div",{className:"shop-cancel",onClick:this.closeAttention},d.default.createElement("img",{src:a("Je0Q")}),d.default.createElement("p",null,"取消关注")))}}]),r}()}).call(this,a("OOjC"))},"2inQ":function(e,t,a){"use strict";(function(e){var n=d(a("mvHQ")),r=d(a("Zx67")),o=d(a("fZjL")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListChoose=t.ListFilterBtm=t.ListFilterMain=t.ListFilter=t.ListFilterB=t.ListFilterA=t.ListFilterACtrl=t.ListInfoCtrl=t.SearchResult=void 0;var p,f,m=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.searchResultState=te,t.searchResultDispatch=ae;var g=a("U7vG"),v=S(g),y=a("4n+p"),E=a("Zfgq"),b=a("d2xe"),_=a("f2Hk"),x=a("zpSi"),k=a("fw66"),A=S(a("mtWM")),w=S(a("BYKG"));a("SFZ9");var N=S(a("6YRh")),C=a("2uFj");function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var O=(0,_.concatPageAndType)("searchResult"),D=(0,_.concatPageAndType)("searchIndex"),L=(0,_.concatPageAndType)("qygSearch"),P={search:{url:"/newapi/search",method:"post"}},H=A.default.CancelToken,R=void 0,z=[{text:"综合",icon:!1,status:"",direct:""},{text:"销量",icon:!1,status:"sell_count",direct:"desc"},{text:"新品",icon:!1,status:"shelved_at",direct:" desc"},{text:"价格",icon:!0,status:"price",direct:"asc",origIcon:"arrow-tb-icon",sort:!0,ascIcon:"arrow-tr-bg-icon",desIcon:"arrow-tg-br-icon"}];function B(e,t,a,n,r,i){(e=w.default.fromJS(e).toJS()).orderBy=e.orderBy.type+":"+e.orderBy.direct,e.brand=e.brand.join(","),e.category=e.category.join(",");var l=[];return(0,o.default)(e.properties).forEach(function(t){l=l.concat(e.properties[t])}),a.length&&(l=l.concat(a)),e.properties=l,n&&(e.coupon_id=n),i&&(e.shop=i),r&&(e.searchType=r),e.priceRange.id?t.some(function(t){return t.id===e.priceRange.id&&(e.priceRange=t.begin+":"+t.end,!0)}):""===e.priceRange.min&&""===e.priceRange.max?e.priceRange="":e.priceRange=e.priceRange.min+":"+e.priceRange.max,e}var j=t.SearchResult=(f=p=function(t){function a(e,t){T(this,a);var o=M(this,(a.__proto__||(0,r.default)(a)).call(this,e));return o.dropDown=function(e){var t=o.props,a=t.searchData,r=t.dispatch,i=t.totalPage,l=t.priceArr,s=t.preProperty,c=t.couponId,u=t.searchType,d=t.shop,p=t.listLoad,f=t.dataList;if(p||!f||a.pages>=i)return e.lock(),e.noData(),void e.resetload();(a=w.default.fromJS(a).toJS()).pages+=1,R&&R("cancel Success"),A.default.request(m({},P.search,{data:(0,n.default)(B(a,l,s,c,u,d)),cancelToken:new H(function(e){R=e})})).then(function(t){if(!t.data.status)return r(O("ctrlPrompt",{prompt:{show:!0,msg:t.data.msg}})),e.lock(),e.noData(),void e.resetload();r(O("concatData",{result:t.data})),e.resetload();var a=t.data.data.pagers;a.current>=a.total&&(e.lock(),e.noData(),e.resetload())}).catch(function(t){console.error(t),e.resetload()})},o.navClick=function(e,t){var a=o.props,n=a.dispatch,r=a.searchData.orderBy;if(e===r.type){if("price"!==e)return!1;n(O("sortOrder",{navType:e,direct:"asc"===r.direct?"desc":"asc"}))}else n(O("sortOrder",{navType:e,direct:t}));setTimeout(function(){o.updateResult()},0)},o.itemTypeChg=function(e){o.props.dispatch(O("itemType",{itemType:e})),setTimeout(function(){o.updateResult()},0)},o.dropTypeChg=function(e){e===o.props.dropType&&o.updateResult(),o.props.dispatch(O("dropType",{dropType:e}))},o.filterSelect=function(e,t){var a=o.props,n=a.searchData,r=a.dispatch,i=n[e],l=i.indexOf(t[e+"_id"]);l>-1?i.splice(l,1):i.push(t[e+"_id"]),r(O("filterSelect",{filterType:e,data:i}))},o.selectReset=function(e){o.props.dispatch(O("filterSelectReset",{filterType:e}))},o.selectSure=function(){o.props.dispatch(O("dropType",{dropType:""})),o.updateResult()},o.filterPopup=function(){o.props.dropProperty&&o.updateResult(),o.props.dispatch(O("filterPopupCtrl"))},o.updateResult=function(){var e=o.props,t=e.dispatch,a=e.searchData,r=e.priceRange,i=e.preProperty,l=e.couponId,s=e.searchType,c=e.shop;a=function(e){if((e=w.default.fromJS(e).toJS()).priceRange.id)return e;var t=e.priceRange,a=t.min,n=t.max;return""!==a?""!==n?a>n&&(e.priceRange.min=n,e.priceRange.max=a):(e.priceRange.min=0,e.priceRange.max=a):""!==n&&(e.priceRange.min=0),e.pages=1,e}(a),t(O("resetSearchData",{data:a})),t(O("resetSearchList")),R&&R("cancel Success"),A.default.request(m({},P.search,{data:(0,n.default)(B(a,r,i,l,s,c)),cancelToken:new H(function(e){R=e})})).then(function(e){t(O("initData",{result:e.data}))}).catch(function(e){console.error(e)})},o.toItem=function(e){o.props.dispatch(O("setFrom",{from:"item"})),location.href=e},o.searchBarFocus=function(){"biz"===o.props.searchType?(o.props.dispatch(L("keyCtrl",{key:o.props.keyWord})),E.browserHistory.replace("/qygSearch")):(o.props.dispatch(D("keyCtrl",{key:o.props.keyWord})),E.browserHistory.replace("/search"))},o.searchBarSearch=function(){var e=o.props,t=e.keyWord,a=e.dispatch,r=e.searchType;""!==t?("biz"===r?E.browserHistory.replace("/searchResult?key="+encodeURIComponent(t)+"&type=biz"):E.browserHistory.replace("/searchResult?key="+encodeURIComponent(t)),a(O("resetState",{keyWord:t,searchType:r})),R&&R("cancel Success"),A.default.request(m({},P.search,{data:(0,n.default)({search_keywords:t,searchType:r}),cancelToken:new H(function(e){R=e})})).then(function(e){a(O("initData",{result:e.data}))}).catch(function(e){console.error(e)})):a(O("ctrlPrompt",{prompt:{show:!0,msg:"请输入搜索词"}}))},e.storeHomeRequest||(document.title="搜索结果",t.isApp&&(window.location.href="jsbridge://set_title?title=搜索结果")),o}return I(a,g.Component),h(a,[{key:"componentWillMount",value:function(){"item"!==this.props.from||this.props.storeHomeRequest?this.props.initialPage():this.props.dispatch(O("setFrom",{from:""}))}},{key:"componentDidMount",value:function(){N.default.init({offset:e(window).height(),throttle:0});var t=0,a=e(this.refs.pageTop);this.filterScroll=function(){var n=e(window).scrollTop();a.height()>100&&n>a.height()-46&&n-t>=2&&a.addClass("active"),n-t<=-2&&a.removeClass("active"),t=n},e(window).on("scroll",this.filterScroll)}},{key:"componentDidUpdate",value:function(){N.default.init({offset:e(window).height(),throttle:0})}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll",this.filterScroll),this.props.saveDisTop()}},{key:"preventScroll",value:function(t){t?e("html,body").css({height:"100%",overflowY:"hidden"}):e("html,body").css({height:"",overflowY:""})}},{key:"render",value:function(){var e=this.props,t=e.dataList,a=e.category,n=e.property,r=e.brands,o=e.searchData,i=e.dropType,l=e.dropProperty,s=e.storeHomeRequest,c=this.props.location.query.storeHome;return v.default.createElement("div",{"data-page":"search-page",id:"searchResult"},v.default.createElement("div",{className:"list-filter-ctrl",ref:"pageTop"},s?"":v.default.createElement("div",{style:{borderBottom:"1px solid #e4e4e4"}},v.default.createElement(b.SearchBarA,{value:this.props.keyWord,onChange:function(e){},onFocus:this.searchBarFocus,onSearch:this.searchBarSearch})),!this.props.load&&this.props.property?v.default.createElement("div",{className:"list-filter-a-wrap"},v.default.createElement(G,{searchData:o,brands:r,dropProperty:l,category:a,property:n,filterSelect:this.filterSelect,filterPopup:this.filterPopup,updateResult:this.updateResult,navClick:this.navClick,storeHomeRequest:s,storeHome:c})):"",this.props.load||!a||s||c?"":v.default.createElement(Q,{searchData:o,brands:r,category:a,dropType:this.props.dropType,selectSure:this.selectSure,selectReset:this.selectReset,filterSelect:this.filterSelect,itemTypeChg:this.itemTypeChg,dropTypeChg:this.dropTypeChg})),v.default.createElement("div",{className:"item-list",ref:"list"},this.props.load?v.default.createElement(b.LoadingRound,null):this.props.listLoad?v.default.createElement(b.LoadingRound,null):v.default.createElement(F,{data:t,category:a,dropDown:this.dropDown,toItem:this.toItem,correct:this.props.correction,keyWord:this.props.keyWord})),v.default.createElement(k.PopupTip,{active:this.props.prompt.show,msg:this.props.prompt.msg,onClose:this.props.promptClose}),i||l?this.preventScroll(!0):this.preventScroll(!1))}}]),a}(),p.contextTypes={isApp:v.default.PropTypes.bool},f),F=t.ListInfoCtrl=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.category;return v.default.createElement("div",{className:"list-center",ref:"itemList"},t&&t.length?v.default.createElement(q,{data:t,scrollArea:window,toItem:this.props.toItem,dropDown:this.props.dropDown,correct:this.props.correct,keyWord:this.props.keyWord}):a.length?v.default.createElement(ee,null):v.default.createElement($,null))}}]),t}(),U=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"getHtml",value:function(){var e=this;return this.props.data.map(function(t,a){return v.default.createElement(Z,{key:a,data:t,toItem:e.props.toItem})})}},{key:"render",value:function(){var e=this.props,t=e.correct,a=e.keyWord;return v.default.createElement("div",{className:"list-main"},null!==t&&v.default.createElement("div",{className:"list-tip"},v.default.createElement("p",null,"没找到“",v.default.createElement("span",{className:"c-cdred"},a),"”相关商品，已为您推荐“",v.default.createElement("span",{className:"c-cdred"},t),"”相关商品")),v.default.createElement("div",{className:"list-detail c-clrfix"},this.getHtml()))}}]),t}(),q=(0,x.DropDownLoad)(U),Z=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.data,t=e.H5_pic,a=e.group_type,n=e.item_id,r=e.sell_price,o=e.support_ecard,i=(e.market_price,e.trade_type),l=e.primary_image,s=e.installment,c=e.title,u=e.promotionDetail,d=e.activity_price,p=e.activity_store,f=e.store,m=e.valid,h=null;return h=void 0!==p?p<=0:f<=0,m||(h=!0),v.default.createElement("div",{className:"one-item-grid"},v.default.createElement("div",{className:"one-item",onClick:this.props.toItem.bind(null,C.RNDomain+"/item?item_id="+n)},v.default.createElement("div",{className:"item-img c-pr"},t?v.default.createElement("img",{className:"c-pa",style:{width:"60px",top:0,left:0},src:t}):"ROOKIE_GROUP"===a?v.default.createElement("img",{className:"c-pa new-img",src:"/src/img/activity/new-group.png"}):"",v.default.createElement("img",{"data-echo":l+"_m.jpg",src:"/src/img/icon/loading/default-watermark.png"}),h?v.default.createElement("div",{className:"float-label"},v.default.createElement("img",{src:"/src/img/search/sale-out-big.png"})):""),v.default.createElement("div",{className:"item-title c-mt10"},("Direct"===i||"Overseas"===i)&&v.default.createElement("span",{className:"label yellow-label"},"海外直邮"),"Bonded"===i&&v.default.createElement("span",{className:"label blue-label"},"跨境保税"),c),v.default.createElement("div",{className:"item-price c-mt5"},v.default.createElement("span",null,"¥",d?(+d).toFixed(2):(+r).toFixed(2)),o?v.default.createElement("img",{src:"/src/img/common/support-e-card.png"}):"",s?v.default.createElement("span",{className:"c-cfff stage-sign"},"分期"):""),v.default.createElement("div",{className:"item-promotion"},u&&v.default.createElement("span",{className:"promotion-label"},u.join(" | ")))))}}]),t}(),G=t.ListFilterACtrl=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"list-filter-a"},v.default.createElement("div",{className:"list-nav-a-grid",ref:"sortNav"},v.default.createElement(J,m({},this.props,{navData:z,filter:this.props.dropProperty,filterPopup:this.props.filterPopup,navClick:this.props.navClick})),this.props.dropProperty&&v.default.createElement(K,{filterSelect:this.props.filterSelect,updateResult:this.props.updateResult})))}}]),t}(),J=t.ListFilterA=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=M(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.getHtml=function(){var e=n.props.searchData;return n.props.navData.map(function(t,a){return v.default.createElement("div",{key:t.text,className:"g-col-1 nav-click",onClick:n.props.navClick.bind(null,t.status,t.direct)},v.default.createElement("span",{className:"nav-span "+(e.orderBy.type===t.status?"active":"")},v.default.createElement("span",null,t.text),t.icon&&v.default.createElement("i",{className:e.orderBy.type===t.status?t.sort?"asc"===e.orderBy.direct?t.ascIcon:t.desIcon:t.activeIcon:t.origIcon}," ")))})},M(n,a)}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.storeHomeRequest,a=e.storeHome;return v.default.createElement("div",{className:"list-nav-a g-row-flex c-tc"},v.default.createElement("div",{className:"grid-left g-row-flex g-col-1"},this.getHtml()),t||a?"":v.default.createElement("div",{className:"grid-right"},v.default.createElement("div",{className:"nav-click",onClick:this.props.filterPopup},v.default.createElement("span",{className:"nav-span"+(this.props.filter?" active":"")},v.default.createElement("span",null,"筛选"),v.default.createElement("i",{className:this.props.filter?"filter-red-icon":"filter-grey-icon"}," ")))))}}]),t}(),Q=t.ListFilterB=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=M(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.concatBrands=function(){var e=n.props,t=e.brands;return e.searchData.brand.map(function(e,a){var n="";return t.some(function(t,a){return t.brand_id===e&&(n=t.name,!0)}),n}).join(",")},n.concatCategory=function(){var e=n.props,t=e.category;return e.searchData.category.map(function(e,a){var n="";return t.some(function(t,a){return t.category_id===e&&(n=t.name,!0)}),n}).join(",")},M(n,a)}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.searchData,a=e.brands,n=e.category,r=e.dropType,o=t.self,i=t.promotion;return v.default.createElement("div",{className:"list-nav-b-grid"},v.default.createElement("div",{className:"list-nav-b g-row-flex",ref:"navB"},v.default.createElement("div",{className:"nav-one g-col-1 btn "+(o?"active":""),onClick:this.props.itemTypeChg.bind(null,"self")},v.default.createElement("div",{className:"nav-one-next"},o&&v.default.createElement("i",{className:"red-current-icon"}," "),v.default.createElement("span",null,"自营"))),v.default.createElement("div",{className:"nav-one g-col-1 btn "+(i?"active":""),onClick:this.props.itemTypeChg.bind(null,"promotion")},v.default.createElement("div",{className:"nav-one-next"},i&&v.default.createElement("i",{className:"red-current-icon"}," "),v.default.createElement("span",null,"促销"))),v.default.createElement("div",{className:"nav-one g-col-1 dropDown "+("brand"===r?"down":t.brand.length?"active":""),onClick:this.props.dropTypeChg.bind(null,"brand")},v.default.createElement("div",{className:"nav-one-next"},v.default.createElement("span",null,t.brand.length&&"brand"!==r?this.concatBrands():"品牌"),"brand"===r?v.default.createElement("i",{className:"arrow-top-m-icon"}," "):t.brand.length?"":v.default.createElement("i",{className:"arrow-btm-m-icon"}," "))),v.default.createElement("div",{className:"nav-one g-col-1 dropDown "+("category"===r?"down":t.category.length?"active":""),onClick:this.props.dropTypeChg.bind(null,"category")},v.default.createElement("div",{className:"nav-one-next"},v.default.createElement("span",null,t.category.length&&"category"!==r?this.concatCategory():"分类"),"category"===r?v.default.createElement("i",{className:"arrow-top-m-icon"}," "):t.category.length?"":v.default.createElement("i",{className:"arrow-btm-m-icon"}," ")))),r?v.default.createElement(X,{data:"brand"===r?a:n,type:r,searchData:t,filterSelect:this.props.filterSelect,selectReset:this.props.selectReset,selectSure:this.props.selectSure,onBtnStatus:this.dropDownHandle}):"",r?v.default.createElement(b.Shady,{options:{zIndex:-2}}):"")}}]),t}(),V=t.ListFilter=function(t){function a(){return T(this,a),M(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=e(this.refs.main);t.css({height:e(window).height()-t.offset().top+e(window).scrollTop()})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return v.default.createElement("div",{className:"list-pop-select",ref:"main"},v.default.createElement(W,m({},this.props,{ref:"filter"})),v.default.createElement(Y,{allSelectReset:this.props.allSelectReset,allSelectSure:this.props.allSelectSure}))}}]),a}();var K=(0,y.connect)(function(e){var t=e.searchResult;return{data:t.property,listType:t.listType,searchData:t.searchData}},function(e,t){return{listTypeChg:function(t){e(O("listType",{listType:t}))},propertyFilter:function(t,a){e(O("filterProperty",{id:t,data:a}))},allSelectReset:function(){e(O("allSelectReset"))},allSelectSure:function(){e(O("filterPopupCtrl")),t.updateResult()},priceRangeSelect:function(t){e(O("priceSelect",{id:t}))},minPrice:function(t){e(O("minPrice",{value:t.target.value}))},maxPrice:function(t){e(O("maxPrice",{value:t.target.value}))}}})(V),W=t.ListFilterMain=function(t){function a(){var e,t,n;T(this,a);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=n=M(this,(e=a.__proto__||(0,r.default)(a)).call.apply(e,[this].concat(i))),n.hasChosen=function(e){var t=n.props.searchData;switch(e){case"brand":case"category":return!!t[e].length;case"price":return!!(t.priceRange.min||t.priceRange.max||t.priceRange.id);default:return!(!t.properties[e]||!t.properties[e].length)}return!1},n.getListLeft=function(){var e=n.props,t=e.listType,a=e.data;return a.length&&a.map(function(e,a){return v.default.createElement("div",{className:"list-text "+(e.id===t?"active":""),key:a,onClick:n.props.listTypeChg.bind(null,e.id)},v.default.createElement("span",null,e.name)," ",n.hasChosen(e.id)&&v.default.createElement("i",{className:"red-current-icon"}," "))})},n.getListRight=function(){for(var e,t=n.props,a=t.listType,r=t.data,o=t.searchData,i=void 0,l=void 0,s=0;e=r[s++];)if(e.id===a){i=e;break}switch(a){case"brand":l=i?i.list.map(function(e,t){return v.default.createElement("div",{key:t,className:"list-text "+(o[a].indexOf(e[a+"_id"])>-1?"active":""),onClick:n.props.filterSelect.bind(null,a,e)},v.default.createElement("span",null,e.name),o[a].indexOf(e[a+"_id"])>-1&&v.default.createElement("i",{className:"red-current-icon"}," "))}):"";break;case"price":l=v.default.createElement("div",{className:"range-price"},v.default.createElement("h4",null,"价格区间"),v.default.createElement("div",{className:"input-price"},v.default.createElement("input",{ref:"min",type:"number",min:"0",max:"999999",step:"1",placeholder:"最低价格",value:o.priceRange.min,onChange:n.props.minPrice}),v.default.createElement("span",null,"—"),v.default.createElement("input",{ref:"max",type:"number",min:"0",max:"999999",step:"1",placeholder:"最高价格",value:o.priceRange.max,onChange:n.props.maxPrice})),i?i.list.map(function(e,t){return v.default.createElement("div",{key:t,className:"list-text "+(o.priceRange.id===e.id?"active":"")+" ",onClick:n.props.priceRangeSelect.bind(null,e.id)},v.default.createElement("span",null,e.begin,"-",e.end),o.priceRange.id===e.id&&v.default.createElement("i",{className:"red-current-icon"}," "))}):"");break;case"category":l=i?i.list.map(function(e,t){return v.default.createElement("div",{key:t,className:"list-text "+(o[a].indexOf(e[a+"_id"])>-1?"active":""),onClick:n.props.filterSelect.bind(null,a,e)},v.default.createElement("span",null,e.name),o[a].indexOf(e[a+"_id"])>-1&&v.default.createElement("i",{className:"red-current-icon"}," "))}):"";break;default:l=i?i.list.map(function(e,t){return v.default.createElement("div",{key:t,className:"list-text "+(o.properties[a].indexOf(e.property_value_id)>-1?"active":""),onClick:n.props.propertyFilter.bind(null,a,e)},v.default.createElement("span",null,e.text),o.properties[a].indexOf(e.property_value_id)>-1&&v.default.createElement("i",{className:"red-current-icon"}," "))}):""}return l},M(n,t)}return I(a,g.Component),h(a,[{key:"componentDidMount",value:function(){this.listLeft=new IScroll(this.refs.listLeft,{click:!0}),this.listRight=new IScroll(this.refs.listRight,{click:!0}),e(window).trigger("resize")}},{key:"componentDidUpdate",value:function(){this.listRight.refresh()}},{key:"render",value:function(){return v.default.createElement("div",{className:"list-pop-main g-row-flex"},v.default.createElement("div",{className:"list-left-grid",ref:"listLeft"},v.default.createElement("div",{className:"list-left"},this.getListLeft())),v.default.createElement("div",{className:"list-right-grid g-col-1",ref:"listRight"},v.default.createElement("div",{className:"list-right"},this.getListRight())))}}]),a}(),Y=t.ListFilterBtm=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"list-pop-btm g-row-flex"},v.default.createElement("div",{className:"c-fs12 total-num"}),v.default.createElement("div",{className:"grey-btn c-bge4 g-col-1",onClick:this.props.allSelectReset},"重置"),v.default.createElement("div",{className:"dred-btn c-bgdred c-cfff g-col-1",onClick:this.props.allSelectSure},"确定"))}}]),t}(),X=t.ListChoose=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"getHtml",value:function(){var e=this,t=this.props,a=t.data,n=t.searchData,r=t.type;return a.map(function(t,a){var o=n[r].indexOf(t[r+"_id"])>-1;return v.default.createElement("div",{className:"choose-one",key:a},v.default.createElement("div",{className:"choose-span "+(o?"active":""),onClick:e.props.filterSelect.bind(null,r,t)},v.default.createElement("span",null,t.name),o&&v.default.createElement("i",{className:"red-current-icon"}," ")))})}},{key:"render",value:function(){return v.default.createElement("div",{className:"list-choose"},v.default.createElement("div",{className:"list-choose-main c-clrfix"},this.getHtml()),v.default.createElement("div",{className:"choose-ctrl g-row-flex"},v.default.createElement("div",{className:"grey-btn c-bge4 g-col-1",onClick:this.props.selectReset.bind(null,this.props.type)},"重置"),v.default.createElement("div",{className:"dred-btn c-bgdred c-cfff g-col-1",onClick:this.props.selectSure},"确定")))}}]),t}(),$=function(){return v.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},v.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),v.default.createElement("p",{className:"c-fs14 c-mt10"},"抱歉，暂无相关商品"),v.default.createElement("p",{className:"c-cc9"},"换个关键词试试吧~"))},ee=function(){return v.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},v.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),v.default.createElement("p",{className:"c-fs14 c-mt10"},"没有相关商品"))};function te(e){return m({},e.searchResult)}function ae(t,a){var r=a.location.query,o=r.key,i=r.coupon_id,l=r.brand,s=r.category,c=r.property,u=r.order,d=r.type,p=r.shop,f=a.shop_attr,h=a.storeHomeRequest,g={search_keywords:o=void 0!==o?decodeURIComponent(o):"",coupon_id:void 0!==i?i:"",shop:void 0!==p?p:"",brand:void 0!==l?l.split(",").map(function(e,t){return Number(e)}).join(","):"",category:void 0!==s?Number(s):"",properties:void 0!==c?c.split(",").map(function(e,t){return Number(e)}):"",orderBy:void 0!==u?u:"",searchType:h&&f?f:void 0!==d?d:""};return{dispatch:t,promptClose:function(){t(O("ctrlPrompt",{prompt:{show:!1,msg:""}}))},initialPage:function(){t(O("resetState",{keyWord:o,searchType:d})),t(O("initSearch",{searchData:g})),A.default.request(m({},P.search,{data:(0,n.default)(g),cancelToken:new H(function(e){R=e})})).then(function(e){t(O("initData",{result:e.data}))}).catch(function(e){console.error(e)})},saveDisTop:function(){t(O("saveTop",{value:e(window).scrollTop()}))}}}t.default=(0,y.connect)(te,ae)(j)}).call(this,a("OOjC"))},"2uFj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.location.protocol;t.RNDomain=n+"//m.tairanmall.com",t.PAYURL=n+"//pay.tairanmall.com",t.ZXURL=n+"//wx.tairanmall.com/zx",t.COLLECTURL=n+"//collect.trc.com/index.js",t.SERCVICEURL=n+"//hwdianshang.commonservice.cn:50134/webchat/jsp/standard/interfacePools.jsp",t.UCENTER="/ucenter/gateway/foundation-user",t.MALLAPI="/wapapi"},33:function(e,t,a){e.exports=a("Fx3O")},"34C2":function(e,t,a){},"4GUf":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=v(p),m=a("O27J"),h=(v(m),a("d2xe")),g=v(a("S8Mv"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var _={Modal:function(e,t){var a=function(e){function a(e){y(this,a);var t=E(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.modalHide=function(){var e=t;t.setState({isOpen:!1}),setTimeout(function(){e.allHide()},200)},t.allHide=function(){var e=t.props.dom;e.parentNode.removeChild(e)},t.callback=function(e){t.modalHide(),e&&e()},t.state={isOpen:!1},t}return b(a,p.Component),d(a,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{"data-comp":"modal",id:"modal"},f.default.createElement(h.Shady,{clickHandle:function(t){e.modalHide()}}),f.default.createElement(g.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal",onTouchTap:function(e){e.preventDefault()}},f.default.createElement("div",{className:"modal-text"},f.default.createElement("span",null,this.props.msg)),f.default.createElement("div",{className:"modal-btn c-fr"},f.default.createElement("div",{onTouchTap:function(t){e.modalHide()},className:"g-col-1 one-btn c-fl",ref:"cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("div",{onTouchTap:function(a){e.callback(t)},className:"g-col-1 one-btn c-fr",ref:"sure"},f.default.createElement("span",null,"确定")))):""))}}]),a}(),r=document.getElementById("modal");r||((r=document.createElement("div")).setAttribute("data-comp","modal"),r.setAttribute("id","modal"),document.body.appendChild(r)),(0,m.render)(f.default.createElement(a,u({},e,{dom:r})),document.getElementById("modal"))},MsgTip:function(e){var t=function(e){function t(e){y(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return b(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dom;this.setState({show:!0}),setTimeout(function(){e.setState({show:!1}),setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},2e3)},2e3)}},{key:"render",value:function(){return f.default.createElement(g.default,{"data-comp":"animate",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}(),a=document.createElement("div");a.setAttribute("data-comp","msg-tip"),a.setAttribute("id","msgTip"),document.body.appendChild(a),(0,m.render)(f.default.createElement(t,u({},e,{dom:a})),a)}};t.default=_},"4TIB":function(e,t,a){e.exports={dropRefresh:"_2LY4oHs3gBtZsojr7NnOMn",dropBtm:"_1vNAT9XLulr2Qsvg_Z8JEo",loading:"_1ziNzrWLoCZp3DgGI9WmVt"}},"4m+e":function(e,t){e.exports="data:image/gif;base64,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"},"56f2":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(d=f)&&d.__esModule?d:{default:d};a("oBvZ");var h=(u=c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,f.Component),p(t,[{key:"componentWillMount",value:function(){document.title="拼团玩法",this.context.isApp&&(window.location.href="jsbridge://set_title?title=拼团玩法")}},{key:"render",value:function(){return m.default.createElement("div",{"data-page":"pintuanRules"},m.default.createElement("section",{className:"group-purchase-step"},m.default.createElement("div",{className:"step-img"})),m.default.createElement("section",{className:"rules-explain"},m.default.createElement("h3",null,m.default.createElement("i",null),"玩法说明"),m.default.createElement("ul",null,m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"1. 选择商品开团"),m.default.createElement("div",{className:"rule-detail"}," 选择拼团商品下单，团长完成支付后，团即刻开启。在活动期间内，参团人数需在规定时间内达到规定人数，此团方能成功，否则超过活动期，或者超过拼团时间，此团均为失败，系统自动退款。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"2. 团长"),m.default.createElement("div",{className:"rule-detail"},"开团且该团第一位支付成功的人。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"3. 参团成员"),m.default.createElement("div",{className:"rule-detail"},"通过团长邀请购买该商品的成员即为参团人员，参团人员也可 通过分享团链接给微信好友邀请更多的成员参加。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"4. 拼团有效期"),m.default.createElement("div",{className:"rule-detail"},"拼团有效期是自开团时刻起至规定的时间内，均以商品的结束 时间为准。")))))}}]),t}(),c.contextTypes={isApp:m.default.PropTypes.bool},u);t.default=h},"5PjB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(3)]).then(function(e){a("aR0x"),t(null,a("hwAx").default)}.bind(null,a)).catch(a.oe)}},"5a5J":function(e,t,a){},"6JQj":function(e,t,a){},"6RO1":function(e,t,a){},"6YRh":function(e,t,a){"use strict";var n,r=l(a("Zzip")),o=l(a("pFYg")),i=l(a("5QVw"));function l(e){return e&&e.__esModule?e:{default:e}}var s;
/*! echo.js v1.7.0 | (c) 2015 @toddmotto | https://github.com/toddmotto/echo */"function"==typeof i.default&&(0,o.default)(r.default);
/*! echo.js v1.7.0 | (c) 2015 @toddmotto | https://github.com/toddmotto/echo */
s=window,void 0===(n=function(){return function(e){var t,a,n,r,o,i={},l=function(){},s=function(e,t){if(function(e){return null===e.offsetParent}(e))return!1;var a=e.getBoundingClientRect();return a.right>=t.l&&a.bottom>=t.t&&a.left<=t.r&&a.top<=t.b},c=function(){!r&&a||(clearTimeout(a),a=setTimeout(function(){i.render(),a=null},n))};return i.init=function(a){var s=(a=a||{}).offset||0,u=a.offsetVertical||s,d=a.offsetHorizontal||s,p=function(e,t){return parseInt(e||t,10)};t={t:p(a.offsetTop,u),b:p(a.offsetBottom,u),l:p(a.offsetLeft,d),r:p(a.offsetRight,d)},n=p(a.throttle,250),r=!1!==a.debounce,o=!!a.unload,l=a.callback||l,i.render(),document.addEventListener?(e.addEventListener("scroll",c,!1),e.addEventListener("load",c,!1)):(e.attachEvent("onscroll",c),e.attachEvent("onload",c))},i.render=function(){for(var a,n,r=document.querySelectorAll("img[data-echo], [data-echo-background]"),c=r.length,u={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},d=0;d<c;d++)n=r[d],s(n,u)?(o&&n.setAttribute("data-echo-placeholder",n.src),null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+n.getAttribute("data-echo-background")+")":n.src=n.getAttribute("data-echo"),o||(n.removeAttribute("data-echo"),n.removeAttribute("data-echo-background")),l(n,"load")):o&&(a=n.getAttribute("data-echo-placeholder"))&&(null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+a+")":n.src=a,n.removeAttribute("data-echo-placeholder"),l(n,"unload"));c||i.detach()},i.detach=function(){document.removeEventListener?e.removeEventListener("scroll",c):e.detachEvent("onscroll",c),clearTimeout(a)},i}(s)}.call(t,a,t,e))||(e.exports=n)},"6rhK":function(e,t,a){"use strict";(function(e){var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={winHeight:e(window).height()};t.default=(0,l.default)("global",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"changeLogin":return i({},e,{isLogin:t.login});case"getLoginSuccess":if("true"===t.result.isLogined)return i({},e,{isLogin:!0});default:return e}},s)}).call(this,a("OOjC"))},"8FWJ":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupCancelDetail=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=(a("Zfgq"),a("4n+p"),a("d2xe")),h=E(a("fw66")),g=a("NUeF"),v=(a("f2Hk"),E(a("qAHI"))),y=a("2uFj");function E(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var k={cancel:{url:y.MALLAPI+"/user/order/cancelCloseOrder",method:"post"}},A=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.changeReason,n=(e.otherReason,g.reasonList.map(function(e){return f.default.createElement("div",{key:e.name,className:"list c-clrfix",onTouchTap:function(t){a(e.name)}},f.default.createElement("div",{className:"text"},e.text),f.default.createElement("div",{className:"choose"},t===e.name?f.default.createElement("i",{className:"current-green-icon"}," "):f.default.createElement("i",{className:"current-no-icon"}," ")))}));return f.default.createElement("div",{className:"reason-choose"},f.default.createElement("div",{className:"reason-list"},n))}}]),t}(),w=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.btnText,n=e.submitHandle;return f.default.createElement("div",{className:t?"btm-btn  colour-btn":"btm-btn",onClick:t?n:""},a)}}]),t}();t.PopupCancelDetail=function(e){function t(){var e,a,r;b(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=_(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.cancelSubmit=function(){var e=r.props,t=e.cancel_reason,a=e.PopupCancelMsg,n=e.webcancelFrom,o=a.Msg;v.default.request(u({},k.cancel,{params:{no:o,closeDesc:g.reasonList[t].text}})).then(function(e){var t=e.data;h.default.MsgTip({msg:t.message||"取消成功"}),"tradeDetail"===n?window.location.href=y.RNDomain+"/tradeList/0":location.reload()}).catch(function(e){console.log(e),h.default.MsgTip({msg:error.response.data.message||"服务器繁忙"})})},_(r,a)}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.PopupCancelMsg,a=e.cancelOrderPoup,n=e.changeReason,r=e.cancel_reason,o=e.dispatch,i=e.createActions;return f.default.createElement("div",{onClick:function(){a({show:!1})}},t.show&&f.default.createElement(m.Shady,null),f.default.createElement("div",{"data-page":"order-cancel",className:"popup-total "+(t.show?"active":""),onClick:function(e){return e.stopPropagation()}},f.default.createElement("div",{className:"popup-top"},f.default.createElement("span",null,"取消订单"),f.default.createElement("i",{className:"close-nobg-icon",onClick:function(){a({show:!1}),o(i("changeReason",{reason:""}))}})),f.default.createElement(A,{changeReason:n,cancel_reason:r}),f.default.createElement(w,{cancel_reason:r,submitHandle:this.cancelSubmit,btnText:"确定"})))}}]),t}()},"8tH3":function(e,t,a){},"9fvt":function(e,t,a){},"9whv":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={errorState:!1,from:"",filterUpdate:!0,filterState:!0,windowHeight:0,goodHeight:1,load:!1,init:!1,isScroll:!0,isQuickSelect:!1,keyWord:"",param:{},searchType:"",searchData:"",currentPage:"",totalPage:"",brandsList:[],brandsOrderList:[],categoriesList:[],categoriesLevelList:[],correction:"",coupon:"",listStyle:2};function u(e,t){var a=i({},e.searchData,t);return i({},e,{searchData:a})}function d(e){for(var t=[],a=0;a<e.length;a++)t=t.concat(e[a].children);return t.sort(function(e,t){return t.count-e.count})}t.default=(0,l.default)("searchResult3",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"isError":return i({},e,{errorState:t.errorState});case"setFrom":return i({},e,{from:t.from});case"setFilterUpdate":return i({},e,{filterUpdate:t.filterUpdate});case"windowHeight":return i({},e,{windowHeight:t.windowHeight});case"goodHeight":return i({},e,{goodHeight:t.goodHeight});case"setInit":return i({},e,{init:t.init});case"setFilterState":return i({},e,{filterState:t.filterState});case"resetState":return i({},c,{keyWord:t.keyWord,searchType:t.searchType});case"setInitItem":return i({},e,{service:t.result.data.service||[],brandsList:t.result.data.brands?t.result.data.brands.list:[],brandsOrderList:t.result.data.brands?t.result.data.brands.alphabet:[],categoriesLevelList:t.result.data.categories||[],categoriesList:d(t.result.data.categories||[]),properties:t.result.data.properties||[],correction:t.result.data.correction,coupon:t.result.data.coupon});case"isLoad":return i({},e,{load:t.load});case"setData":return function(e,t,a){var n=(0,o.default)({},i({},e),{load:!0,goodsList:t.data.items});return a&&(n=(0,o.default)({},n,{service:t.data.service||[],brandsList:t.data.brands?t.data.brands.list:[],brandsOrderList:t.data.brands?t.data.brands.alphabet:[],categoriesList:d(t.data.categories||[]),categoriesLevelList:t.data.categories||[],properties:t.data.properties||[],correction:t.data.correction,coupon:t.data.coupon})),n}(e,t.result,t.filterUpdate);case"setSearch":return u(e,t.searchData);case"setSearchService":return function(e,t){var a=i({},e.searchData.service,t);return u(e,i({},e.searchData,{service:a}))}(e,t.service);case"setCorrection":return i({},e,{correction:t.correction});case"concatData":return function(e,t){return e.goodsList=e.goodsList.concat(t.data.items),e}(e,t.result);case"setCurrentPage":return i({},e,{currentPage:t.current});case"setTotalPage":return i({},e,{totalPage:t.total});case"changeListStyle":return i({},e,{listStyle:t.style});case"toggleQuickSelect":return i({},e,{isQuickSelect:t.isQuickSelect});default:return e}},c)},"AUk+":function(e,t,a){},DVFt:function(e,t){e.exports="data:image/png;base64,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"},E95e:function(e,t,a){"use strict";(function(e){var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p,f,m=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=(f=g)&&f.__esModule?f:{default:f},y=a("4n+p"),E=a("Zfgq"),b=a("d2xe"),_=a("f2Hk"),x=a("fw66"),k=a("qeJi");function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("SFZ9");var C={completion:{url:"/newapi/search/suggests",method:"get"},hot:{url:"/newapi/search/hots",method:"get"},placeHolder:{url:"/newapi/search/placeHolder",method:"get"}},S=(0,_.actionAxios)("searchIndex"),T=(0,_.concatPageAndType)("searchIndex"),M=(p=d=function(t){function a(t,o){A(this,a);var i=w(this,(a.__proto__||(0,r.default)(a)).call(this,t));return i.getTerraceHost=function(){var e="m";return navigator.userAgent.indexOf("51gjj")>-1?e="51af-m":"mall"==document.cookie.platform?e="m":"finance"==document.cookie.platform?e="jr-m":document.cookie.origin||(e="wx"),e},i.getLinkByTerrace=function(e){return e&&e.indexOf("tairanmallhost")>-1?e.replace("tairanmallhost",i.getTerraceHost()):e},i.searchSubmit=function(e,t,a){(e=void 0!==e?e.trim():"")?t?window.location.href=i.getLinkByTerrace(t):(i.addHistoryHandle(e),E.browserHistory.replace("/searchResult?key="+encodeURIComponent(e)+(a&&a.shop?"&shop="+a.shop:"")+(a&&a.coupon_id?"&coupon_id="+a.coupon_id:""))):i.props.dispatch(T("ctrlPrompt",{prompt:{show:!0,msg:"请输入搜索词"}}))},i.addHistoryHandle=function(e){if(!e)return!1;for(var t,a=i.props,r=a.searchHistory,o=a.dispatch,l=0;t=r[l++];)t.word===e&&r.splice(l-1,1);r.unshift({word:e}),r.length>20&&(r.length=20);var s=(0,n.default)(r);window.localStorage.setItem("searchHistory",s),o(T("historyCtrl",{history:r}))},i.clearHistory=function(){window.localStorage.removeItem("searchHistory"),i.props.dispatch(T("historyCtrl",{history:[]}))},i.searchHandle=function(e){i.props.dispatch(T("keyCtrl",{key:e})),""!==e.trim()?i.xhrHandle(i.deleteSpace(e)):i.props.dispatch(T("listCtrl",{list:[]}))},i.getList=function(){return i.props.compList&&i.props.compList.map(function(e,t){return v.default.createElement(O,{key:t,text:e.text,accurate:e.accurate,clickHandle:e.accurate?e.clickHandle:i.searchSubmit.bind(null,e.text)})})},i.deleteSpace=function(e){if("string"==typeof e){e=e.trim();for(var t="",a=0;a<e.length;a++)t+=" "==e[a]?"":e[a];return t}return e},i.searchBarMount=function(t){var a=i.deleteSpace(t);""!==a&&i.props.searchCompletion(a),setTimeout(function(){e(i.refs.search).focus()},0)},document.title="搜索",o.isApp&&(window.location.href="jsbridge://set_title?title=搜索"),i}return N(a,g.Component),h(a,[{key:"componentWillMount",value:function(){this.props.initialPage(),this.props.updateHot(),this.props.initPlaceHolder(),this.xhrHandle=(0,k.throttle)(this.props.searchCompletion)}},{key:"render",value:function(){var e=this.props,t=e.keyWord,a=e.param,n=e.placeHolder,r=e.searchHistory,o=e.hotList,i=e.prompt,l=e.promptClose,s=this.props.location.query,c=s.searchTitle,u=s.searchLink,d=c||u?{word:decodeURIComponent(c),link:decodeURIComponent(u||"")}:n;return v.default.createElement("div",{"data-page":"search-page",id:"searchPage"},v.default.createElement("div",{style:{borderBottom:"1px solid #e4e4e4"},className:"search-bar-grid"},v.default.createElement(b.SearchBarA,{ref:"search",onChange:this.searchHandle,value:t,param:a,isMount:this.searchBarMount.bind(null,t),onSearch:this.searchSubmit,placeHolder:d})),t?a.shop||a.coupon_id?"":v.default.createElement("div",{className:"search-list-grid"},v.default.createElement("div",{className:"search-list"},this.getList())):v.default.createElement("div",{className:"history-block"},v.default.createElement(I,{type:"history",data:r,param:a,clearHistory:this.clearHistory,searchKeyWord:this.searchSubmit}),v.default.createElement(I,{type:"hotWord",data:o,param:a,searchKeyWord:this.searchSubmit})),v.default.createElement(x.PopupTip,{active:i.show,msg:i.msg,onClose:l}))}}]),a}(),d.contextTypes={isApp:v.default.PropTypes.bool},p),I=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.data,n=e.searchKeyWord,r=e.param,o={history:{text:"历史搜索",del:!0},hotWord:{text:"热门搜索",del:!1}},i=a&&a.length?v.default.createElement("div",{className:"search-key"},a.slice(0,10).map(function(e,t){return v.default.createElement("div",{className:"grid-key",key:t,onClick:function(t){n(e.word,e.link,r)}},v.default.createElement("div",{className:e.active?"red-btn":"black-btn"},v.default.createElement("div",null,e.word)))})):v.default.createElement("div",{className:"no-history"},"暂无",o[t].text);return v.default.createElement("div",{className:"search-key-list c-clrfix"},v.default.createElement("h3",null,v.default.createElement("span",null,o[t].text),o[t].del&&v.default.createElement("i",{className:"delete-box-icon",onTouchTap:this.props.clearHistory}," ")),i)}}]),t}(),O=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.text,n=t.accurate;return v.default.createElement("div",{className:"list-one c-clrfix",onClick:function(){return e.props.clickHandle()}},v.default.createElement("div",{className:"c-fl c-dpb grid-left g-col-1"},a),n?v.default.createElement("div",{className:"c-fr c-dpb grid-right"},n,v.default.createElement("i",{className:"arrow-right-icon"}," ")):"")}}]),t}();t.default=(0,y.connect)(function(e,t){return m({},e.searchIndex)},function(e,t){return{dispatch:e,promptClose:function(){e(T("ctrlPrompt",{prompt:{show:!1,msg:""}}))},initialPage:function(){try{var t=window.localStorage.getItem("searchHistory");t&&(t=JSON.parse(t),e(T("historyCtrl",{history:t})))}catch(e){console.error(error)}},initPlaceHolder:function(){e(S("initPlaceHolder",C.placeHolder))},updateHot:function(){e(S("updateHot",C.hot))},searchCompletion:function(t){e(S("searchCpt",m({},C.completion,{params:{keyword:t}}),t))}}})(M)}).call(this,a("OOjC"))},FQO4:function(e,t,a){},FrhT:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(d=f)&&d.__esModule?d:{default:d},h=a("f2t5");a("zbGE");var g=(u=c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,f.Component),p(t,[{key:"componentWillMount",value:function(){document.title="下载引导",this.context.isApp&&(window.location.href="jsbridge://set_title?title=下载引导")}},{key:"componentDidMount",value:function(){window;var e=document,t=e.getElementById("weixinBrowserMask"),a=e.getElementById("downloadAppLink"),n="",r=(navigator.userAgent,!1),o=location.search.match(/redirect=([^&]*)/),i=(o=decodeURIComponent(o?o[1]:""))?"trmall://open_link_in_new_window?url="+(0,h.base64encode)((0,h.utf16to8)(o)):"trmall://main?page=home",l=(navigator.appVersion,function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}());(navigator.browserLanguage||navigator.language).toLowerCase();if(l.mobile){if("micromessenger"==(c=navigator.userAgent.toLowerCase()).match(/MicroMessenger/i)&&(t.style.display="block"),"weibo"==c.match(/WeiBo/i)&&(t.style.display="block"),c.indexOf("qq/")>-1&&(t.style.display="block"),l.ios&&(n="https://itunes.apple.com/us/app/%E6%B3%B0%E7%84%B6%E4%BA%AB%E8%B4%AD/id1341530533?l=zh&ls=1&mt=8"),l.android){var s=decodeURIComponent(location.search).match(/channel\s*=\s*([^&]*)/);s=s&&/^(yidianpromo|oppopromo|lepromo|stockpromo|wdzjpromo|xiaomipromo|broadcastpromo|youdaopromo|suocaibaopromo|huisuopingpromo|batterypromo|cleanpromo|kingsoftpromo|anmopromo|toutiaopromo|360promo|weixinpromo|weibopromo|ipinyoupromo|telecompromo|liebaopromo|spiderpromo|flowcomingpromo|meiyouecpro|quanmamaecpro|babytreeecpro|xiangtuiecpro|liebaoecpro|batdocecpro|fanliecpro|tashequecpro|gedengecpro|mojiecpro|baiduszecpro|zhihuituiecpro|gedecpro|youdaoecpro|360ecpro|ipinyouecpro|souhuecpro|toutiaoecpro)$/i.test(s[1])?"_"+s[1]:"",n="http://trmall-apk.oss-cn-beijing.aliyuncs.com/trmall.apk"}a.setAttribute("href",n)}else t.style.display="none";if(!r){var c;if(r=!0,(c=navigator.userAgent.toLowerCase()).indexOf("qq/")>-1||c.indexOf("safari")>-1&&(c.indexOf("os 9_")>-1||c.indexOf("os 10_")>-1)){var u=function(){var e;return window.CustomEvent?e=new window.CustomEvent("click",{canBubble:!0,cancelable:!0}):(e=document.createEvent("Event")).initEvent("click",!0,!0),e},d=document.getElementById("openAppLink");d.href=i,u(),d.dispatchEvent(u())}else{var p=this.refs.iframe;p.src=i,p.style.display="none"}setTimeout(function(){r=!1},2500)}}},{key:"render",value:function(){return m.default.createElement("div",{"data-page":"page-guid"},m.default.createElement("div",{className:"appGuide_body"},m.default.createElement("a",{id:"openAppLink",href:"",className:"hidden"}),m.default.createElement("img",{width:"100%",src:"/src/img/guide/guide_bg.png"}),m.default.createElement("div",{className:"appGuide_main"},m.default.createElement("div",{className:"appGuide_content"},m.default.createElement("div",{className:"app_download_btn"},m.default.createElement("a",{id:"downloadAppLink",href:"javascript:;"},m.default.createElement("img",{src:"/src/img/guide/guide_btn.png"}))))),m.default.createElement("div",{id:"weixinBrowserMask",className:"weixin-download-mask"},m.default.createElement("img",{width:"100%",height:"100%",src:"https://www.tairanmall.com/themes/wapmall/images/zhezhao.png"})),m.default.createElement("iframe",{style:{display:"none"},ref:"iframe"})))}}]),t}(),c.contextTypes={isApp:m.default.PropTypes.bool},u);t.default=g},Fx3O:function(e,t,a){"use strict";var n=c(a("mvHQ")),r=c(a("Zx67")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d,p=c(a("woOf")).default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=S(m),g=a("O27J"),v=(S(g),a("4n+p")),y=a("c9Fv"),E=S(a("4ufr")),b=a("Zfgq"),_=S(a("Vvlt")),x=S(a("OOjC")),k=a("gFN5"),A=S(a("mtWM")),w=a("nztU"),N=a("2uFj"),C=S(a("S33B"));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}a("fujM"),a("a6aF"),a("qrts"),a("w9wd"),a("ppyJ"),a("KKGn"),a("hKoQ").polyfill(),(0,C.default)();var M={uc_isLogin:{url:N.UCENTER+"/user"}};function I(e){for(var t,a={},n=document.cookie.split(";"),r=0;t=n[r++];){var o=t.split("=");a[o[0]&&o[0].trim()]=o[1]}return a[e]}x.default.ajaxSettings.cache=!1;var O={isApp:!!I("origin"),isLogin:!!I("token")
/*!!(getCookie("origin")==="ios"?
   (getCookie("platform")==="mall"&&!getCookie("token")?
   getCookie("trc_token")
   :
   getCookie("token")
   )
   :
   getCookie("token"))*/},D=(d=u=function(e){function t(){var e,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=o=T(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.getLogin=function(){var e=I("token");e?A.default.request(p({},M.uc_isLogin,{headers:{Authorization:"Bearer "+e}})).then(function(e){var t=e.data;"200"===t.code?(L(N.COLLECTURL,P,t.body.userId),t.body&&t.body.avatar&&((0,w.clearCookie)("user_avatar"),(0,w.setCookie)("user_avatar",(0,n.default)(t.body)))):L(N.COLLECTURL,P,"")}).catch(function(e){console.error(e)}):L(N.COLLECTURL,P,"")},T(o,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,m.Component),f(t,[{key:"getChildContext",value:function(){return{isLogin:O.isLogin,isApp:O.isApp}}},{key:"componentWillMount",value:function(){this.getLogin()}},{key:"render",value:function(){return h.default.createElement("section",{id:"wap-main"},this.props.children)}}]),t}(),u.childContextTypes={isApp:h.default.PropTypes.bool,isLogin:h.default.PropTypes.bool},d);function L(e,t,a){var n=document.getElementsByClassName("collect-name")[0];if(void 0!=n)n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=script.readyState||(n.onreadystatechange=null,t(a))}:n.onload=function(){t(a)};else{var r=document.createElement("script");r.type="text/javascript",r.className="collect-name",r.src=e,document.getElementsByTagName("head")[0].appendChild(r),r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t(a))}:r.onload=function(){t(a)}}}function P(e){sdk.storeUserId(e)}var H=(0,y.createStore)(_.default,{},(0,k.composeWithDevTools)((0,y.applyMiddleware)(E.default))),R={childRoutes:[{path:"/",component:D,indexRoute:{onEnter:function(e,t){return t("/searchResult")}},childRoutes:[{path:"tradeList/:status",getComponent:function(e,t){Promise.all([a.e(0),a.e(23)]).then(function(e){a("aR0x"),t(null,a("9F5X").default)}.bind(null,a)).catch(a.oe)}},{path:"logistics",getComponent:a("5PjB").default,onEnter:function(){document.title="订单跟踪"}},{path:"logisticDetail",getComponent:a("PhE9").default,onEnter:function(){document.title="物流详情"}},{path:"myGroupList/:status",getComponent:function(e,t){Promise.all([a.e(0),a.e(22)]).then(function(e){a("aR0x"),t(null,a("DR8t").default)}.bind(null,a)).catch(a.oe)}},{path:"/tradeDetail",component:a("hd3S").default},{path:"orderCancel",component:a("/o4W").default},{path:"/couponList",getComponent:function(e,t){Promise.all([a.e(0),a.e(21)]).then(function(e){a("aR0x"),t(null,a("scvn").default)}.bind(null,a)).catch(a.oe)}},{path:"/afterSale",component:a("c6H4").default,childRoutes:[{path:"list",component:a("Q2t0").default},{path:"apply",component:a("yxlI").default},{path:"detail",component:a("f831").default},{path:"logicompany",component:a("MX37").default,onEnter:function(){document.title="物流公司"}},{path:"consultrecord",component:a("zRnA").default,onEnter:function(){document.title="协商记录"}}]},{path:"/zeroBuyConfirm",component:a("VArI").default},{path:"/invoiceSelect",component:a("e2ZG").default},{path:"/rechargeCenter",component:a("G/H6").default},{path:"/cashier",component:a("NHlg").default},{path:"/payResult",component:a("lxKQ").default},{path:"/collect",component:a("2cQF").default},{path:"/zeroBuyChannel",getComponent:function(e,t){Promise.all([a.e(0),a.e(20)]).then(function(e){a("aR0x"),t(null,a("lWXV").default)}.bind(null,a)).catch(a.oe)}},{path:"/zeroBuyList",component:a("Lb6L").default},{path:"/selected",component:a("aXIh").default},{path:"/vipPage",getComponent:function(e,t){a.e(19).then(function(e){t(null,a("8oIK").default)}.bind(null,a)).catch(a.oe)}},{path:"/vipAgreement",component:a("s6sF").default},{path:"/vipPayOk",getComponent:a("aEJI").default,onEnter:function(){document.title="泰享会员支付成功"}},{path:"/luckyDraw",getComponent:a("+01O").default,onEnter:function(){document.title="幸运大转盘"}},{path:"/minusActivity",getComponent:function(e,t){a.e(18).then(function(){a("t/Wd"),t(null,a("MsUy").default)}.bind(null,a)).catch(a.oe)}},{path:"/discountActivity",getComponent:function(e,t){a.e(17).then(function(){a("t/Wd"),t(null,a("/h1L").default)}.bind(null,a)).catch(a.oe)}},{path:"/optionBuyActivity",getComponent:function(e,t){a.e(16).then(function(){a("t/Wd"),t(null,a("7sY8").default)}.bind(null,a)).catch(a.oe)}},{path:"/exchangeBuyActivity",getComponent:function(e,t){a.e(15).then(function(){a("t/Wd"),t(null,a("/pdE").default)}.bind(null,a)).catch(a.oe)}},{path:"/groupMall",getComponent:function(e,t){Promise.all([a.e(0),a.e(14)]).then(function(e){a("aR0x"),window.echo=a("6YRh"),t(null,a("VdCv").default)}.bind(null,a)).catch(a.oe)}},{path:"item",getComponent:function(e,t){Promise.all([a.e(0),a.e(13)]).then(function(e){a("aR0x"),a("t/Wd"),window.secCaptcha=a("4I33"),t(null,a("3fLG").default)}.bind(null,a)).catch(a.oe)}},{path:"/groupDetail",component:a("k9wu").default},{path:"pintuan-rules",component:a("56f2").default},{path:"search",component:a("E95e").default},{path:"qygSearch",component:a("02pt").default},{path:"searchResult",getComponent:function(e,t){Promise.all([a.e(1),a.e(2)]).then(function(e){window.IScroll=window.IScroll||a("dql1"),t(null,a("DOM9").default)}.bind(null,a)).catch(a.oe)}},{path:"evaluate",getComponent:function(e,t){Promise.all([a.e(0),a.e(12)]).then(function(e){a("aR0x"),t(null,a("qUDK").default)}.bind(null,a)).catch(a.oe)}},{path:"evaluateInput",component:a("KNzn").default},{path:"flashsale",getComponent:function(e,t){Promise.all([a.e(0),a.e(1),a.e(11)]).then(function(e){a("aR0x"),window.IScroll=a("dql1"),t(null,a("i5Jf").default)}.bind(null,a)).catch(a.oe)}},{path:"specialFlashSale",component:a("nlQv").default},{path:"/newUserGift",getComponent:function(e,t){Promise.all([a.e(0),a.e(10)]).then(function(e){a("aR0x"),t(null,a("9DMt").default)}.bind(null,a)).catch(a.oe)}},{path:"invitation",component:a("Vf+V").default},{path:"enterprise/register",getComponent:function(e,t){Promise.all([a.e(0),a.e(9)]).then(function(e){a("aR0x"),a("JINd"),t(null,a("OJxa").default)}.bind(null,a)).catch(a.oe)}},{path:"serviceContract",component:a("ySZt").default},{path:"guide",component:a("FrhT").default},{path:"loginTest",component:a("ybQ1").default},{path:"store/home",getComponent:function(e,t){Promise.all([a.e(0),a.e(1),a.e(2),a.e(8)]).then(function(e){window.IScroll=a("dql1"),a("aR0x"),t(null,a("L8n+").default)}.bind(null,a)).catch(a.oe)}},{path:"store/detail",component:a("V1dG").default},{path:"store/result",getComponent:function(e,t){Promise.all([a.e(1),a.e(7)]).then(function(e){window.IScroll=window.IScroll||a("dql1"),t(null,a("B80Q").default)}.bind(null,a)).catch(a.oe)}},{path:"identityExample",component:a("bzLZ").default}]}]};(0,g.render)(h.default.createElement(v.Provider,{store:H},h.default.createElement(b.Router,{history:b.browserHistory,routes:R})),document.getElementById("app"))},"G+/1":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NewModal=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=h(d),f=(a("daIj"),h(a("erxK"))),m=h(a("211U"));function h(e){return e&&e.__esModule?e:{default:e}}t.NewModal=(0,m.default)(f.default,{allowMultiple:!0})(c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"render",value:function(){var e=this.props.isOpen;return p.default.createElement("div",null,e?p.default.createElement("div",{styleName:"shady",onClick:this.props.onClose}):"",p.default.createElement("div",{styleName:"animationModal "+(e?"active":"")},this.props.title&&p.default.createElement("span",{styleName:"title"},this.props.title),p.default.createElement("span",{styleName:"closeBtn",onClick:this.props.onClose},p.default.createElement("i",null)),p.default.createElement("div",null,this.props.children)))}}]),t}())||c},"G/H6":function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=g(p),m=(g(a("O27J")),a("Zfgq"),g(a("fw66"))),h=a("d2xe");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("5a5J");var b=(u=c=function(t){function a(e){v(this,a);var t=y(this,(a.__proto__||(0,n.default)(a)).call(this,e));t.changeStatue=function(e){t.setState({status:e})};var r=e.location.query.ershouche;return t.state={update:!1,data:[],status:r?"oil":"phone",canGet:!0},t}return E(a,p.Component),d(a,[{key:"componentWillMount",value:function(){document.title="充值中心",window.location.href="jsbridge://set_title?title=充值中心"}},{key:"componentDidMount",value:function(){var t=this;e.ajax({url:"/originapi/order/charge/configure",type:"get",success:function(a){200===a.code?t.setState({data:a.list,update:!0}):(e(".more-click").css({display:"none"}),m.default.MsgTip({msg:"服务器繁忙"})),e(".recharge-btn").click(function(a){if(t.context.isLogin){if("recharge-btn"===e(this).attr("class")&&t.state.canGet){t.setState({canGet:!1});var n={};if("phone"===t.state.status){var r=e(".phone-number input").eq(0).val().replace(/\s/g,""),o=e(".hf-ll").attr("id"),i=parseInt(e(".phone-page .choose .amount").html());n={number:r,amount:1,name:("ll"===o?"data":"phone")+"_"+e(".phone-number .info").attr("id")+"_"+(1===i?"1024":2===i?"2048":i)}}else if("qb"===t.state.status){n={number:e(".qq-number input").eq(0).val(),amount:parseInt(e(".qb-box.choose").val()),name:"qbi_1"}}else if("oil"===t.state.status){n={number:e("#oil-num").val(),amount:1,name:"oil_"+e(".oCard.choose").attr("id")+"_"+e(".oil-page .choose .amount").html(),username:e("#user-name").val(),telephone:e(".card-msg .phone-number input").val().replace(/\s/g,"")}}e.ajax({url:"/originapi/order/create/charge",type:"get",data:n,success:function(e){!0===e.status?(m.default.MsgTip({msg:"下单成功，请前往支付"}),setTimeout(function(){window.location.href=e.redirect},300)):(m.default.MsgTip({msg:e.msg}),t.setState({canGet:!0}))},error:function(e){m.default.MsgTip({msg:"服务器繁忙"}),t.setState({canGet:!0})}})}}else window.location.href="trmall://to_login"})},error:function(e){m.default.MsgTip({msg:"服务器繁忙"})}})}},{key:"render",value:function(){var e=this.state,t=e.status,a=e.data;return this.state.update?f.default.createElement("div",{"data-page":"recharge"},f.default.createElement("section",{className:"c-pr",id:"recharge"},f.default.createElement(_,{fn:this.changeStatue,status:t}),f.default.createElement(x,{status:t,data:a}),f.default.createElement("button",{className:"recharge-btn disabled"},"立即充值"),f.default.createElement(I,null))):f.default.createElement(h.LoadingRound,null)}}]),a}(),c.contextTypes={store:f.default.PropTypes.object,isLogin:f.default.PropTypes.bool},u);t.default=b;var _=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var t=this;e(".recharge-nav li").click(function(a){var n=e(this).attr("id");t.props.fn(n),e(".input-number input").val(""),e(".recharge-btn").addClass("disabled"),e(".info").css({display:"none"}),e(".error").css({display:"none"})})}},{key:"render",value:function(){var e=this.props.status;return f.default.createElement("ul",{className:"recharge-nav c-fs15 c-c35 c-tc"},f.default.createElement("li",{className:"phone"===e?"active":"",id:"phone"},"话费&流量"),f.default.createElement("li",{className:"qb"===e?"active":"",id:"qb"},"Q币"),f.default.createElement("li",{className:"oil"===e?"active":"",id:"oil"},"加油卡"))}}]),a}(),x=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){e(this.refs.control).css({height:e(window).height()})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.status;return f.default.createElement("ul",{className:"control",ref:"control"},f.default.createElement("li",{className:"phone",style:{display:"phone"===a?"block":"none"}},f.default.createElement(k,{data:t})),f.default.createElement("li",{className:"qb",style:{display:"qb"===a?"block":"none"}},f.default.createElement(S,{data:t.qbi})),f.default.createElement("li",{className:"oil",style:{display:"oil"===a?"block":"none"}},f.default.createElement(D,{data:t})))}}]),a}(),k=function(t){function a(){var t,r,o;v(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=y(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.changeP=function(e){o.setState({pStatus:e}),o.findChoose()},o.changeO=function(e){o.setState({operator:e}),o.findChoose()},o.findChoose=function(){e(".phone-page .bill-box").removeClass("choose");var t=e(".phone-page .bill-box");t.length>=3?e(".phone-page .bill-box").eq(2).addClass("choose"):t.length<3&&e(".phone-page .bill-box").eq(t.length-1).addClass("choose")},y(o,r)}return E(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.props.data;this.setState({operator:"cm",totle:"0.00",pStatus:"hf"})}},{key:"componentDidMount",value:function(){var t=this;e(".phone-nav li").click(function(a){var n=e(this).attr("id");t.changeP(n)}),this.findChoose()}},{key:"render",value:function(){var e=this.props.data,t=this.state,a=t.operator,n=(t.totle,t.pStatus);return f.default.createElement("div",{className:"phone-page"},f.default.createElement(A,{numb:"phone-page",changeO:this.changeO,pStatus:n}),f.default.createElement(w,{pStatus:n}),f.default.createElement(N,{data:e[a],pStatus:n}),"hf"===n?"":f.default.createElement("p",{className:"c-tc c-cblue c-fs10"},"全国可用,即时生效,当月有效"))}}]),a}(),A=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.numb,n=t.fn,r=t.changeO,o={cm:"中国移动",cu:"中国联通",ct:"中国电信"},i="cm";e("."+a+" .phone-number input").on("input keyup change",function(t){var l=e(this).val();l=l.replace(/\s*/g,"");for(var s=[],c=0;c<l.length;c++)0==(c>3?(c-3)%4:c%3)&&0!=c?s.push(" "+l.charAt(c)):s.push(l.charAt(c));l=s.join(""),e(this).val(l),l.length>=13?e(this).val(l.substring(0,13)):(e(this).next().next().css({display:"none"}),e(this).next().css({display:"inline"}));var u=/^((13[4-9]|15[0-2]|15[7-9]|188|187|147|18[2-4]|178)|(13[0-2]|15[56]|18[56]|145|17[56])|(133|153|189|18[01]|177|149|173|170))\s*\d{4}\s*\d{4}$/.exec(l);u?(i=u[2]?"cm":u[3]?"cu":"ct",e(this).next().css({display:"none"}),e(this).next().next().css({display:"inline"}).attr({id:i}).html(o[i]),"phone-page"===a?(e(".recharge-btn").removeClass("disabled"),r(i)):n(!0)):"phone-page"===a?e(".recharge-btn").addClass("disabled"):n(!1)}),e("."+a+" .get-num").click(function(t){var l=e(this).prev().prev().prev(),s=e(this);window.onContactResult=function(t){var c=t.substring(0,3)+" "+t.substring(3,7)+" "+t.substring(7);c.length>=13?c=c.substring(0,13):s.prev().prev().css({display:"inline"}),l.val(c);var u=/^((13[4-9]|15[0-2]|15[7-9]|188|187|147|18[2-4]|178)|(13[0-2]|15[56]|18[56]|145|17[56])|(133|153|189|18[01]|177|149|173|170))\s*\d{4}\s*\d{4}$/.exec(c);u?(i=u[2]?"cm":u[3]?"cu":"ct",s.prev().prev().css({display:"none"}),s.prev().css({display:"inline"}).attr({id:i}).html(o[i]),"phone-page"===a?(e(".recharge-btn").removeClass("disabled"),r(i)):n(!0)):"phone-page"===a?e(".recharge-btn").addClass("disabled"):n(!1)},location.href="jsbridge://getContactPhoneNum"})}},{key:"render",value:function(){return f.default.createElement("div",{className:"input-number phone-number"},f.default.createElement("input",{type:"tel",placeholder:"请输入手机号码"}),f.default.createElement("span",{className:"error"}," 请输入正确的手机号码"),f.default.createElement("span",{className:"info"}),f.default.createElement("img",{className:"get-num",src:"/src/img/evaluate/mail-list.png"}))}}]),a}(),w=function(e){function t(){return v(this,t),y(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return E(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.pStatus;return f.default.createElement("ul",{className:"phone-nav"},f.default.createElement("div",{style:{height:"10px",background:"#f4f4f4",marginBottom:"10px"}}),f.default.createElement("li",{id:"hf",className:"hf"===e?"c-cblue hf-ll":""},"话费"),f.default.createElement("li",{id:"ll",className:"ll"===e?"c-cblue hf-ll":"",style:{border:"none"}},"流量"))}}]),t}(),N=function(e){function t(){return v(this,t),y(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return E(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.pStatus,n=[],r=[],o="";if(t[a]){for(var i in t[a])n.push(i),r.push(t[a][i]);o=n.map(function(e,t){return f.default.createElement(C,{key:t,oldPrice:e,price:r[t],pStatus:a})})}return f.default.createElement("div",{className:"bill c-clrfix",ref:"llp"},o)}}]),t}(),C=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){e(".bill-box").click(function(t){e(this).addClass("choose").parent().siblings().children().removeClass("choose");e(this).find(".price").html()})}},{key:"render",value:function(){var e=this.props,t=e.oldPrice,a=e.price,n=e.pStatus;return f.default.createElement("div",{className:"each-bill c-fl c-tc"},f.default.createElement("div",{className:"bill-box"},f.default.createElement("p",{className:"c-fs20 c-c35"},f.default.createElement("span",{className:"amount"},"1024"==t?"1":"2048"==t?"2":t),"hf"===n?"元":"1024"==t||"2048"==t?"G":"M"),f.default.createElement("p",{className:"c-fs10 c-c80"},"售价",f.default.createElement("span",{className:"price"},a),"元")))}}]),a}(),S=function(e){function t(){return v(this,t),y(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return E(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data;return f.default.createElement("div",{className:"qb-page",ref:"qbPage"},f.default.createElement(M,null),f.default.createElement("div",{style:{height:"10px",background:"#f4f4f4",marginBottom:"10px"}}),f.default.createElement(T,{data:e}),"","",f.default.createElement("div",{className:"c-tc c-cc9",style:{paddingTop:"10px"}},f.default.createElement("p",null,"请认真核对号码，充值完成后将无法办理退款"),f.default.createElement("p",null,"小于18周岁不能进行网络游戏虚拟货品交易")))}}]),t}(),T=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentWillMount",value:function(){var e=this.props.data;this.setState({price:e[1],mount:1})}},{key:"componentDidMount",value:function(){var t=this;e(".qb-qb input").on("input keyup change",function(a){var n=e(this).val();(n=n.replace(/[^0-9]/g,""))>100&&(n=n.substring(0,n.length-1)),e(this).val(n),t.setState({mount:n})}).focus(function(a){""===e(this).val()&&t.setState({mount:0})}),e("input.qb-box").click(function(a){e(this).addClass("choose").siblings().removeClass("choose");var n=e(this).val()?parseInt(e(this).val()):0;t.setState({mount:n})})}},{key:"render",value:function(){var e=this.state,t=e.price,a=e.mount;return f.default.createElement("div",{className:"qb-qb"},f.default.createElement("div",{className:"c-fs14 c-c35",style:{lineHeight:"44px"}},"充值面额"),f.default.createElement("div",{className:"c-clrfix c-mb10",style:{width:"100%"}},f.default.createElement("input",{type:"number",className:"qb-box c-fs20 choose",value:"1",readOnly:!0}),f.default.createElement("input",{className:"qb-box",type:"number",placeholder:"其它数额"})),f.default.createElement("div",{className:"c-fs14 c-cblue"},"优惠价： ¥ ",f.default.createElement("span",{style:{fontSize:"25px"},className:"amount",id:a},100*parseFloat(t)*a/100)))}}]),a}(),M=function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){e(".qq-number input").on("input",function(t){var a=e(this).val();/^\d{5,15}$/.test(a)?(e(this).next().css({display:"none"}),e(".recharge-btn").removeClass("disabled")):(e(this).next().css({display:"block"}),e(".recharge-btn").addClass("disabled"))})}},{key:"render",value:function(){return f.default.createElement("div",{className:"input-number qq-number"},f.default.createElement("input",{type:"number",placeholder:"请输入qq号码"}),f.default.createElement("span",{className:"error"}," 请输入正确的qq号码"))}}]),a}(),I=(function(t){function a(){return v(this,a),y(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){e(".miane").click(function(t){e(".cover-box").css({height:"100%"}),e(".bottom-box").addClass("box-up")})}},{key:"render",value:function(){return f.default.createElement("ul",{className:"type c-fs15 c-mb20"},f.default.createElement("li",null,"充值类型",f.default.createElement("span",{className:"c-fr c-c80"},"Q币")),f.default.createElement("li",{className:"miane"},"充值面额",f.default.createElement("span",{className:"c-fr c-c80"},"1 Q币")))}}])}(),function(t){function a(){var t,r,o;v(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=y(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.closeBox=function(){e(".bottom-box").removeClass("box-up"),e(".cover-box").css({height:"0"})},y(o,r)}return E(a,p.Component),d(a,[{key:"render",value:function(){return f.default.createElement("div",{className:"cover-box"},f.default.createElement("div",{className:"bottom-box"},f.default.createElement("img",{onClick:this.closeBox,src:"src/img/logistics/del.png"}),f.default.createElement("div",{className:"specs",style:{padding:"0 2% 0"}},f.default.createElement(O,null))))}}]),a}()),O=function(t){function a(){var t,r,o;v(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=y(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.closeBox=function(){e(".bottom-box").removeClass("box-up"),e(".cover-box").css({height:"0"})},y(o,r)}return E(a,p.Component),d(a,[{key:"render",value:function(){return f.default.createElement("div",{className:"each-spec c-fl c-tc"},f.default.createElement("div",{onClick:this.closeBox,className:"choose each c-tc c-fs14"},"1 Q币"))}}]),a}(),D=function(t){function a(){var t,r,o;v(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=y(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.findChoose=function(){e(".oil-page .bill-box").removeClass("choose");var t=e(".oil-page .bill-box"),a=t.length,n=!1;if(a)for(var r=0;r<a;r++)"500"==t.eq(r).find(".amount").html()&&(n=!0,t.eq(r).addClass("choose"));!n&&a&&t.eq(t.length-1).addClass("choose")},y(o,r)}return E(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.setState({oilName:"sin"})}},{key:"componentDidMount",value:function(){this.findChoose();var t=this;e(".oCard").click(function(a){var n=e(this).attr("id");t.setState({oilName:n}),t.findChoose(),e(".oil-page input").val(""),e(".oil-page .error").css({display:"none"}),e(".oil-page .info").css({display:"none"})})}},{key:"render",value:function(){var e=this.props.data,t=this.state.oilName;return f.default.createElement("div",{className:"oil-page",ref:"oil"},f.default.createElement("div",{className:"kinds"},f.default.createElement("div",{id:"sin",className:"oCard c-fl c-pr "+("sin"===t?"choose":"")},f.default.createElement("img",{src:"src/img/logistics/logo.png"}),f.default.createElement("p",{className:"c-fs14"},"中国石化"),f.default.createElement("p",{className:"c-c999"},"为加油卡充值"),f.default.createElement("img",{className:"gou",src:"src/img/logistics/gou.png"})),f.default.createElement("div",{id:"cn",className:"oCard c-fr c-pr "+("cn"===t?"choose":"")},f.default.createElement("img",{src:"src/img/logistics/logo2.png"}),f.default.createElement("p",{className:"c-fs14"},"中国石油"),f.default.createElement("p",{className:"c-c999"},"为加油卡充值"),f.default.createElement("img",{className:"gou",src:"src/img/logistics/gou.png"}))),f.default.createElement(L,{oilName:t}),f.default.createElement(P,{data:e,oilName:t}),f.default.createElement("p",{className:"c-tc c-fs10"},"支付即表示同意",f.default.createElement("a",{className:"c-cblue",style:{textDecoration:"underline"},href:"https://www.tairanmall.com/wap/content-info.html?article_id=103"},"《中国石化/石油加油卡客户网上充值协议》")))}}]),a}(),L=function(t){function a(){var e,t,r;v(this,a);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=r=y(this,(e=a.__proto__||(0,n.default)(a)).call.apply(e,[this].concat(i))),r.changeMsg2=function(e){r.setState({msg2:e})},y(r,t)}return E(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.setState({msg1:!1,msg2:!1,msg3:!1})}},{key:"componentDidMount",value:function(){var t=this;e("#oil-num").on("input keyup",function(a){var n=e(this).val();if("sin"===t.props.oilName){n.length>=19&&e(this).val(n.substring(0,19)),/^100011\d{13}$/.test(n)?(e(this).next().css({display:"none"}),t.setState({msg1:!0})):(e(this).next().css({display:"inline"}),t.setState({msg1:!1}))}else{n.length>=16&&e(this).val(n.substring(0,16)),/^9\d{15}$/.test(n)?(e(this).next().css({display:"none"}),t.setState({msg1:!0})):(e(this).next().css({display:"inline"}),t.setState({msg1:!1}))}}),e("#user-name").on("input keyup",function(a){var n=e(this).val();/^[\u4E00-\u9FA5]|[0-9a-zA-Z]+(·[\u4E00-\u9FA5]+)*$/.test(n)?(e(this).next().css({display:"none"}),t.setState({msg3:!0})):(e(this).next().css({display:"inline"}),t.setState({msg3:!1}))}),e(".card-msg input").on("input",function(a){var n=t.state,r=n.msg1,o=n.msg2,i=n.msg3;r&&o&&i?e(".recharge-btn").removeClass("disabled"):e(".recharge-btn").addClass("disabled")})}},{key:"render",value:function(){var e=this.props.oilName;return f.default.createElement("div",{className:"card-msg"},f.default.createElement("div",{className:"input-number sin"},f.default.createElement("input",{id:"oil-num",type:"number",placeholder:"sin"===e?"请输入19位油卡":"请输入16位油卡"}),f.default.createElement("span",{className:"error"}," 请输入正确的油卡号码")),f.default.createElement(A,{fn:this.changeMsg2,numb:"card-msg"}),f.default.createElement("div",{className:"input-number",style:{borderTop:"1px solid #e4e4e4"}},f.default.createElement("input",{id:"user-name",maxLength:"10",type:"text",placeholder:"请输入持卡人姓名"}),f.default.createElement("span",{className:"error"}," 请输入正确的姓名")))}}]),a}(),P=function(e){function t(){return v(this,t),y(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return E(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=[],n=[],r="",o="sin"===e.oilName?t.sin.oil:t.cn.oil;if(o){for(var i in o)o[i]&&(a.push(i),n.push(o[i]));r=a.map(function(e,t){return f.default.createElement(C,{key:t,choose:!t,oldPrice:e,price:n[t],pStatus:"hf"})})}return f.default.createElement("div",{className:"bill c-clrfix"},r)}}]),t}()}).call(this,a("OOjC"))},G2PN:function(e,t,a){},GHKy:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments[1];return new RegExp("^"+e+"_","g").test(r.type)?t(n,i({},r,{type:r.type.slice(e.length+1)})):n}}},GbiI:function(e,t,a){"use strict";var n=i(a("mvHQ")),r=i(a("fZjL")),o=i(a("woOf"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=c(a("GHKy"));c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={updata:!1,status:!1,mixStatus:!1,rateStatus:!1,recommendStatus:!1,proStatus:!1,cartInfoStatus:!1,data:{},mix:{},promotion:{},itemRules:{},rate:{},recommend:{},cartNum:{},promotionData:{},itemId:"",weight:"",promotionModal:!1,couponsModal:!1,searverModal:!1,buyModal:!1,buyActive:null,scrollHeight:0,areaData:{area:"",areaCode:"",addressData:""},retState:{flag:!1,selectArr:[],specKey:[]},firstT:0,returnT:0,intervalT:0};function d(e,t){var a=function(e){var t=e.info.skus,a=[],n=[],r=void 0;if(e.activity_type)return;for(var o in t)t[o].business&&(a.push(parseFloat(t[o].business[0].sell_price)),n.push(t[o].business[0]));a.length>1&&(a=a.sort(function(e,t){return e-t}));for(var i=0;i<n.length;i++)if(a[0]===parseFloat(n[i].sell_price)){r=n[i];break}return r}(e.data),n={flag:!0,nowSku:{},newData:function(e){var t=e.info.skus;return(0,r.default)(t).map(function(e,a){var n=e.split("_"),r=t[e];return{ids:n,skus:r}})}(e.data),selectArr:[],specKey:[],storeNum:e.data.realStore,nowPrice:function(e){var t=e.info.skus,a=[],n=[],r=void 0;for(var o in t)if(t[o].business&&!e.activity_type){var i={};a.push(parseFloat(parseFloat(t[o].business[0].sell_price).toFixed(2))),i.price1=t[o].business[0].sell_price,i.price2=t[o].price,i.num=t[o].business[0].threshold,n.push(i)}else a.push(parseFloat(parseFloat(t[o].price).toFixed(2)));a.length>1?(a=a.sort(function(e,t){return e-t}),r=n.length>0?n.filter(function(e){return e.price1==a[0]})[0].price2:"FlashSale"===e.activity_type||"SecKill"===e.activity_type||e.groupBuy?a[0]:a[0]!==a[a.length-1]?a[0]+"-"+a[a.length-1]:a[0]):r=1===n.length?"1"===n[0].num?n[0].price1:n[0].price2:a[0];return r}(e.data),groupPrice:e.data.groupBuy&&e.data.promotion[0].rules.group_price,num:1,business:a},o=l({},t.retState,n);return l({},t,{promotion:e.data,proStatus:!0,retState:o,promotionData:function(e){var t=e.promotion,a=e.activity_type,n={};return t.some(function(e,t){e.type!==a||(n[e.type]=e)}),n}(e.data)})}t.default=(0,s.default)("itemIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],a=void 0,r=void 0;switch(t.type){case"initAndClearData":return u;case"changeStatus":return l({},e,{updata:t.updata,status:t.status});case"initData":return a={itemId:t.itemId,weight:t.data.weight},r=l({},e.retState,a),l({},e,{data:t.data,status:t.status,updata:t.updata,retState:r});case"mixDataSuccess":return function(e,t){var a=e.addrList,r=[];if(a.recent_addr.length>0){var o=a.recent_addr[0].area,i=o.province,s=o.city,c=o.district;r.push(i.code),r.push(s.code),c.code&&r.push(c.code),a.recent_addr[0].address_id=a.recent_addr[0].id}else if(a.default_addr.area){var u=a.default_addr.area,d=u.province,p=u.city,f=u.district;r.push(d.code),r.push(p.code),f.code&&r.push(f.code),a.default_addr.address_id=a.default_addr.id}else r=["330000","330100"];var m={area:a.recent_addr[0]&&a.recent_addr[0].detail_address||a.default_addr.detail_address||"杭州市滨江区",areaCode:r,addressData:a.recent_addr[0]||a.default_addr||{area:{district:{code:"330108",text:"滨江区"},province:{code:"330000",text:"浙江省"},city:{code:"330100",text:"杭州市"}},detail_address:"浙江省杭州市滨江区"}};return window.sessionStorage.setItem("areaData",(0,n.default)(m.addressData)),l({},t,{mix:e,mixStatus:!0,areaData:m})}(t.result.data,e);case"promotionDataSuccess":return d(t.result,e);case"rateDataSuccess":return l({},e,{rate:t.result.data,rateStatus:!0});case"recommendDataSuccess":return l({},e,{recommend:t.result.data,recommendStatus:!0});case"cartInfoDataSuccess":return l({},e,{cartNum:t.result.data.count,cartInfoStatus:!0});case"initState":return l({},e,{retState:t.ret});case"promotionBackFlag":return l({},e,{promotionModal:!0});case"goScrollHeght":return l({},e,{scrollHeight:t.height,loginBack:"loginBack"});case"changePromotionModal":return l({},e,{promotionModal:t.flag});case"couponsBackFlag":return l({},e,{couponsModal:!0});case"changeCouponsModal":return l({},e,{couponsModal:t.flag});case"changeSearverModal":return l({},e,{searverModal:t.flag});case"changeAreaData":var o=l({},e.areaData,t.areaData);return window.sessionStorage.setItem("areaData",(0,n.default)(o.addressData)),l({},e,{areaData:o});case"updateBuyModal":return l({},e,t);case"updateCartInfo":return l({},e,{cartNum:t.count});case"UpdataTimer":return function(e,t){var a=t.intervalT;return e.T2&&(a=e.T2-e.T1),l({},t,{firstT:e.T1,returnT:e.T2,intervalT:a})}(t,e);default:return e}},u)},Hprb:function(e,t,a){},I9zo:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={userInfo:{},orderNum:{},couponNum:0,couponUpdate:!1};t.default=(0,l.default)("personCenter",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"getUserInfo":return i({},e,{userInfo:t.data});case"getOrderNum":return i({},e,{orderNum:t.data});case"getCouponNum":return i({},e,{couponNum:t.num,couponUpdate:!e.couponUpdate});default:return e}},s)},Je0Q:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAlCAMAAAADS4u8AAABgFBMVEVMaXH///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9Vs+HuAAAAf3RSTlMAAwoJ89sB/AbD8tcoDIcVuf0jcXTw9eJVpWCor3WtIL57gklUSiUEz+j+1mJc52cSlDCfp2UYN/apEwiubAIeId7xIhYX738O0Ljm+vfkWZf40jpSyjSQtapmcqbOzU3pc/RPYzFwM+rlH+PI2iRRG9jT3b8dx8Aa0VCjfL37O9g1/gAAAdFJREFUGBmNwYV24gAARcEHBJLgUHd3d9+6u7fr7u5+f32zPRwKlAIzSvAcnZ4d2+cNJ0o6aTi3j89OjzxKFVotIeFg1yeHb/eAhIXVkJKaOnD4A959HBtL0vIGjr87AT+O3iYl3DThVU1ckutwbxvm38bnYX/v0CUpXlMGZp8ulHdiNnqUUGeD1wt2nRI8jSad5XLMLmA265JVhaPK0qVmE/+spCooUirLBttSqqcwIS3GeO1TmkhZWURpfF+JxdUA75Rh8Iky/ITfqsfwKK8pgz/qpV4FqGdTW1SoABVsaZxpFaCWbb1hXQVYx6thYv3KazLGL1XCjPKagXKtrRBwKQ9XgJU1KQzdyqMbwpJGDTr6ldPkfYxROYqgQjndhiL913YHHiuHEbjbpgtBg9IxXWtsHCOohB7Y/KJrLD6HHiWFwRtRVhEvhHXJVws/lpTF8keo9SmFFYXAd13x/gNELaVxfwPvS2Wo+wSf3crgjsLOoNI8ewFRt66wpsG4pxSPHkK1pSxcA2DeUlKxCQMuZVdswnBIF0ITYD7QtVpKoCsoR7ALSlqUQ2s7lI5IfaXQ3qqc3ENAdTUwNKV8Kv04/JUqwJwN9pwKcqO45oau+gdqzH7a3wYHpgAAAABJRU5ErkJggg=="},JmOZ:function(e,t,a){"use strict";(function(e){var n=d(a("fZjL")),r=d(a("Zx67")),o=d(a("gRE1")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createChooseSpec=t.createBuyAction=t.Buy=t.BuyModal=t.ExpectTax=t.Specs=t.BuyModalButton=t.BuyModalTitle=t.ToCart=t.Collect=t.GoodsDetail=t.ShopArea=t.RecommendArea=t.EvaluateAreaContents=t.EvaluateArea=t.SeverArea=t.CouponWrap=t.PromotionWrap=t.ActiveArea=t.Tag=t.GoodsTit=t.Price=t.PriceArea=t.ScrollImageState=t.ItemNav=t.CouponType=t.PromotionInfo=t.Action=void 0;var p,f,m,h,g,v,y=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.rangePrice=G,t.getBusinessNotice=J,t.chooseSpec=Q,t.judgeBusiness=V,t.scaleImg=K,t.FreePostage=ne,t.promotionState=ce,t.promotionDispatch=ue,t.couponsState=me,t.couponsDispatch=he,t.addState=be,t.addDispatch=_e,t.searverState=Ae,t.searverDispatch=we;var b=a("U7vG"),_=L(b),x=L(a("O27J")),k=a("4n+p"),A=(L(a("BYKG")),a("Zfgq")),w=a("rsfq"),N=a("f2t5"),C=a("f2Hk"),S=a("d2xe"),T=a("0p2n"),M=a("fw66"),I=a("G+/1"),O=a("daIj"),D=a("2uFj");function L(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}(0,C.actionAxios)("itemIndex");var z=(0,C.concatPageAndType)("itemIndex"),B=void 0,j=void 0,F=t.Action=(0,w.createAction)({toCart:{url:D.MALLAPI+"/cart/add",method:"post"},DelFav:{url:D.MALLAPI+"/user/removeItemCollection",method:"get"},Fav:{url:D.MALLAPI+"/user/saveItemCollection",method:"post"},GetCoupon:{url:D.MALLAPI+"/promotion/obtainCoupon",method:"post"},recommendItem:{url:D.MALLAPI+"/recommendItem.api",method:"get"},checkGroupBuy:{url:D.MALLAPI+"/promotion/checkGroupBuy",method:"post"}}),U=t.PromotionInfo={DirectReduction:{getValue:function(e){var t=e.itemdata,a=e.deductPrice,n=t.deduct_price;return _.default.createElement("span",null,"直降",parseFloat(a||n),"元 ")},getTagName:"直降"},SecKill:{getValue:function(e){return _.default.createElement("span",null,"限时秒杀,每个ID限购",e.itemdata.rules.user_buy_limit,"件")},getTagName:"秒杀"},FlashSale:{getValue:function(e){return _.default.createElement("span",null,"限时特卖正在火热抢购中...")},getTagName:"特卖"},FullMinus:{link:function(e){return"/minusActivity?promotion_id="+e.promotion_id+"&shop_id="+e.shop_id},getValue:function(e){var t=e.itemdata,a=t.rules.rule.map(function(e,a){return"满"+e.limit_money+"减"+e.deduct_money+(a!==t.rules.rule.length-1?";":"")});return t.rules.no_capped&&a.push(";上不封顶"),_.default.createElement("ul",{className:"full-cut-list c-fl"},_.default.createElement("li",{className:"minus-full-activity"},a.join("")))},name:"fullminus",getTagName:"满减"},FullDiscount:{link:function(e){return"/discountActivity?promotion_id="+e.promotion_id+"&shop_id="+e.shop_id},getValue:function(e){var t=e.itemdata.rules;return _.default.createElement("ul",{className:"full-cut-list c-fl"},_.default.createElement("li",{className:"minus-full-activity"},t.map(function(e,a){return e.full+"件"+e.percent/10+"折"+(a!==t.length-1?";":"")}).join(""),";"))},getTagName:"满折"},OptionBuy:{link:function(e){return"/optionBuyActivity?promotion_id="+e.promotion_id+"&shop_id="+e.shop_id},getValue:function(e){var t=e.itemdata;return _.default.createElement("span",{className:"option-buy"},t.rules.amount+"元任选"+t.rules.quantity+"件")},getTagName:"N元任选"},ExchangeBuy:{getValue:function(e){var t=e.itemdata;return e.flag?_.default.createElement("a",{href:"/exchangeBuy?promotion_id="+t.promotion_id+"&shop_id="+t.shop_id},_.default.createElement("span",null,"满",t.rules.rule.exchange_full,"元加价可在购物袋换购热销商品"),_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))):_.default.createElement("span",null,"满",t.rules.rule.exchange_full,"元加价可在购物袋换购热销商品")},getTagName:"加价换购"},GiftBuy:{getValue:function(e){if(e.flag){var t=[];(0,o.default)(e.itemdata.subItems).forEach(function(e,a){for(var n in e)t.push(e[n])});var a=t.map(function(e,t){return _.default.createElement("li",{key:t},_.default.createElement("span",{className:"title"},"赠品",t+1),_.default.createElement("a",{href:"/item?item_id="+e.item_id},_.default.createElement("span",{className:"image"},_.default.createElement("img",{src:"open"===e.subItemStatus?e.primary_image:"/src/img/item/no-item.png"})),_.default.createElement("i",null,"×",e.giftNum)))});return _.default.createElement("div",{className:"gift-title"},_.default.createElement("p",{className:"gift-p"},"购买可获赠热销商品，赠完为止"),_.default.createElement("div",{className:"gift-wrapper"},_.default.createElement("ul",{className:"gift-buy"},_.default.createElement("div",{className:"wrapper"},a))))}return _.default.createElement("div",{className:"gift-title",style:{display:"inline-block"}},_.default.createElement("p",{style:{display:"inline-block",lineHeight:"28px"}},"购买可获赠热销商品，赠完为止"))},getTagName:"赠品"},default:function(){return null}},q={Good:"好评!",Bad:"差评!",Neutral:"中评!"};function Z(t){var a=Math.abs(e(window).scrollTop()||e("#item-details")[0]&&-e("#item-details")[0].offsetTop||Z.disTop);t&&e("#item-details")[0]?(Z.disTop=a,e("#item-details").css({position:"fixed",top:-a,width:"100%"})):(e("#item-details").css({position:"static",top:""}),e(window).scrollTop(Z.disTop||0))}function G(e,t){var a=e.info.skus,n=[],r=[],o=void 0;for(var i in a)if(t)if(a[i].business&&!e.activity_type){var l={};n.push(parseFloat(parseFloat(a[i].business[0].sell_price).toFixed(2))),l.price1=a[i].business[0].sell_price,l.price2=a[i].price,r.push(l)}else n.push(parseFloat(parseFloat(a[i].price).toFixed(2)));else if(a[i].business&&!e.activity_type){var s={};n.push(parseFloat(parseFloat(a[i].business[0].sell_price).toFixed(2))),s.price1=a[i].business[0].sell_price,s.price2=a[i].market_price,r.push(s)}else n.push(parseFloat(parseFloat(a[i].market_price).toFixed(2)));return n.length>1?(n=n.sort(function(e,t){return e-t}),o=r.length>0?r.filter(function(e){return e.price1==n[0]})[0].price2:"FlashSale"===e.activity_type||"SecKill"===e.activity_type||e.groupBuy?n[0]:n[0]!==n[n.length-1]?n[0]+"-"+n[n.length-1]:n[0]):o=n[0],o}function J(e){var t=e.info.skus,a=[],n=[],r=void 0;if(!e.activity_type){for(var o in t)t[o].business&&(a.push(parseFloat(t[o].business[0].sell_price)),n.push(t[o].business[0]));a.length>1&&(a=a.sort(function(e,t){return e-t}));for(var i=0;i<n.length;i++)if(a[0]===parseFloat(n[i].sell_price)){r=n[i];break}return r}}function Q(e,t){var a=e.specKey,n=e.selectArr,r=[],o=void 0;return a&&a.map(function(e,a){o=t[e].values.filter(function(e,t){return e.spec_value_id==n[a]}),r.push(_.default.createElement("span",{key:e},o[0].text," "))}),r}function V(e,t){return!(!e.marks||!e.marks.business||t.activity_type)&&e.marks.business[0]}function K(t,a,n){var r=n.newTime,o=n.oldTime,i=n.enlarge,l=n.relativeX,s=n.relativeY,c=n.x1,u=n.x2,d=n.y1,p=n.startX,f=n.endX,m=n.wid,h=(n.hei,n.lef),g=n.to,v=n.timerScale,y=n.self;n.isLarge;e(t+" img").on("touchstart",function(n){n.preventDefault();var E=n.target;clearTimeout(v),c=n.touches[0].pageX,d=n.touches[0].pageY-e(t).offset().top,2==n.touches.length&&(u=n.touches[1].pageX,p=Math.abs(c-u),m=E.width,E.height,h=E.offsetLeft,g=E.offsetTop-e(window).scrollTop()),l=c-E.offsetLeft,s=n.touches[0].pageY-E.offsetTop,o=r,r=(new Date).getTime(),v=setTimeout(function(){r-o>300?(y.setState({isLarge:!1}),i=!1,r=0,e(E).css({width:"100%",top:0,left:0,right:0,bottom:0,position:"absolute"}),a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev()):!1===i?(e(E).css({width:"200%",top:-d,left:-c,position:"absolute"}),a&&a.lockSwipeToNext(),a&&a.lockSwipeToPrev(),i=!0):(e(E).css({width:"100%",top:0,left:0,right:0,bottom:0,position:"absolute"}),a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev(),i=!1)},300);var b=function(t){if(t.preventDefault(),1==t.targetTouches.length){var n=t.targetTouches[0];i&&(e(E).css({margin:0}),e(E).css({left:n.pageX-l}),e(E).css({top:n.pageY-s})),Math.abs(n.pageX-c)>2&&clearTimeout(v)}else if(2==t.targetTouches.length){clearTimeout(v);var r=t.targetTouches[0],o=t.targetTouches[1];f=Math.abs(r.pageX-o.pageX);var u=m+(f-p),d=e(window).width();(u=(u=u>2*d?2*d:u)<d?d:u)>d?(e(E).css({margin:0}),i=!0,a&&a.lockSwipeToNext(),a&&a.lockSwipeToPrev()):(i=!1,a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev()),e(E).css({width:u+"px",left:h-(f-p)/2,top:g-(f-p)/2})}};E.addEventListener("touchmove",b,!1),e(E).on("touchend",function(t){E.removeEventListener("touchmove",b,!1),E.width==e(window).width()&&e(E).css({width:"100%",top:0,left:0,right:0,bottom:0,position:"absolute"})})})}var W=t.CouponType={text:function(e){return e.apply_text},title:function(e){return"0"===e.type?"店铺券":"1"===e.type?"跨店券":"2"===e.type?"平台券":"3"===e.type?"红包抵用券":"免单券"}},Y=t.ItemNav=function(t){function a(t){P(this,a);var n=H(this,(a.__proto__||(0,r.default)(a)).call(this,t));return n.scrollEvent=function(){var t=n.state.ratio;window.removeEventListener("scroll",n.addScrollEvent),n.addScrollEvent=function(){var a=e(window).scrollTop(),r=e(".scroll-banner").height()-44;t=(t=a/r)>=1?1:t,n.setState({ratio:t});var o=n.state;e(".item-nav").css({display:t<=0?"none":"block",backgroundColor:"rgba(255,255,255,"+t+")",color:"rgba(53,53,53,"+t+")"}),a<e(".screen-rate")[0].offsetTop-44?0!==o&&n.setState({index:0}):a<e(".screen-detail")[0].offsetTop-44?1!==o&&n.setState({index:1}):2!==o&&n.setState({index:2})},window.addEventListener("scroll",n.addScrollEvent)},n.navClick=function(t){0===t?e(window).scrollTop(0):1===t?e(window).scrollTop(e(".screen-rate")[0].offsetTop-44):e(window).scrollTop(e(".screen-detail")[0].offsetTop-44)},n.state={index:0,ratio:0},n}return R(a,O.PureComponent),E(a,[{key:"componentDidMount",value:function(){this.scrollEvent()}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.addScrollEvent)}},{key:"render",value:function(){var e=this,t=this.state,a=t.index,n=t.ratio;return _.default.createElement("div",{className:"item-nav c-fs14 c-c666",style:{display:"none"}},_.default.createElement("ul",null,_.default.createElement("li",{onClick:function(){e.navClick(0)}},_.default.createElement("span",{style:0===a?{borderBottom:"2px solid rgba(53,53,53,"+n+")"}:{}},"商品")),_.default.createElement("li",{onClick:function(){e.navClick(1)}},_.default.createElement("span",{className:1===a?"active":""},"评价")),_.default.createElement("li",{onClick:function(){e.navClick(2)},className:"c-fr"},_.default.createElement("span",{className:2===a?"active":""},"详情"))))}}]),a}(),X=t.ScrollImageState=function(e){function t(e){P(this,t);var a=H(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.largeBanner=function(){a.setState({isLarge:!a.state.isLarge})},a.state={isLarge:!1},a}return R(t,O.PureComponent),E(t,[{key:"componentDidMount",value:function(){var e={newTime:0,oldTime:0,enlarge:!1,relativeX:0,relativeY:0,x1:0,x2:0,y1:0,startX:0,endX:0,wid:0,hei:0,lef:0,to:0,timerScale:null,self:this,isLarge:this.state.isLarge};this.initSwiper(),this.initLargeSwiper(),K(".swiper-container-large",j,e)}},{key:"initSwiper",value:function(){B&&B.destroy(),B=new Swiper(this.refs.swiperBanner,{pagination:".swiper-pagination-banner",observer:!0,loop:!1,paginationType:"fraction",onSlideChangeStart:function(e){j.slideTo(e.activeIndex)}})}},{key:"initLargeSwiper",value:function(){j&&j.destroy(),j=new Swiper(this.refs.swiperLarge,{pagination:".swiper-pagination-large",observer:!0,loop:!1,paginationType:"fraction",onSlideChangeStart:function(e){B.slideTo(e.activeIndex)}})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.images,n=t.item_type,r=t.activity_type,o=this.props.group_data,i=this.props.data.item&&this.props.data.item.H5_pic,l=this.props.data.item&&this.props.data.item.H5D_pic,s=this.state.isLarge,c=a&&a.length>0?a.map(function(t,a){return _.default.createElement("div",{className:"swiper-slide",key:a},_.default.createElement("img",{src:t+"_l.jpg"||"/src/img/item/no-img.png",onClick:e.largeBanner}))}):_.default.createElement("div",{className:"swiper-slide"},_.default.createElement("img",{src:"/src/img/item/no-img.png"})),u=a.map(function(e,t){return _.default.createElement("div",{className:"swiper-slide swiper-slide-large",key:t,style:{position:"relative"}},_.default.createElement("img",{src:e+"_l.jpg"||"/src/img/item/no-img.png",id:"img"+t}))});return _.default.createElement("div",{className:"c-pr scroll-banner","data-plugin":"swiper"},s&&_.default.createElement("div",{className:"shady-banner",onClick:function(){e.setState({isLarge:!1})}}),o&&"ROOKIE_GROUP"===o.group_type?_.default.createElement("img",{className:"c-pa tag2",src:"/src/img/activity/new-group.png"}):i?_.default.createElement("img",{className:"c-pa tag1",src:i}):"",_.default.createElement("div",{className:"swiper-container",ref:"swiperBanner"},_.default.createElement("div",{className:"swiper-wrapper"},c),a.length>0&&_.default.createElement("div",{className:"swiper-pagination swiper-pagination-banner"})),_.default.createElement("div",{className:"swiper-container swiper-container-large",ref:"swiperLarge",style:s?{display:"block"}:{display:"none"}},_.default.createElement("div",{className:"swiper-wrapper"},u),_.default.createElement("div",{className:"swiper-pagination swiper-pagination-banner swiper-pagination-large"})),l&&"normal"===n&&"FlashSale"!==r?_.default.createElement("img",{style:{width:"100%"},src:l}):"")}}]),t}(),$=t.PriceArea=(p=function(e){function t(e){P(this,t);var a=H(this,(t.__proto__||(0,r.default)(t)).call(this,e));return f.call(a),a.state={businessFlag:!1,flashsaleFlag:!1},a}return R(t,O.PureComponent),E(t,[{key:"componentDidMount",value:function(){if(this.props.proStatus){"FlashSale"===this.props.data.activity_type&&this.judgeFlashsale(this.props.promotion);var e=V(this.props.data,this.props.promotion);this.setState({businessFlag:e})}}},{key:"componentWillReceiveProps",value:function(e){if(e.proStatus&&e.proStatus!==this.props.proStatus){"FlashSale"===e.data.activity_type&&this.judgeFlashsale(e.promotion);var t=V(this.props.data,e.promotion);this.setState({businessFlag:t})}}},{key:"render",value:function(){var e=this.state,t=e.flashsaleFlag,a=e.businessFlag,n=this.props,r=n.proStatus,o=n.promotion,i=n.data;return _.default.createElement("div",null,t&&r&&_.default.createElement(ee,this.props),a&&r&&_.default.createElement(te,{businessFlag:a,data:i}),_.default.createElement("div",{className:"price-area"},a||t?null:_.default.createElement(ae,{item:i,proStatus:r,promotion:o}),_.default.createElement(re,{item:i}),_.default.createElement(oe,{item:i})))}}]),t}(),f=function(){var e=this;this.judgeFlashsale=function(t){var a=t.promotion[0],n=a.start_time,r=a.end_time,o=a.type,i=+new Date+"";n=new Date(n).getTime(),r=new Date(r).getTime(),"FlashSale"===o&&i>n&&i<r&&e.setState({flashsaleFlag:!0})}},p),ee=function(e){function t(e){P(this,t);var a=H(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.getMarketPrice=function(e,t){var a=e.info.skus,n=void 0;for(var r in a)if(a[r].price===t){n=a[r].market_price;break}return n},a.state={time:0},a}return R(t,b.Component),E(t,[{key:"componentDidMount",value:function(){var e=this.props.promotion.promotion[0].end_time;e=new Date(e).getTime();var t=+new Date+"";t<e&&this.setState({time:e-t}),this.intervalTime()}},{key:"intervalTime",value:function(){var e=this;this.timer=setTimeout(function(){var t=--e.state.time;t<0?location.reload():(e.state.time=t,e.setState(e.state),e.intervalTime())},1e3)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){var e=G(this.props.promotion,!0),t=this.getMarketPrice(this.props.promotion,e);return _.default.createElement("div",{className:"flashsale-price c-cfff"},_.default.createElement("span",{className:"c-fs25 c-dpib c-fl"}," ¥",e),t&&t!==e?_.default.createElement("span",{className:"c-dpib c-fl market-price c-ml5"}," ¥",t):null,_.default.createElement("span",{className:"flashsale-tag"},"限时特卖"),_.default.createElement("div",{className:"c-fr c-tr"},_.default.createElement("div",{className:"time-notice"},"距结束仅剩"),_.default.createElement("div",{className:"time-notice"},timeCtrl.formatTextTime(this.state.time))))}}]),t}(),te=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,O.PureComponent),E(t,[{key:"render",value:function(){var e=this.props,t=e.businessFlag,a=e.data,n=t.threshold;return 1===n?_.default.createElement("div",{className:"business-price1"},_.default.createElement("span",{className:"c-fs20 c-cdred"},"¥",t.sell_price),_.default.createElement("span",{className:"c-fs10 c-cccb c-mr15 market-price style1"},"¥",a.market_price),_.default.createElement("span",{className:"c-c8b8a c-fs10 style1"},"1件起批")):_.default.createElement("ul",{className:"business-price"},_.default.createElement("li",{className:"line0"},_.default.createElement("span",{className:"c-fs20 c-cdred price1"},"¥",a.sell_price),_.default.createElement("span",{className:"c-fs10 c-mb5 c-cccb market-price price2"},"¥",a.market_price),_.default.createElement("span",{className:"c-c8b8a c-fs10 price2"},2==n?"1件起批":"1-"+(n-1)+"件")),_.default.createElement("li",null,_.default.createElement("span",{className:"c-fs20 c-cdred price1"},"¥",t.sell_price),_.default.createElement("span",{className:"c-fs10 c-mb5 c-cccb market-price price2"},"¥",a.market_price),_.default.createElement("span",{className:"c-c8b8a c-fs10 price2"},n,"件以上")))}}]),t}(),ae=t.Price=function(e){function t(e){P(this,t);var a=H(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.getMarketPrice=function(e,t){var a=e.info.skus,n=void 0;for(var r in a)if(a[r].price===t){n=a[r].market_price;break}return n},a.state={sellPrice:parseFloat(parseFloat(a.props.item.sell_price).toFixed(2)),marketPrice:parseFloat(parseFloat(a.props.item.market_price).toFixed(2))},a}return R(t,b.Component),E(t,[{key:"componentWillReceiveProps",value:function(e){e.proStatus&&e.proStatus!==this.props.proStatus&&this.setState({sellPrice:G(e.promotion,!0),marketPrice:"seckill"===e.item.item_type?this.getMarketPrice(e.promotion,G(e.promotion,!0)):G(e.promotion,!1)})}},{key:"componentDidMount",value:function(){this.props.proStatus&&(this.setState({sellPrice:G(this.props.promotion,!0)}),this.setState({marketPrice:"seckill"===this.props.item.item_type?this.getMarketPrice(this.props.promotion,G(this.props.promotion,!0)):G(this.props.promotion,!1)}))}},{key:"render",value:function(){var e=this.props.item,t=e.is_free,a=e.trade_type,n=e.tax_rate,r=e.item_type,o=e.shop,i=e.activity_type,l=this.state,s=l.sellPrice,c=l.marketPrice;return _.default.createElement("div",{className:"price-info c-clrfix"},_.default.createElement("span",{className:"c-dpib c-fl standard-price"}," ¥",s),c?_.default.createElement("span",{className:"c-dpib c-fl market-price"}," ¥",c):null,"normal"===r&&3!==o.attr&&"FlashSale"!==i&&_.default.createElement(ne,{data:{is_free:t,trade_type:a,tax_rate:n},className:"c-fl"}))}}]),t}();function ne(e){var t=e.data,a=e.className;return t.is_free||"DOMESTIC"!==t.trade_type&&!Number(t.tax_rate)?_.default.createElement("span",{className:a+" free-postage-tag"},t.is_free?"包邮":"","DOMESTIC"!==t.trade_type&&0===Number(t.tax_rate)?"包税":""):null}var re=t.GoodsTit=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props.item,t=e.title,a=e.sub_title,n=(e.marks,e.shop);return _.default.createElement("div",null,_.default.createElement("p",{className:"goods-tit"},3===n.attr?_.default.createElement("span",{className:"c-fs10 c-mr5 c-cfff bus-tag"},"企业购"):"",t),a&&_.default.createElement("p",{className:"c-c666 sub-title"},a))}}]),t}(),oe=t.Tag=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getList",value:function(){var e=this.props.item,t=e.country,a=e.trade_type,n=e.shop.type,r=(0,w.FilterTradeType)(a),o=[];return t.imageUrl&&o.push(_.default.createElement("li",{key:"brandcountry"},_.default.createElement("img",{src:t.imageUrl}),t.text,"品牌")),r&&o.push(_.default.createElement("li",{key:"tradetype"},_.default.createElement("img",{src:"/src/img/icon/trade-type-icon.png"})," ",r)),"self"===n?o.push(_.default.createElement("li",{key:"trc"},_.default.createElement("img",{src:"/src/img/icon/trc-logo-icon.png"})," 泰然城自营")):o.push(_.default.createElement("li",{key:"trc"},_.default.createElement("img",{src:"/src/img/icon/trc-logo-icon.png"})," 泰然城精选商家")),o}},{key:"render",value:function(){var e=this.getList();return e.length?_.default.createElement("ul",{className:"all-tag"},e):null}}]),t}(),ie=t.ActiveArea=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,O.PureComponent),E(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"active-area"},_.default.createElement(pe,this.props),_.default.createElement(le,this.props))}}]),t}(),le=t.PromotionWrap=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getPromotion",value:function(){var e=this.props.promotion,t=e.promotion,a=e.activity_type;return t.length?_.default.createElement(se,{promotion:t,activity_type:a,retState:this.props.retState}):null}},{key:"render",value:function(){return this.getPromotion()}}]),t}(),se=(0,k.connect)(ce,ue)(m=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getList",value:function(e){for(var t=this.props.promotion,a=0,n=[],r=void 0;r=t[a];)n.push(_.default.createElement(de,y({},this.props,{itemdata:r,key:a,hasLink:e,flag:e}))),a++;return n}},{key:"render",value:function(){var e=this;return _.default.createElement("div",null,_.default.createElement("div",{className:"goods-promotion",onClick:function(){e.props.ChangePromotionModal(!0)}},_.default.createElement(I.NewModal,{isOpen:this.props.promotionModal,title:"促销活动",onClose:function(t){t.stopPropagation(),e.props.ChangePromotionModal(!1)}},_.default.createElement("div",{className:"goods-promotion-modal"},_.default.createElement("section",{className:"promotion-list-modal"},_.default.createElement("div",{className:"list-details-modal"},_.default.createElement("ul",{className:"promotion-ul-modal"},this.getList(!0)))))),_.default.createElement("div",{className:"promotion_ti c-fl"},"促销"),_.default.createElement("section",{className:"promotion-list c-fl"},_.default.createElement("div",{className:"list-details"},_.default.createElement("ul",{className:"promotion-ul"},this.getList()))),_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})),_.default.createElement("p",{className:"clearfix"})))}}]),t}())||m;function ce(e){return{promotionModal:e.itemIndex.promotionModal}}function ue(e){return{BackFlag:function(){e(z("promotionBackFlag"))},ChangePromotionModal:function(t){e(z("changePromotionModal",{flag:t}))}}}var de=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"linkTo",value:function(){var e=this.getLink();e&&A.browserHistory.push(e),this.props.BackFlag()}},{key:"getLink",value:function(){var e=this.props.itemdata,t=U[e.type];if(t)return"function"==typeof t.link?t.link(e):t.link}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemdata,n=t.flag,r=t.hasLink,o=t.retState,i=U[a.type];return _.default.createElement("li",{className:"promotion-li",onClick:function(){return r&&e.linkTo()}},_.default.createElement("div",{className:"clearfix"},_.default.createElement("button",{type:"button",className:"c-fl"},i.getTagName),i?_.default.createElement(i.getValue,{itemdata:a,flag:n,deductPrice:o&&o.deductPrice}):_.default.createElement(U.default,this.props),r&&this.getLink()?_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})):null))}}]),t}(),pe=t.CouponWrap=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getCoupon",value:function(){var e=this.props,t=e.promotion,a=e.shop;return t.coupon?_.default.createElement(fe,{promotion:t,shop:a}):null}},{key:"render",value:function(){return this.getCoupon()}}]),t}(),fe=(0,k.connect)(me,he)(h=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getCouponList",value:function(){var e=[];return this.props.promotion.coupon.some(function(t,a){if(!(a<=2))return!1;e.push(_.default.createElement("span",{key:a},"满",t.limit_money,"减",t.deduct_money))}),e}},{key:"getModalCouponList",value:function(){for(var e=this.props.promotion.coupon,t=0,a=[],n=void 0;n=e[t];)a.push(_.default.createElement(ge,y({},this.props,{itemdata:n,key:t}))),t++;return a}},{key:"render",value:function(){var e=this;return _.default.createElement("div",{className:"addr-ser"},_.default.createElement(I.NewModal,{title:"领取优惠劵",isOpen:this.props.couponsModal,onClose:function(t){t.stopPropagation(),e.props.ChangeCouponsModal(!1)}},_.default.createElement("div",{className:"goods-coupon-modal"},_.default.createElement("div",{className:"coupon-wrap"},_.default.createElement("div",{className:"coupone-list"},this.getModalCouponList())))),_.default.createElement("div",{className:"sever-addr",onClick:function(){e.props.ChangeCouponsModal(!0)}},_.default.createElement("span",{className:"coupon-list"},"领券： ",this.getCouponList(),_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})))))}}]),t}())||h;function me(e){return{couponsModal:e.itemIndex.couponsModal}}function he(e){return{BackFlag:function(){e(z("couponsBackFlag"))},ChangeCouponsModal:function(t){e(z("changeCouponsModal",{flag:t}))}}}var ge=function(t){function a(e){P(this,a);var t=H(this,(a.__proto__||(0,r.default)(a)).call(this,e));return t.getCoupon=function(){var e=t,a=e.props,n=a.itemdata,r=a.shop;e.setState({buttonClick:!1}),axios.request(y({},pageApi.GetCoupon,{params:{coupon_id:n.id,shop_id:r.id,source:"goods"}})).then(function(t){e.setState({buttonClick:!0}),t.data.status&&T.tip.show({msg:t.data.msg})}).catch(function(e){console.log(e)})},t.state={buttonClick:!0},t}return R(a,b.Component),E(a,[{key:"getUse",value:function(){var e=this.props.itemdata.applicable_platform;return"ALL"===e?"":"(限"+e.split(",").map(function(e){return e.toUpperCase()+"端"}).join("、")+"使用)"}},{key:"render",value:function(){var t=this,a=this.props,n=a.itemdata,r=a.shop,o=a.BackFlag;n.shop=r;var i;n.coupon_type;return _.default.createElement("div",{className:"coupon "+(i=n,i.isset_limit_money?"coupon-red":"coupon-yellow")},_.default.createElement("div",{className:"coupon-li-wrap"},_.default.createElement("div",{className:"c-fl coupon-left"},_.default.createElement("h3",{className:String(n.deduct_money).length<4?"h3-a":"h3-b"},_.default.createElement("span",null,"¥"),n.deduct_money),_.default.createElement("p",null,"满",n.limit_money,"使用")),_.default.createElement("div",{className:"c-fr coupon-right"},_.default.createElement("h3",null,W.title(n),_.default.createElement("span",null,this.getUse())),_.default.createElement(S.LinkChange,{BackFlag:o,flag:!0},_.default.createElement("button",{className:"buy-button",onClick:function(a){var n=e(a.target).parent()[0].href;t.state.buttonClick&&!n&&t.getCoupon()}},"立即领取")),_.default.createElement("p",{className:"coupon-right-type"},"• ",W.text(n)),_.default.createElement("p",{className:"coupon-right-use-date"},N.dateUtil.format(new Date(n.use_start_time).getTime(),"Y/M/D H:F").slice(2),"至 ",N.dateUtil.format(new Date(n.use_end_time).getTime(),"Y/M/D H:F").slice(2)))))}}]),a}(),ve=t.SeverArea=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,O.PureComponent),E(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"c-pb10"},_.default.createElement(Ee,null),_.default.createElement(ye,this.props),_.default.createElement(ke,this.props))}}]),t}(),ye=function(e){function t(){var e,a,n;P(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=H(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.showChargeMsg=function(e,t,a){switch(e){case 0:return _.default.createElement("li",null,"该商品已包邮 ",_.default.createElement("span",{className:"tag"},"包邮"));case 1:return _.default.createElement("li",null,"满 "+a+" 件包邮");case 2:return _.default.createElement("li",null,"满 "+t+" 元包邮");case 3:return _.default.createElement("li",null,"满 "+a+" 件，且满 "+t+"元包邮");case 4:return _.default.createElement("li",null,a+" kg内包邮");case 5:return _.default.createElement("li",null,"满 "+t+" 元包邮");case 6:return _.default.createElement("li",null,a+" kg内，且满 "+t+"元包邮")}},n.chooseChargeRule1=function(e){var t=n.props.retState;t.nowPrice,t.num;if(e.upquantity||e.innumber)switch(e.freetype){case"1":return n.showChargeMsg(1,null,e.upquantity||e.innumber);case"2":return n.showChargeMsg(2,e.upmoney,null);case"3":return n.showChargeMsg(3,e.upmoney,e.upquantity||e.innumber)}else switch(e.freetype){case"1":return n.showChargeMsg(4,null,e.inweight);case"2":return n.showChargeMsg(5,e.upmoney,null);case"3":return n.showChargeMsg(6,e.upmoney,e.inweight)}},n.chooseChargeRule2=function(e,t){var a=e.start_standard,r=e.start_freight,o=e.add_standard,i=e.add_freight,l=void 0,s=n.props.retState,c=s.num,u=s.weight;return l=o&&i&&("1"===t?+e.start_standard<c*u:+e.start_standard<c)?"1"===t?+r+Math.ceil((c*u-a)/o)*i:+r+(o&&i&&Math.ceil((c-a)/o)*i):+r,_.default.createElement("li",null,"预计运费",l,"元")},n.chooseChargeRule3=function(e){var t=e.rules;if(!(t instanceof Array)){var a=[];for(var r in t)a.push(t[r]);t=a}var o=n.props.retState,i=o.nowPrice,l=o.num,s=o.groupPrice;i=s||i;var c=String(i).split("-").length;i=1===c?i*l:n.props.data.sell_price*l;var u=void 0;return t.filter(function(e,t){(e.down?i>=+e.up&&i<+e.down:i>=+e.up)&&(u=e.basefee)}),_.default.createElement("li",null,"预计运费",u,"元")},n.chooseAssignArea=function(e,t){return e.filter(function(a,n){var r=a.area&&a.area.split(",");return r&&r.some(function(a){if(a===t[0]||a===t[1])return e[n]})})},n.calculateCharge=function(){var e=n.props.mix.dlytmplInfo,t=n.props.areaData.areaCode,a=[],r=e.freight_conf,o=e.free_conf,i=e.valuation_type,l=e.is_free,s=n.props.retState,c=s.num,u=s.weight;if(+l)return _.default.createElement("li",null,"该商品已包邮 ",_.default.createElement("span",{className:"tag"},"包邮"));if(1===i||2===i){if(o){if((a=n.chooseAssignArea(o,t)).length>0&&("3"===a[0].freetype&&(a[0].inweight||a[0].upquantity||a[0].innumber)&&a[0].upmoney||"2"===a[0].freetype&&a[0].upmoney||"1"===a[0].freetype&&(a[0].upquantity||a[0].innumber||a[0].inweight)))return n.chooseChargeRule1(a[0]);if(o[0]&&("3"===o[0].freetype&&(o[0].inweight||o[0].upquantity)&&o[0].upmoney||"2"===o[0].freetype&&o[0].upmoney||"1"===o[0].freetype&&(o[0].upquantity||o[0].inweight)))return n.chooseChargeRule1(o[0])}var d=(a=n.chooseAssignArea(r,t)).length>0&&a[0],p=d.start_standard,f=d.start_freight,m=d.add_standard,h=d.add_freight;return a.length&&(""!=p&&""!=f&&""!=m&&""!=h||""!=m&&""!=h&&("1"===i?u<=p:c<=p))?n.chooseChargeRule2(a[0],i):n.chooseChargeRule2(r[0],i)}return(a=n.chooseAssignArea(r,t)).length?n.chooseChargeRule3(a[0]):n.chooseChargeRule3(r[0])},H(n,a)}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.calculateCharge();return _.default.createElement("ul",{className:"charge c-fs13"},_.default.createElement("li",{className:"c-mr15"},"运费"),e)}}]),t}(),Ee=(0,k.connect)(be,_e)(g=function(t){function a(e){P(this,a);var t=H(this,(a.__proto__||(0,r.default)(a)).call(this,e));return t.isInArea=function(e,a){var n=t.props.mix.delivery_regions;return"boolean"==typeof n||n.some(function(t){if(t===e||t===a)return!0})},t.changeState=function(e){t.setState(e)},t.confirmAnimal=function(e,a,n,r,o,i){t.isInArea(r,o)?(n?t.props.ChangeAreaData({areaData:{area:e+"/"+a+"/"+n,areaCode:[r,o]}}):t.props.ChangeAreaData({areaData:{area:e+"/"+a,areaCode:[r,o]}}),t.setState({animalStatus:!1,slideIn:!1,shadySlide:!1,addSlideIn:!1})):T.tip.show({msg:"不在配送区域"})},t.cancel=function(){var e=t.state,a=e.animalStatus,n=e.slideIn,r=t.props.mix.addrList,o=t.props.isLogin;!o||o&&r.recent_addr.length<0||o&&!r.default_addr?t.changeState({slideIn:!1,shadySlide:!1,addSlideIn:!1,flag:!0}):a&&n?t.changeState({slideIn:!1,flag:!0}):t.changeState({shadySlide:!1,addSlideIn:!1,flag:!0})},t.state={flag:!0,shadySlide:!1,addSlideIn:!1,addStart:!1,animalStatus:!1,slideIn:!1},t}return R(a,b.Component),E(a,[{key:"render",value:function(){var t=this,a=this.props,n=a.mix,r=a.areaData,o=a.ChangeAreaData,i=a.isLogin,l=(n.dlytmplInfo,n.addrList),s=n.storehouse&&n.storehouse.name,c=this.state,u=c.shadySlide,d=c.addSlideIn,p=c.addStart,f=c.animalStatus,m=c.slideIn,h=c.flag,g=_.default.createElement("div",{className:"addr-solected"},_.default.createElement("span",{className:"c-mr15"},"配送"),_.default.createElement("span",{className:"addr-fh"}),s,"至",_.default.createElement("i",{className:"icon place-icon"}),_.default.createElement("span",null,r.area),_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})));return _.default.createElement("div",{className:"addr-ser"},_.default.createElement("div",{className:"shady "+(u?"":"c-dpno"),style:{height:e(window).height()},onClick:this.cancel}),_.default.createElement(xe,{addrList:l,addStart:p,shadySlide:u,flag:h,addSlideIn:d,areaData:r,animalStatus:f,slideIn:m,cancel:this.cancel,changeState:this.changeState,confirm:this.confirmAnimal,ChangeAreaData:o,isInArea:this.isInArea}),_.default.createElement("div",{className:"sever-addr"},_.default.createElement("div",{className:"addr-a",onClick:function(){t.changeState({addStart:!0,shadySlide:!0,addSlideIn:!0,flag:!1}),(!i||i&&l.recent_addr.length<0||i&&!l.default_addr)&&t.setState({animalStatus:!0,slideIn:!0})}},g)))}}]),a}())||g;function be(e){return y({mix:e.itemIndex.mix,areaData:e.itemIndex.areaData},e.global)}function _e(e){return{ChangeAreaData:function(t){e(z("changeAreaData",t))}}}var xe=function(t){function a(){return P(this,a),H(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return R(a,b.Component),E(a,[{key:"render",value:function(){var t=this;this.props.addSlideIn?Z(!0):Z(!1);var a=this.props,n=a.addSlideIn,r=a.addStart,o=a.animalStatus,i=a.slideIn,l=a.addrList,s=a.areaData,c=l?l.recent_addr.length>0?l.recent_addr:[l.default_addr]:[],u=c.length>0&&c.map(function(a,n){var r=e(".addr-d"+n).height();return _.default.createElement("li",{key:n,className:"choose-add add-detail",style:r>19?{paddingTop:"8px"}:{paddingTop:"15px"},onClick:function(){t.props.isInArea(a.areaCode[0],a.areaCode[1])?(t.props.ChangeAreaData({areaData:{area:a.area+a.addr,areaCode:a.areaCode,addressData:a}}),t.props.changeState({shadySlide:!1,addSlideIn:!1})):T.tip.show({msg:"不在配送区域"})}},_.default.createElement("img",{className:"img-l",src:s.area===a.area+a.address?"/src/img/icon/orientation-icon-red.png":"/src/img/icon/orientation-icon.png"}),_.default.createElement("div",{className:"addr-d"+n+" "+(s.area===a.area+a.address?"c-cdred":"")},a.area+a.address))});return _.default.createElement("div",{className:"add-pop"},_.default.createElement(ChooseAddress,{animalStatus:o,slideIn:i,confirm:this.props.confirm}),_.default.createElement("div",{className:"animation-add "+(r?n?"animation1":"animation2":"")},_.default.createElement("div",{className:"title"},_.default.createElement("li",{className:"c-fr",onClick:this.props.cancel},_.default.createElement("img",{src:"/src/img/icon/close/black-close-icon.png"})),_.default.createElement("li",{className:"c-c35 c-fs15"},"配送至")),_.default.createElement("ul",{className:"c-fs13 "},u,_.default.createElement("li",{className:"c-cdred choose-add",onClick:function(){t.props.changeState({animalStatus:!0,slideIn:!0})}},_.default.createElement("img",{className:"img-l",src:"/src/img/icon/choose-add.png"}),"选择其他区域"))))}}]),a}(),ke=(0,k.connect)(Ae,we)(v=function(e){function t(){var e,a,n;P(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=H(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.onClose=function(){n.props.ChangeSearverModal(!1)},H(n,a)}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mix,n=t.data,r=t.searverModal,o=a.storehouse&&a.storehouse.name,i=(0,w.TradeFade)(n),l=a.delivery_regions,s=a.tags;return _.default.createElement("div",null,_.default.createElement(Ne,{mix:a,isTradeFade:i,data:n,searverModal:r,onClose:function(){return e.onClose()}}),_.default.createElement("div",{className:"goods-tax",onClick:function(){e.props.ChangeSearverModal(!0)}},_.default.createElement("ul",null,_.default.createElement("li",{className:n.support_ecard?"":"no-support"},_.default.createElement("i",{className:n.support_ecard?"detail-serve-icon":"point-notice-icon"}),n.support_ecard?"支持活动e卡":"不支持活动e卡"),i&&"DOMESTIC"!==n.trade_type?_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),"商品税费"):null,_.default.createElement("li",{className:s.free_refund?"":"no-support"},_.default.createElement("i",{className:s.free_refund?"detail-serve-icon":"point-notice-icon"}),s.free_refund?"支持":"不支持","七天无理由退货"),n.is_free?_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),"包邮"):null,_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),"正品保证"),o?_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),o):"",_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),"担保交易"),"boolean"!=typeof l?_.default.createElement("li",null,_.default.createElement("i",{className:"detail-serve-icon"}),"部分区域配送"):""),_.default.createElement("p",{className:"clearfix"})))}}]),t}())||v;function Ae(e){return{searverModal:e.itemIndex.searverModal}}function we(e){return{ChangeSearverModal:function(t){e(z("changeSearverModal",{flag:t}))}}}var Ne=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.mix,a=e.isTradeFade,n=e.data,r=t.storehouse&&t.storehouse.name,o=t.delivery_regions,i=t.tags,l=Math.ceil(1e4*(+n.tax_rate).toFixed(5))/100;return _.default.createElement(I.NewModal,{isOpen:this.props.searverModal,title:"服务说明",onClose:this.props.onClose},_.default.createElement("section",{className:"modal-wrap-container",style:{height:"335px"}},_.default.createElement("ul",null,_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:n.support_ecard?"mark-icon":"no-mark-icon"})," ",n.support_ecard?"支持活动e卡":"不支持活动e卡"),_.default.createElement("div",{className:"tax-cont"},n.support_ecard?"店铺为支持活动e卡，商品贸易类型为一般贸易的商品。":"不支持活动e卡。")),a&&"DOMESTIC"!==n.trade_type?_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," 商品税费"),_.default.createElement("div",{className:"tax-cont"},"按照国家规定，本商品适用于跨境综合税，税率为",l,"%， 实际结算税费请以提交订单时的应付总额明细为准。")):null,_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:i.free_refund?"mark-icon":"no-mark-icon"})," ",i.free_refund?null:"不支持","七天无理由退货"),_.default.createElement("div",{className:"tax-cont"},i.free_refund?"此商品支持7天无理由退货，在商品签收之日起7天内可发起退货申请，退回商品应不影响第二次销售":"此商品不支持七天无理由退货")),n.is_free?_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," 包邮"),_.default.createElement("div",{className:"tax-cont"},"此商品全国地区包邮。")):null,_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," 正品保证"),_.default.createElement("div",{className:"tax-cont"},"泰然城每件商品都经过严苛的质量把关，保障正品、保障品质，杜绝一切假货，让您购物无忧。")),r?_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," ",r),_.default.createElement("div",{className:"tax-cont"},"本商品由",r,"发货。")):null,_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," 担保交易"),_.default.createElement("div",{className:"tax-cont"},"担保交易，放心购买。")),"boolean"!=typeof o?_.default.createElement("li",null,_.default.createElement("div",{className:"hd"},_.default.createElement("i",{className:"mark-icon"})," 部分区域配送"),_.default.createElement("div",{className:"tax-cont"},"本商品只支持部分配送区域。")):null)))}}]),t}(),Ce=t.EvaluateArea=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,O.PureComponent),E(t,[{key:"render",value:function(){var e=this.props,t=e.rate,a=e.itemId,n=t.rates,r=t.total,o=t.good_rate_ratio;return _.default.createElement("div",{className:"evaluate-area detail"},_.default.createElement("div",{className:"hd"},_.default.createElement(A.Link,{to:"/evaluate?item_id="+a,"data-notLogin":!0},"商品评价 (",r,")",_.default.createElement("i",{className:"icon icon-forward"},_.default.createElement("span",{className:"c-cdred"},"好评",o,"%"),_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})))),n.length>0&&_.default.createElement(Se,{rates:n,itemId:a}))}}]),t}(),Se=t.EvaluateAreaContents=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"getList",value:function(){var e=this.props,t=e.rates,a=e.itemId;return t.map(function(e,t){return _.default.createElement(Te,{data:e,key:t,itemId:a})})}},{key:"componentDidMount",value:function(){this.refs.swiper&&this.initSwiper()}},{key:"initSwiper",value:function(){this.swiper=new Swiper(this.refs.swiper,{loop:!1,slidesPerView:1.35})}},{key:"render",value:function(){var e=this.getList(),t=this.props.rates.length;return 7===t?_.default.createElement("div",{"data-plugin":"swiper"},_.default.createElement("div",{className:"swiper-container evaluate-swiper-container",ref:"swiper"},_.default.createElement("div",{className:"swiper-wrapper"},e,_.default.createElement("div",{className:"swiper-slide more-evaluate c-fs12 c-c666",key:t},_.default.createElement(A.Link,{to:"/evaluate?item_id="+this.props.itemId,"data-notLogin":!0},_.default.createElement("ul",{className:"more"},_.default.createElement("li",null,"查看更多"),_.default.createElement("li",{className:"line-wrap"},_.default.createElement("i",{className:"line"}," ")),_.default.createElement("li",null,"See more"))))))):null}}]),t}(),Te=function(e){function t(){var e,a,n;P(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=H(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.getName=function(e){return e?e.length>2?e.substring(0,1)+"**"+e.substring(e.length-1):e:null},n.getPhone=function(e){var t=String(e);return e?t.substring(0,3)+"***"+t.substring(t.length-3):null},H(n,a)}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.itemId,n=t.head_portrait;return t.head_portrait&&"image.tairanmall.com"===t.head_portrait.match(/\/\/([^\/]+)\//i)[1]&&(n+="_t.jpg"),_.default.createElement("div",{className:"swiper-slide each-evaluate"},_.default.createElement(A.Link,{to:"/evaluate?item_id="+a,"data-notLogin":!0},_.default.createElement("div",{className:"c-fl",style:0===t.images.length?{width:"100%"}:{}},_.default.createElement("h2",null,_.default.createElement("div",{className:"head"},_.default.createElement("img",{src:t.head_portrait?n:"/src/img/icon/avatar/default-avatar.png"})),_.default.createElement("font",null,this.getName(t.nickname)||this.getPhone(t.phone)||"")),_.default.createElement("div",{className:"evaluate-content"},t.content||q[t.experience])),t.images.length>0&&_.default.createElement("div",{className:"c-fr"},_.default.createElement("img",{src:t.images[0]+"_s.jpg"}),_.default.createElement("span",{className:"img-num"},t.images.length,"张"))),_.default.createElement("p",{className:"c-cb"}))}}]),t}(),Me=t.RecommendArea=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,O.PureComponent),E(t,[{key:"componentDidMount",value:function(){this.refs.swiperRecommend&&this.initSwiper()}},{key:"initSwiper",value:function(){this.swiper=new Swiper(this.refs.swiperRecommend,{pagination:".swiper-pagination-recommend"})}},{key:"render",value:function(){var e=this.props.recommend,t=[],a=(t=e.length<=6?[e]:e.length>6&&e.length<=12?[e.slice(0,6),e.slice(6,e.length)]:[e.slice(0,6),e.slice(6,12),e.slice(12,e.length)]).map(function(e,t){return _.default.createElement(Ie,{key:t,data:e})});return e.length>0?_.default.createElement("div",{className:"recommend-area c-fs14","data-plugin":"swiper"},_.default.createElement("p",null,"为您推荐"),_.default.createElement("div",{className:"swiper-container recommend-swiper-container",ref:"swiperRecommend"},_.default.createElement("div",{className:"swiper-wrapper"},a),t.length>1&&_.default.createElement("div",{className:"swiper-pagination swiper-pagination-recommend"}))):null}}]),t}(),Ie=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return _.default.createElement("li",{key:a,className:"rec-item",style:(a+1)%3==0?{marginRight:"0px"}:{}},_.default.createElement("a",{to:"/item?item_id="+t.item_id,onClick:e.goNewpage},_.default.createElement("div",{className:"img-wraper"},_.default.createElement("img",{src:t.images[0]&&t.images[0]+"_m.jpg"||"/src/img/item/no-img.png"}),t.promotion.tag&&_.default.createElement("span",{className:"tag"},t.promotion.tag)),_.default.createElement("div",{className:"title"},t.title),_.default.createElement("div",null,_.default.createElement("span",{className:"c-fs11 c-cdred"},"¥",t.sell_price),_.default.createElement("span",{className:"c-fs10 c-cc9 market-price"},"¥",t.market_price))))});return _.default.createElement("div",{className:"swiper-slide recommend-content"},t)}}]),t}(),Oe=t.ShopArea=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props.shop;return"open"===e.open_state?_.default.createElement(A.Link,{className:"link",to:"/store/home?shop="+ +e.shop_id},_.default.createElement("div",{className:"gap bgf4"}),_.default.createElement("ul",{className:"shop-arer"},_.default.createElement("li",{className:"image"},_.default.createElement("img",{src:e.logo})),_.default.createElement("li",null,_.default.createElement("p",{className:"shop-name c-fs15"},e.alias?e.alias:e.name),_.default.createElement("p",{className:"shop-msg c-fs10 c-c999"},"self"===e.type?"泰然城自营":"泰然城精选商家")),_.default.createElement("li",{className:"button"},"进入店铺"))):null}}]),t}();var De=t.GoodsDetail=function(t){function a(e){P(this,a);var t=H(this,(a.__proto__||(0,r.default)(a)).call(this,e));return t.state={active:0},t}return R(a,O.PureComponent),E(a,[{key:"componentWillUnmount",value:function(){this.unMount&&this.unMount()}},{key:"componentDidMount",value:function(){this.unMount=this.mount()}},{key:"mount",value:function(){var t=e(window).height(),a=this,n=e(this.refs.twContent).offset().top;function r(){window.scrollY+t>=n&&(a.setState(a.state),e(window).unbind("scroll",r))}return e(this.refs.detail).css("min-height",t-140),e(window).bind("scroll",r),function(){return e(window).unbind("scroll",r)}}},{key:"changeTag",value:function(e){e!=this.state.active&&this.setState({active:e})}},{key:"checkTag",value:function(e){return this.state.active===e?"active":""}},{key:"getList",value:function(){var e=this.props.data,t=e.properties,a=e.art_no,n=e.shelved_at,r=e.weight,o=[_.default.createElement("li",{key:"id"},"商品编号：",_.default.createElement("span",{className:"c-fr"},a)),_.default.createElement("li",{key:"time"},"上架时间：",_.default.createElement("span",{className:"c-fr"},N.dateUtil.format(1e3*n,"Y-M-D"))),_.default.createElement("li",{key:"weight"},"商品毛重：",_.default.createElement("span",{className:"c-fr"},r,"kg"))];for(var i in t)o.push(_.default.createElement("li",{key:i},t[i].name,"：",_.default.createElement("span",{className:"c-fr"},t[i].text)));return o}},{key:"getGoodsHtml",value:function(){return{__html:"First &middot; Second"}}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.trade_type;return _.default.createElement("div",{className:"pic-area detail goods-detail",ref:"twContent"},_.default.createElement(M.ItemFix,null,_.default.createElement("div",{className:"tab-ti-wrap"},_.default.createElement("div",{className:"tab-ti"},_.default.createElement("ul",null,_.default.createElement("li",{className:this.checkTag(0),onClick:function(){return e.changeTag(0)}},_.default.createElement("span",null,"商品介绍")),_.default.createElement("li",{className:this.checkTag(1),onClick:function(){return e.changeTag(1)}},_.default.createElement("span",null,"商品参数")))))),_.default.createElement("div",{className:"tab-con"},_.default.createElement("div",{className:"tw-con "+this.checkTag(0)},"Direct"==a||"Overseas"==a?_.default.createElement("div",{className:"zhiyou img-w"},_.default.createElement("img",{src:"/src/img/pintuan/zhiyou.jpg"})):null,function(e){return _.default.createElement("div",{className:"goods-pic",dangerouslySetInnerHTML:{__html:e.desc&&e.desc.handset}})}(t),"Direct"==a||"Bonded"==a||"Overseas"==a?_.default.createElement("div",{className:"goods_text img-w"},_.default.createElement("img",{src:"/src/img/pintuan/goods_text.jpg"})):"",_.default.createElement("div",{className:"price_text img-w"},_.default.createElement("img",{src:"/src/img/pintuan/price_text.jpg"}))),_.default.createElement("div",{className:"cs-con "+this.checkTag(1),ref:"detail"},_.default.createElement("ul",{className:"goods-detail"},this.getList()))))}}]),a}(),Le=t.Collect=function(t){function a(){return P(this,a),H(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return R(a,b.Component),E(a,[{key:"componentWillMount",value:function(){this.state={collect:this.props.mix.favorite}}},{key:"locked",value:function(e){return null!=e&&(this.update=e),this.update}},{key:"onCollect",value:function(){var t=this;if(!this.locked()){this.locked(!0);var a=F(this.state.collect?"DelFav":"Fav",{data:{item_id:this.props.data.item_id},success:function(e){e.status&&t.setState({collect:!t.state.collect})},complete:function(){t.locked(!1)}});e.ajax(a)}}},{key:"render",value:function(){var e=this;return _.default.createElement("div",{className:"collect"},_.default.createElement(S.LinkChange,{className:this.state.collect?"save curr uncollect-goods":"save collect-goods",onClick:function(){return e.onCollect()}},this.state.collect?[_.default.createElement("span",{className:"icon icon-favor text_sc",key:"0"},_.default.createElement("img",{src:"/src/img/icon/collected-icon.png"})),_.default.createElement("span",{className:"icon-title",key:"1"},"已收藏")]:[_.default.createElement("span",{className:"shoucang",key:"0"},_.default.createElement("img",{src:"/src/img/icon/collect-icon.png"})),_.default.createElement("span",{className:"icon-title",key:"1"}," 收藏")]))}}]),a}(),Pe=t.ToCart=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.cartInfoStatus,a=e.cartNum;return a>=99&&T.tip.show({msg:"您的购物车宝贝总数已满99件，建议您先去结算或清理"}),_.default.createElement("div",{className:"to-cart"},_.default.createElement("a",{href:"trc://shoppingbag"},_.default.createElement("div",{className:"cart"},t&&_.default.createElement("span",{className:"cart-num "+(a>=10?"width2":"width1")},a),_.default.createElement("span",{className:"buy-cart"},_.default.createElement("img",{src:"/src/img/icon/tocart-icon.png"})),_.default.createElement("span",{className:"icon-title"},"购物袋"))))}}]),t}(),He=t.BuyModalTitle=function(t){function a(){P(this,a);var e=H(this,(a.__proto__||(0,r.default)(a)).call(this));return e.businessDetail=function(e){if(e){var t=(0,n.default)(e.rules)[0],a=e.sell_price;return _.default.createElement("p",{className:"c-cdred"},"满",t,"件,每件¥",a,"元")}},e.state={isLarge:!1},e}return R(a,b.Component),E(a,[{key:"getImg",value:function(){var e=this.props.data,t=this.props.retState,a=t.specKey,n=t.selectArr,r=this.props.promotion.info,o=void 0,i=void 0;return a&&a.some(function(e,t){return i=r.specs[e].values.filter(function(e,a){return e.spec_value_id==n[t]}),o=i[0].image}),o||e.primary_image}},{key:"componentDidUpdate",value:function(){this.state.isLarge&&K(".ui-table-view-large-wrapper",null,{newTime:0,oldTime:0,enlarge:!1,relativeX:0,relativeY:0,x1:0,x2:0,y1:0,startX:0,endX:0,wid:0,hei:0,lef:0,to:0,timerScale:null,self:this,isLarge:this.state.isLarge})}},{key:"render",value:function(){var t=this,a=this.props,n=(a.data,a.retState),r=a.promotion.info.specs,o=this.state.isLarge,i=Q(n,r);return _.default.createElement("div",null,o&&_.default.createElement("div",{className:"ui-table-view-large-img",style:{height:e(window).height(),top:e(".action-buy-modal").height()}},_.default.createElement("div",{className:"buy-shady",onClick:function(){t.setState({isLarge:!1})}}),_.default.createElement("div",{className:"ui-table-view-large-wrapper"},_.default.createElement("img",{src:this.getImg()+"_l.jpg"}))),_.default.createElement("ul",{className:"ui-table-view"},_.default.createElement("li",{className:"ui-table-view-cell"},_.default.createElement("span",{className:"posit-img"},_.default.createElement("img",{className:"ui-media-object ui-pull-left",src:this.getImg()?this.getImg()+"_s.jpg":"/src/img/item/no-img.png",width:"80",height:"80",onClick:function(){t.setState({isLarge:!0})}})),_.default.createElement("div",{className:"ui-media-body window-head"},_.default.createElement("div",{className:"price-tag"},_.default.createElement("p",{className:"ui-ellipsis text-price action-update-price"},"¥",n.nowPrice)),this.businessDetail(n.business),!(r instanceof Array)&&i.length>0&&_.default.createElement("p",{className:"text-price-sel",style:{display:"block"}}," 已选 ",i," ")))))}}]),a}(),Re=function(e){function t(){var e,a,o;P(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=o=H(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.initList=function(){var e=o.props.promotion.info.specs;return(0,n.default)(e).map(function(t,a){return _.default.createElement(Be,y({specs:e[t],index:a},o.props,{key:a}))})},o.getLimit=function(){var e=o.props.data.activity_type,t=o.props.promotion.itemRules;return"flashsale"===e?_.default.createElement("span",{className:"limit_buy"},"限购",t.user_buy_limit,"件 (已购",t.user_buy_count,"件)"):null},H(o,a)}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.addMinNum,a=e.changeNum,n=e.importNum,r=this.props.promotion.itemRules,o=this.props.retState,i=o.num,l=o.storeNum,s=r?r.user_buy_limit-r.user_buy_count:"";return _.default.createElement("div",{className:"attr-wrap"},_.default.createElement("div",{className:"standard-area stable-standard cur"},_.default.createElement("div",{className:"standard-info"},this.initList())),_.default.createElement("div",{className:"buy-amount"},_.default.createElement("span",{className:"amount-tit"},"数量："),_.default.createElement("span",{className:"number-increase-decrease"},_.default.createElement("span",{className:"btn btn-action action-decrease "+(1===i||""===i?"dis-click":""),onTouchTap:1===i||""===i?"":function(){return t(-1)}},"－"),_.default.createElement("input",{type:"number",className:"action-quantity-input",value:i,onBlur:n,onChange:a}),_.default.createElement("span",{className:"btn btn-action action-increase "+(i===l||""===i||i===s?"dis-click":""),onTouchTap:i===l||""===i||i===s?"":function(){return t(1)}},"＋")),_.default.createElement("span",{className:"store_buy"},"库存",l,"件"),this.getLimit(),_.default.createElement("div",{className:"clearfix"})),_.default.createElement(je,this.props))}}]),t}(),ze=t.BuyModalButton=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.buyActive,a=e.onClickCart,n=e.onClickBuy,r=(e.purchaseLimit,e.toCartClick),o=e.toBuyClick,i=e.isNonPayment,l=this.props.promotion.store.real;return _.default.createElement("div",{className:"buy-option-btn"},i?_.default.createElement("div",{className:"btn-tobuy-disable",style:{width:"100%"}},"还有机会"):_.default.createElement("div",null,l?_.default.createElement("div",{className:"btn-addcart "+("chooseSpec"===t?"btn-group":"buy"===t?"c-dpno":""),onTouchTap:r?a:""},"加入购物袋"):_.default.createElement("div",{className:"btn-tobuy-disable"},"已售罄"),_.default.createElement("div",null,null,_.default.createElement("div",{className:"btn-tobuy "+("chooseSpec"===t?"btn-group":"cart"===t?"c-dpno":""),onTouchTap:o?function(){n(t)}:""},"立即购买"))))}}]),t}(),Be=t.Specs=function(e){function t(){return P(this,t),H(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return R(t,b.Component),E(t,[{key:"initList",value:function(){var e=this,t=this.props,a=t.isHasStore,n=t.specs,r=(t.promotion,t.index),o=t.judgeSingleSku,i=this.props.retState,l=i.newData,s=i.selectArr,c=n.values,u=n.spec_id;return c.map(function(t,n){var i=t.spec_value_id,c=a({spec:i,index:r},l,s);return _.default.createElement("li",{key:n,onClick:function(t){!o()&&c&&e.props.specSelect(i,r,u)},className:c?o()||s[r]===i?"on":"abled":"disabled"},_.default.createElement("span",{title:t.text},"Text"!=t.show_type&&t.image?_.default.createElement("span",null,_.default.createElement("img",{src:t.image,width:"25",height:"25",style:{marginTop:"-1px"}})," ",_.default.createElement("span",null," ",t.text," ")):t.text))})}},{key:"render",value:function(){var e=this.props.specs;return _.default.createElement("div",{className:"color parameter"},_.default.createElement("span",{className:"tit"},e.name),_.default.createElement("ul",{className:"size_ul"},this.initList()))}}]),t}(),je=t.ExpectTax=function(e){function t(e){P(this,t);var a=H(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={rateShow:!1},a}return R(t,b.Component),E(t,[{key:"getRate",value:function(){var e=this,t=this.props,a=t.data,n=t.buyActive,r=t.promotion,o=this.props.retState,i=o.nowPrice,l=o.num;if(!(0,w.TradeFade)(a)||"DOMESTIC"===a.trade_type)return null;var s=Math.ceil(1e4*(+a.tax_rate).toFixed(5))/100,c=String(i).split("-").length;i="groupBuy"===n?r.promotion[0].item_rules.promotion_price:1===c?i:a.sell_price;var u=(l="groupBuy"===n?1:l)*a.tax_rate*i;return+(u=(+u.toFixed(2)+(parseFloat((u-u.toFixed(2)).toFixed(10))>=1e-5?.01:0)).toFixed(2))?_.default.createElement("div",null,_.default.createElement("div",{className:"expect_tax",onClick:function(){return e.setState({rateShow:!e.state.rateShow})}},"预计税费",_.default.createElement("span",{className:"icon_slide c-fr "+(this.state.rateShow?"rotate":"")},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-btm-icon.png"})),_.default.createElement("span",{className:"tax_count c-fr",style:{display:this.state.rateShow?"none":"block"}},"￥",u)),_.default.createElement("div",{className:"expect_tax_con disnon",style:{display:this.state.rateShow?"block":"none"}},_.default.createElement("div",{className:"tax_count"},"￥",u),_.default.createElement("div",{className:"c-pl15 c-pr15"},_.default.createElement("div",{className:"hd"},_.default.createElement("img",{src:"/src/img/icon/checked-icon.png"})," 税率",_.default.createElement("span",{id:"tax_cou"},s),"%"),_.default.createElement("div",{className:"tax_cont tax_cont1"}," 按照国家规定，本商品适用于跨境综合税，税率为",s,"%， 实际结算税费请以提交订单时的应付总额明细为准。"),_.default.createElement("div",{className:"hd"},_.default.createElement("img",{src:"/src/img/icon/checked-icon.png"})," 税费计算"),_.default.createElement("div",{className:"tax_cont"},"进口税费=商品完税价格(包括运费)*税率")))):null}},{key:"render",value:function(){return this.getRate()}}]),t}(),Fe=t.BuyModal=function(t){function a(t){P(this,a);var o=H(this,(a.__proto__||(0,r.default)(a)).call(this,t));return o.changeBusinessPrice=function(){var e=o.props.retState,t=e.num,a=e.business,r=e.nowPrice,i=e.nowSkuId,l=e.storeNum,s=e.selectArr,c=e.specKey,u=o.props.promotion.info.skus,d=o.props.promotion.info.specs,p=(0,n.default)(u)[0];a&&(r=t>=+(0,n.default)(a.rules)[0]?a.sell_price:u[p].price);i=u[p].sku_id,l=u[p].store,s=p.split("_"),c=(0,n.default)(d);var f=y({},o.props.retState,{nowPrice:r,nowSkuId:i,storeNum:l,selectArr:s,specKey:c});o.props.InitState(f)},o.addMinNum=function(e){var t=o.props.retState,a=t.num,r=t.business,i=t.nowPrice,l=t.nowSkuId,s=t.selectArr;if(a=a+e,r){var c=s.join("_")?s.join("_"):0,u=o.props.promotion.info.skus,d=+(0,n.default)(r.rules)[0];l&&(i=a>=d?r.sell_price:u[c].price)}var p=y({},o.props.retState,{num:a,nowPrice:i});o.props.InitState(p)},o.purchaseLimit=function(){var e=o.props.data.trade_type;if(o.props.retState.num>1&&o.props.retState.nowSkuId&&(0,w.PurchaseLimit)(e))return o.props.retState.num*o.props.retState.nowPrice>2e3},o.getActionData=function(e){var t=o.props.retState,a=o.props.mix&&o.props.mix.addrList,n=a&&(a.recent_addr.length>0&&a.recent_addr[0].addr_id||a.default_addr&&a.default_addr.addr_id)||0,r={"item[item_id]":t.itemId,"item[quantity]":t.num,"item[sku_id]":t.nowSkuId},i=o.props.location.query.user_id;return i&&(r.commission_user_id=i),e&&(r.mode="fast_buy",r.addr_id=n),r},o.onClickCart=function(){var t=o;o.checkSpec()?T.tip.show({msg:"请选择规格"}):(t.setState({toCartClick:!1}),e.ajax(F("toCart",{data:o.getActionData(),success:function(a){var n,r,o;(t.setState({toCartClick:!0}),a.status)&&(t.props.UpdateCartInfo(a.data),n=e(".posit-img").find("img").offset(),r=e(".cart-toTop .cart").offset(),o=e(".posit-img").find("img").attr("src"),e('<img class="u-flyer" src="'+o+'" />').fly({start:{left:n.left,top:n.top},end:{left:r.left+40,top:r.top+40,width:0,height:0},onEnd:function(){this.destory()}}),e(".cart-toTop"),t.props.closeModal())}})))},o.onClickBuy=function(t){o.checkSpec()?T.tip.show({msg:"请选择规格"}):(o.setState({toBuyClick:!1}),e.ajax(F("toCart",{data:o.getActionData(!0),success:function(e){if(o.setState({toBuyClick:!0}),e.status){var a=e.data.buy_type;o.props.UpdateBuyModal({buyModal:!0,buyActive:t}),A.browserHistory.push("/orderConfirm?mode=fast_buy&buy_type="+a)}}})))},o.isHasStore=function(e,t,a){return t&&t.some(function(t,n){if(t.ids[e.index]==e.spec){var r=a.slice();return r[e.index]&&delete r[e.index],!!r.every(function(e,n){return a[n]==t.ids[n]})&&t.skus.store>0}return!1})},o.specSelect=function(e,t,a){var r,i=o.props.retState,l=o.props.promotion.info.skus,s=o.props.promotion,c=s.store,u=s.itemRules,d=i.selectArr,p=i.specKey,f=i.nowSku,m=i.storeNum,h=i.newData,g=i.nowSkuId,v=i.nowPrice,E=i.num,b=i.business,_=i.deductPrice;(d=d.slice())[t]===e?(delete d[t],delete p[t]):(d[t]=e,p[t]=a),r=d.join("_"),d.length==h[0].ids.length&&l[r]?(f=l[r],g=l[r].sku_id,v=l[r].business&&!u&&E>=(0,n.default)(l[r].business.rules)[0]?l[r].business.sell_price:l[r].price,m=l[r].store,b=u?null:l[r].business,E=E<m?E:m,_=l[r].deduct_price):(v=G(o.props.promotion,!0),m=c.real,g="",f="",b=J(o.props.promotion),_="");var x=y({},o.props.retState,{nowSku:f,selectArr:d,specKey:p,nowSkuId:g,nowPrice:v,num:E,storeNum:m,business:b,deductPrice:_});o.props.InitState(x)},o.judgeSingleSku=function(){var e=o.props.promotion.info.skus;return 1===(0,n.default)(e).length},o.importNum=function(e){var t=e.target.value,a=o.props.retState,r=a.num,i=a.storeNum,l=a.business,s=a.selectArr,c=a.nowSkuId,u=a.nowPrice;if(!t){if(r=o.preNum||i,l){var d=s.join("_")?s.join("_"):0,p=o.props.promotion.info.skus,f=+(0,n.default)(l.rules)[0];c&&(u=r>=f?l.sell_price:p[d].price)}var m=y({},o.props.retState,{num:r,nowPrice:u});o.props.InitState(m)}},o.changeNum=function(e){var t=o.props.retState,a=t.num,r=(t.nowSku,t.nowSkuId),i=t.nowPrice,l=t.selectArr,s=t.business,c=t.storeNum,u=e.target.value;if(o.preNum=a,a=+u?+u>c?a:+u:"",s){var d=l.join("_")?l.join("_"):0,p=o.props.promotion.info.skus,f=+(0,n.default)(s.rules)[0];r&&(i=a>=f?s.sell_price:p[d].price)}var m=y({},o.props.retState,{num:a,nowPrice:i});o.props.InitState(m)},o.state={toCartClick:!0,toBuyClick:!0},o}return R(a,b.Component),E(a,[{key:"componentWillMount",value:function(){this.judgeSingleSku()&&this.changeBusinessPrice()}},{key:"checkSpec",value:function(){var e=this.props.retState,t=e.specKey,a=e.nowSkuId,r=this.props.promotion.info.specs;return!a&&"array"!=typeof r&&((0,n.default)(r).filter(function(e,a){return+e!==t[a]}),!0)}},{key:"render",value:function(){var e=y({addMinNum:this.addMinNum,changeNum:this.changeNum,importNum:this.importNum,isHasStore:this.isHasStore,onClickCart:this.onClickCart,onClickBuy:this.onClickBuy,specSelect:this.specSelect,judgeSingleSku:this.judgeSingleSku,purchaseLimit:this.purchaseLimit,retState:this.props.retState,promotion:this.props.promotion,data:this.props.data,buyActive:this.props.buyActive,isNonPayment:this.props.isNonPayment},this.state);return _.default.createElement(I.NewModal,{isOpen:this.props.buyModal,onClose:this.props.closeModal},_.default.createElement("div",{className:"action-buy-modal"},_.default.createElement(He,e),_.default.createElement(Re,e),_.default.createElement(ze,e)))}}]),a}(),Ue=t.Buy=function(e){function t(){var e,a,n;P(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=H(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.active=function(e){n.props.UpdateBuyModal({buyModal:!0,buyActive:e})},n.closeModal=function(){n.props.UpdateBuyModal({buyModal:!1})},n.isNonPayment=function(){if(n.props.promotion.itemRules){var e=n.props.promotion.itemRules,t=e.real_store,a=e.item_sales,r=e.sales_count;if(!t)return a!==r}},H(n,a)}return R(t,b.Component),E(t,[{key:"render",value:function(){var e=this,t=y({},this.props,{isNonPayment:this.isNonPayment(),closeModal:this.closeModal});return t.mixStatus&&t.proStatus?_.default.createElement("div",null,this.props.choose?_.default.createElement("div",null,"chooseSpec"===this.props.buyActive&&_.default.createElement(Fe,t),_.default.createElement(S.LinkChange,{className:"choose-btn",onClick:function(){e.active("chooseSpec")}})):this.props.data.is_charge?null:"Shelves"===this.props.data.status?this.isNonPayment()?_.default.createElement("div",{className:"action-btn-group c-fr"},_.default.createElement(S.LinkChange,{type:"button",className:"ui-btn action-disable"},"还有机会")):this.props.promotion.store.real?_.default.createElement("div",{className:"action-btn-group c-fr"},("buy"===this.props.buyActive||"cart"===this.props.buyActive)&&_.default.createElement(Fe,t),_.default.createElement(S.LinkChange,{className:"ui-btn  action-addtocart c-fl",onClick:function(){e.active("cart")}},"加入购物袋"),_.default.createElement(S.LinkChange,{className:"ui-btn  action-buy-now c-fl",onClick:function(){e.active("buy")}},"立即购买")):_.default.createElement("div",{className:"action-btn-group c-fr"},_.default.createElement(S.LinkChange,{type:"button",className:"ui-btn action-disable"},"已售罄")):_.default.createElement("div",{className:"action-btn-group c-fr"},_.default.createElement(S.LinkChange,{type:"button",className:"ui-btn action-disable"},"已下架"))):_.default.createElement("div",{className:"action-btn-group c-fr"},_.default.createElement("span",{className:"ui-btn  action-addtocart c-fl incomplete-addtocart"},"加入购物袋"),_.default.createElement("span",{className:"ui-btn  action-buy-now c-fl incomplete-buy-now"},"立即购买"))}}]),t}(),qe=(t.createBuyAction=function(e){var t=e.Buy;return function(e){function a(){return P(this,a),H(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return R(a,O.PureComponent),E(a,[{key:"render",value:function(){var e=this.props.data.shop.customer_service_id,a=this.props,n=a.data,r=a.mix,o=a.cartNum,i=a.cartInfoStatus;a.mixStatus,a.proStatus,a.UpdateBuyModal;return _.default.createElement("div",{className:"buy-action"},_.default.createElement("div",{className:"collect serve_kf"},_.default.createElement(S.CustomerService,{className:"save",customerParams:{pageTitle:"商品详情",itemid:this.props.itemId,pageURLString:location.href,settingid:e||"xt_1000_1498530991111"}},_.default.createElement("span",{className:"details_kf"},_.default.createElement("img",{src:"/src/img/icon/serve-phone-icon.png"})),_.default.createElement("span",{className:"icon-title"},"客服"))),_.default.createElement(Le,{data:n,mix:r}),_.default.createElement(Pe,{cartNum:o,cartInfoStatus:i}),_.default.createElement(t,this.props))}}]),a}()})({Buy:Ue}),Ze=(t.createChooseSpec=function(e){var t=e.Buy;return function(e){function a(){return P(this,a),H(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return R(a,O.PureComponent),E(a,[{key:"render",value:function(){var e=this.props.promotion.info.specs,a=this.props,n=a.retState,r=a.data,o=a.promotion,i=Q(n,e);return"Shelves"===r.status&&o.store.total?!(e instanceof Array)&&_.default.createElement("div",{className:"choose-col"},_.default.createElement("div",{className:"choose-spec c-fs13"},_.default.createElement("span",{className:"c-mr15"},i.length>0&&n.nowSkuId?"已选择 ":"选择 "),i.length>0&&n.nowSkuId&&Q(n,e),_.default.createElement("i",{className:"icon icon-forward vertical-middle"},_.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))),_.default.createElement(t,y({},this.props,{choose:!0})),_.default.createElement("div",{className:"gap bgf4"})):null}}]),a}()})({Buy:Ue}),Ge=function(t){function a(t){P(this,a);var n=H(this,(a.__proto__||(0,r.default)(a)).call(this,t));return n.scrollEvent=function(){var t=n.refs,a=t.scrollImage,r=t.screenRate,o=t.screenDetail,i=t.itemNav;a=x.default.findDOMNode(a),i=x.default.findDOMNode(i),window.removeEventListener("scroll",n.addScrollEvent),n.addScrollEvent=function(){var t=document.body.scrollTop,l=t/(e(a).height()-44);l=l>=1?1:l,n.setState({ratio:l});var s=n.state;e(i).css({display:l<=0?"none":"block",backgroundColor:"rgba(255,255,255,"+l+")",color:"rgba(53,53,53,"+l+")"}),t<r.offsetTop-44?0!==s&&n.setState({index:0}):t<o.offsetTop-44?1!==s&&n.setState({index:1}):2!==s&&n.setState({index:2})},window.addEventListener("scroll",n.addScrollEvent)},n.navClick=function(t){var a=n.refs,r=a.screenRate,o=a.screenDetail;0===t?e(window).scrollTop(0):1===t?e(window).scrollTop(r.offsetTop-44):e(window).scrollTop(o.offsetTop-44)},n.state={index:0},n}return R(a,b.Component),E(a,[{key:"componentDidMount",value:function(){this.scrollEvent()}},{key:"componentDidUpdate",value:function(){"static"===e("#item-details").css("position")&&this.scrollEvent()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.addScrollEvent)}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.data,n=e.mix,r=e.rate,o=e.recommend,i=e.promotion,l=e.cartNum,s=e.isLogin,c=e.pending,u=e.mixStatus,d=e.rateStatus,p=e.recommendStatus,f=e.proStatus,m=e.cartInfoStatus,h=e.retState,g=e.areaData,v=e.UpdateBuyModal,E=e.InitState,b=e.UpdateCartInfo,x=e.buyModal,k=e.buyActive,A=a.item_id,w={itemId:A,location:t,retState:h,data:a,mix:n,promotion:i,mixStatus:u,proStatus:f,buyModal:x,buyActive:k,UpdateBuyModal:v,InitState:E,UpdateCartInfo:b};return _.default.createElement("div",{"data-page":"item-detail",id:"item-details",ref:"details"},_.default.createElement(Y,{ref:"itemNav",index:this.state.index,navClick:this.navClick,ratio:this.state.ratio}),_.default.createElement("div",{ref:"screenItem",className:"screenItem"},_.default.createElement(X,{data:a,ref:"scrollImage"}),_.default.createElement($,{data:a,proStatus:f,promotion:i}),f&&_.default.createElement(ie,{promotion:i,shop:a.shop,retState:h}),_.default.createElement("div",{className:"gap bgf4"}),u&&f&&_.default.createElement(Ze,w),u&&_.default.createElement(ve,{mix:n,data:a,retState:h,areaData:g,isLogin:s,pending:c}),_.default.createElement("div",{className:"gap bgf4"})),_.default.createElement("div",{ref:"screenRate"},d&&_.default.createElement(Ce,{rate:r,itemId:A}),_.default.createElement("div",{className:"gap bgf4"}),p&&_.default.createElement(Me,{recommend:o}),_.default.createElement("div",{className:"gap bgf4"}),_.default.createElement(Oe,{shop:a.shop})),_.default.createElement("div",{ref:"screenDetail"},_.default.createElement(De,{data:a})),_.default.createElement(qe,y({cartNum:l,cartInfoStatus:m},w)))}}]),a}();t.default=Ge}).call(this,a("OOjC"))},KKGn:function(e,t,a){},KNzn:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p,f,m=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=k(g),y=a("Zfgq"),E=(a("O27J"),a("d2xe")),b=k(a("fw66")),_=a("2uFj"),x=k(a("qAHI"));function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("9fvt");var C={init:{url:_.MALLAPI+"/rate/order",method:"get"},createRate:{url:_.MALLAPI+"/rate/createRate",method:"post"},recommendItem:{url:_.MALLAPI+"/rate/recommendItem",method:"get"}},S=void 0,T=!1,M=function(e){S?history.go(-1):(window.history.pushState(null,null,document.URL),T?location.href="jsbridge://exitModule":b.default.Modal({isOpen:!0,msg:"确认取消发布吗？"},function(){location.href="jsbridge://exitModule"}))},I=(d=u=function(t){function a(e,t){A(this,a);var r=w(this,(a.__proto__||(0,n.default)(a)).call(this,e));r.submiteEva=function(){r.setState({evaluateAlready:"success"})};var o=e.location.query.tid;return r.state={tid:o,dataList:[],evaluateAlready:"evaluate",update:!1},r}return N(a,g.Component),h(a,[{key:"componentWillUnmount",value:function(){e(".reloads").remove()}},{key:"componentDidMount",value:function(){e('<meta class="reloads" name="reload-enbaled" content="false">').appendTo("head");var t=this;this.state.tid||y.browserHistory.push("/"),x.default.request(m({},C.init,{params:{no:t.state.tid}})).then(function(a){0===a.data.code?(S=0,window.history.pushState(null,null,document.URL),window.addEventListener("popstate",M,!1),t.setState({dataList:a.data.data,update:!0})):(S=-1,e(".more-click").css({display:"none"}),history.go(-1))}).catch(function(e){console.log(e),b.default.MsgTip({msg:"服务器繁忙"}),history.go(-1)})}},{key:"componentWillMount",value:function(){document.title="发表评论",window.location.href="jsbridge://set_title?title=发表评论"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",M,!1)}},{key:"render",value:function(){var e=this.state.dataList;return this.state.update?v.default.createElement("div",{"data-page":"evaluate-list"},v.default.createElement("section",{ref:"evaluate-suc"},"success"===this.state.evaluateAlready?v.default.createElement(O,null):v.default.createElement(z,{dataList:e,fn:this.submiteEva}),v.default.createElement("div",{id:"tips",className:"c-fs14 c-lh30 c-tc c-bg000 c-cfff c-pf",style:{top:"150px",left:"50%",marginLeft:"-80px",width:"160px",height:"30px",opacity:"0.8",borderRadius:"15px",zIndex:"200",display:"none"}},"最多只能输入100字"))):v.default.createElement(E.LoadingRound,null)}}]),a}(),u.contextTypes={store:v.default.PropTypes.object,router:v.default.PropTypes.object},d);t.default=I;var O=function(t){function a(){return A(this,a),w(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,g.Component),h(a,[{key:"componentWillMount",value:function(){document.title="感谢评价",window.location.href="jsbridge://set_title?title=感谢评价",this.setState({goodsData:[],update:!1})}},{key:"componentDidMount",value:function(){var t=this;x.default.request(m({},C.recommendItem)).then(function(a){0===a.data.code?t.setState({goodsData:a.data.data,update:!0}):(e(".more-click").css({display:"none"}),b.default.MsgTip({msg:"服务器繁忙"}))}).catch(function(e){console.log(e),b.default.MsgTip({msg:"服务器繁忙"})})}},{key:"render",value:function(){var e=this.state.goodsData;return this.state.update?v.default.createElement("div",{id:"evaluate-success"},v.default.createElement(D,null),v.default.createElement(L,null),v.default.createElement(P,{goodsData:e}),v.default.createElement(R,null)):v.default.createElement(E.LoadingRound,null)}}]),a}(),D=function(e){function t(){var e,a,r;A(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=w(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.goBack=function(){location.href="jsbridge://exitModule"},w(r,a)}return N(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"suc-inform"},v.default.createElement("img",{src:"/src/img/evaluate/success.png"}),v.default.createElement("h2",{className:"c-fs18 c-lh18 c-c35 c-tc c-mb14"},"评价成功哦，感谢您的评价!"),v.default.createElement("p",{className:"c-fs12 c-lh12 c-c666 c-tc c-mb25"},"您的评价将是其他用户选购的重要参考!"),v.default.createElement("button",{onClick:this.goBack,className:"c-fs18 c-bgdred c-br4 c-mb14 c-cfff"},"继续评价"))}}]),t}(),L=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"more-recommend"},v.default.createElement("div",{className:"line"}),v.default.createElement("div",{className:"line-txt c-tc c-fs12 c-c666"},"更多商品推荐"))}}]),t}(),P=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.goodsData.map(function(e,t){return v.default.createElement(H,{data:e,key:t})});return v.default.createElement("div",{className:"more-goods c-clrfix"},e)}}]),t}(),H=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.data;return v.default.createElement("div",{className:"each-goods"},v.default.createElement("div",{className:"goods-position"},v.default.createElement("a",{href:_.RNDomain+"/item?item_id="+e.item_id,className:"goods-img"},v.default.createElement("img",{src:e.image?e.image:"/src/img/evaluate/goodsbg.png"})),v.default.createElement("div",{className:"goods-title c-fs12 c-c35 c-mb10"},e.title),v.default.createElement("p",{className:"c-fs12 c-fb c-cdred c-tl"},"￥",e.sell_price)))}}]),t}(),R=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"find-more"},v.default.createElement("a",{href:"trmall://main?page=home",className:"c-c35 to-more"},"查看更多>"))}}]),t}(),z=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e,t=this.props.dataList;return e=v.default.createElement(B,{dataList:t}),v.default.createElement("div",{id:"evaluate-input"},e,v.default.createElement(V,{dataList:t,fn:this.props.fn}))}}]),t}(),B=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.dataList;console.log(this.props);var t="";return e.order_goods&&(t=e.order_goods.map(function(e,t){return v.default.createElement(j,{dataList:e,key:t})})),v.default.createElement("div",{style:{width:"100%"},className:"shops-eva"},t,"")}}]),t}(),j=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.dataList;return v.default.createElement("div",{style:{width:"100%"},id:e.id,className:"each-goods-eva"},v.default.createElement("input",{type:"hidden",value:e.no}),v.default.createElement(F,{imageUrl:e.primary_image,goodsID:e.item_id}),v.default.createElement(q,null),v.default.createElement(Z,{id:e.id}))}}]),t}(),F=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.imageUrl,a=e.goodsID;return v.default.createElement("div",{className:"description"},v.default.createElement("div",{className:"goods-img c-fl"},v.default.createElement("a",{href:_.RNDomain+"/item?item_id="+a},v.default.createElement("img",{src:t}))),v.default.createElement("div",{className:"c-fl",style:{width:"76%"}},v.default.createElement(U,{data:"描述相符",starTxt:["差评","中评","中评","好评","好评"],starClass:"star-a",spanClass:"description-txt"})))}}]),t}(),U=function(t){function a(){return A(this,a),w(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t="."+this.props.starClass+" li",a=this.props.starTxt;e(t).click(function(t){var n=e(this).index();e(this).parent().attr({"eva-number":n}),e(this).parent().find("li").css({"background-position":"12px -22px"});for(var r=0;r<=n;r++)e(this).parent().find("li").eq(r).css({"background-position":"12px 4px"});var o="";switch(n){case 0:o=a[0];break;case 1:o=a[1];break;case 2:o=a[2];break;case 3:o=a[3];break;case 4:o=a[4]}e(this).parent().find("span").html(o).css({display:"block"})})}},{key:"render",value:function(){var e=this.props.spanClass+" c-cdred c-fs14",t=this.props.starClass+" c-fl stars",a=this.props.starTxt;return v.default.createElement("div",{className:"c-mb5",style:{width:"100%"}},v.default.createElement("span",{className:"c-c666 c-lh24 c-fl c-fs14",style:{marginRight:"12.5px"}},this.props.data),v.default.createElement("ul",{className:t},v.default.createElement("li",null),v.default.createElement("li",null),v.default.createElement("li",null),v.default.createElement("li",null),v.default.createElement("li",null),v.default.createElement("span",{className:e},a[4])))}}]),a}(),q=function(t){function a(){return A(this,a),w(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=null;e("#evaluate-input .evaluate-textarea textarea").bind("input propertychange",function(){if(e(this).val().length>100){clearTimeout(t),e(this).val(e(this).val().substring(0,100)),e("#tips").show();e(this);t=setTimeout(function(t){e("#tips").hide()},1e3)}})}},{key:"render",value:function(){return v.default.createElement("div",{className:"evaluate-textarea"},v.default.createElement("textarea",{className:"c-fs14 c-c35 c-lh25",placeholder:"您的评价对其他买家很有帮助哦"}))}}]),a}(),Z=function(e){function t(){var e,a,r;A(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=w(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.addImg=function(e,t){var a=r.state.imgUrl;e===r.props.id&&(a.push(t),r.setState({imgUrl:a,dataLength:a.length}))},r.removeImg=function(e,t){var a=r.state.imgUrl;e===r.props.id&&(a.splice(t,1),r.setState({imgUrl:a,dataLength:a.length}))},w(r,a)}return N(t,g.Component),h(t,[{key:"componentWillMount",value:function(){this.setState({imgUrl:[],dataLength:0})}},{key:"render",value:function(){var e=this,t=this.state.imgUrl.map(function(t,a){return v.default.createElement(G,{data:!0,id:"img"+e.props.id+a,pid:e.props.id,urls:t,fn2:e.removeImg,key:a})});return v.default.createElement("div",{className:"evaluate-imgs c-clrfix c-mb10"},t,this.state.dataLength>4?"":v.default.createElement(G,{data:!1,pid:e.props.id,dataLength:this.state.dataLength,fn:this.addImg}))}}]),t}(),G=function(t){function a(){return A(this,a),w(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.fn2,n=t.pid,r=t.id;e("#img"+r+" .del-img").click(function(t){var r=e(this).parent().index();a(n,r)})}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.dataLength,n=e.pid;return v.default.createElement("div",{id:t?"img"+t:"",className:"each-img c-fl c-mr10",style:this.props.data?{border:"none"}:{}},this.props.data?v.default.createElement(Q,{urls:this.props.urls}):v.default.createElement(J,{dataLength:a,fn:this.props.fn,pid:n}),this.props.data?v.default.createElement("div",{className:"del-img"},v.default.createElement("div",{className:"del"})):"")}}]),a}(),J=function(e){function t(){var e,a,r;A(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=w(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getImg=function(){var e=r.props,t=(e.fn,e.pid),a=r,n="jsbridge://choosePic?maxSize=2000&size=0&crop=false&postUrl="+window.btoa("https://www.tairanmall.com/utils/util/upload_images.html?from=user&type=aftersales");window.onImageSelected=function(e){a.props.fn(t,e)},location.href=n},w(r,a)}return N(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.dataLength;return v.default.createElement("div",{onClick:this.getImg,className:"no-img c-fs12 c-tc"},e?e+" / 5":"上传照片")}}]),t}(),Q=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{style:{width:"80px",height:"80px",overflow:"hidden"}},v.default.createElement("img",{style:{width:"80px"},src:this.props.urls}))}}]),t}(),V=(function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}N(t,g.Component),h(t,[{key:"render",value:function(){var e=["差","不推荐","一般","很好","非常好"],t=this.props.dataList;return v.default.createElement("div",{className:"shop-score",id:t.id},v.default.createElement("img",{className:"shop-icon",src:"/src/img/icon/store-icon.png"}),v.default.createElement("div",{className:"score c-fs14 c-c35 c-mb14"},t.shop_name),v.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},v.default.createElement(U,{className:"c-mb14",data:"描述相符",starTxt:e,starClass:"star-b",spanClass:"shop-stara"})),v.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},v.default.createElement(U,{className:"c-mb14",data:"服务态度",starTxt:e,starClass:"star-c",spanClass:"shop-starb"})),v.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},v.default.createElement(U,{className:"c-mb14",data:"发货速度",starTxt:e,starClass:"star-d",spanClass:"shop-starc"})),v.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},v.default.createElement(U,{className:"c-mb14",data:"物流速度",starTxt:e,starClass:"star-e",spanClass:"shop-stard"})))}}])}(),f=p=function(t){function a(e){A(this,a);var t=w(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.changeAnonymous=function(){t.setState({isAnonymous:!t.state.isAnonymous})},t.submitEach=function(e){t.props.dataList;var a=t;x.default.request(m({},C.createRate,{data:e})).then(function(e){T=!0,a.props.fn()}).catch(function(e){a.setState({subClick:!1}),b.default.MsgTip({msg:"服务器繁忙"})})},t.state={isAnonymous:!0,subClick:!1},t}return N(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=this;e(".submite-all").click(function(a){if(!t.state.subClick){t.setState({subClick:!0});for(var n=e(".each-goods-eva"),r=t.props.dataList.no,o=t.state.isAnonymous?1:0,i=[],l=0,s=n.length;l<s;l++){var c={},u=e(n[l]);c.order_good_no=u.children("input").val(),c.content=u.find("textarea").val();for(var d=u.find(".each-img img"),p=[],f=0,m=d.length;f<m;f++)p.push(e(d[f]).attr("src"));switch(c.images=p,c.grade=u.find(".description-txt").html(),c.grade){case"好评":c.grade=30;break;case"中评":c.grade=20;break;case"差评":c.grade=10;break;default:c.grade=30}i.push(c)}var h={shop_no:r,anonymous:o,rates:i};t.submitEach(h)}})}},{key:"render",value:function(){var e=this.state.isAnonymous;return v.default.createElement("div",{className:"submit-evaluation"},v.default.createElement("p",{className:e?"anonymous c-fl c-c35 c-fs12":"anonymous c-fl c-c35 c-fs12 anonymous-cbg",onClick:this.changeAnonymous},"匿名"),v.default.createElement("p",{className:"anonymous-txt c-fr c-cc9 c-fs12"},e?"您的评论会以匿名形式展现":"您的评价能帮助其他小伙伴哟"),v.default.createElement("button",{className:"c-fs14 c-bgdred c-br4 c-mb14 c-cfff submite-all"},"提交评价"))}}]),a}(),p.contextTypes={store:v.default.PropTypes.object,router:v.default.PropTypes.object},f)}).call(this,a("OOjC"))},KY8i:function(e,t,a){},"Km++":function(e,t){e.exports="data:image/png;base64,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"},L1w3:function(e,t,a){e.exports={emptyBg:"_2EX_0HwVqQF4HjCi9sjurH",emptySelect:"-koPWlmkcZecWncSF3tam"}},Lb6L:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=t.ListArea=t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=m(u),p=(a("Zfgq"),m(a("O27J")),a("fluX")),f=(m(a("fw66")),m(a("6YRh")));a("d2xe");function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("KY8i"),a("eWoF");var y={url:"/originapi/trcapi/v1/channel",type:"get"},E=function(e){function t(e){h(this,t);var a=g(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={tabData:"",menuData:[],success:!1},a}return v(t,u.Component),c(t,[{key:"componentDidMount",value:function(){var e=this;(0,p.ownAjax)(y,{cat_name:this.props.location.query.type}).then(function(t){e.setState({listData:t,tabData:t.catgoods,menuData:t.catgoods.goods_h5,success:!0})}).catch(function(e){})}},{key:"render",value:function(){var e=this.state.listData;return d.default.createElement("div",{"data-page":"zeroBuy-channel",className:"main"},this.state.success?d.default.createElement("div",null,e?d.default.createElement("div",null,d.default.createElement(b,{tabData:this.state.tabData}),d.default.createElement(_,{menuData:this.state.menuData})):""):null)}}]),t}();t.default=E;var b=t.ListArea=function(e){function t(){return h(this,t),g(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return v(t,u.Component),c(t,[{key:"componentDidMount",value:function(){f.default.init()}},{key:"render",value:function(){var e=this.props.tabData;return d.default.createElement("div",{className:"apple-area",style:{paddingTop:"0px",marginTop:"0px"}},d.default.createElement("img",{"data-echo":e.explain_img_h5,src:"/src/img/icon/loading/default-watermark.png"}))}}]),t}(),_=t.ListItem=function(e){function t(){return h(this,t),g(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return v(t,u.Component),c(t,[{key:"componentDidMount",value:function(){f.default.init()}},{key:"render",value:function(){var e=this.props.menuData,t=e instanceof Array?e.map(function(e,t){return d.default.createElement("div",{className:"item-box-container",key:t},d.default.createElement("div",{className:"item-box-list",key:t},d.default.createElement("div",{className:"item-pic"},d.default.createElement("a",{href:e.link},d.default.createElement("img",{"data-echo":e.img,src:"/src/img/icon/loading/default-watermark.png"}))),d.default.createElement("div",{className:"item-des"},d.default.createElement("p",{className:"des-text"},e.name),d.default.createElement("div",{className:"des-price"},d.default.createElement("div",{className:"p-lf"},"￥",e.market_price),d.default.createElement("div",{className:"p-at"},"存入",d.default.createElement("span",{className:"p-ay"},e.invest_money,"元"),"起")))))}):null;return d.default.createElement("div",{className:"item-container",style:{width:"100%",overflow:"hidden"}},t)}}]),t}()},MTHZ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAcCAMAAACJShVNAAAA/FBMVEVMaXGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk4qFVAAAAU3RSTlMA4wpO/nnM/PkPflB7gFL6TFT7d1VzVnGCWMi/F9AV1nBJ8y/4NYEZFM/YXBwg4NkfGsvNDdva3SIdG8PEHsYQxRMOEd/iyt5vI8ELml7A9iRnbAUWDLIAAACfSURBVBjTVc81AsNADERRO7GzDjMzMzMzc+b+d0m5krr3q5FSzJUUevkCIixkDThZ8BiwsWA24GDBbkBnweWGnwWvD0EWAgJhFkICGRaiQruwUBfaj4Wn0L4s6HhTflQ8CK8qXibJyRE3wmYL87tk54DFQHJ5xmYnOR1jZZVsDHEinI3QI+y2YVlLlmvo7yUTaVS3ZKUFyQp9Ih5LUf4BCzQVHbmEtdAAAAAASUVORK5CYII="},MX37:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(u=f)&&u.__esModule?u:{default:u},h=a("4n+p"),g=a("f2Hk"),v=a("d2xe"),y=a("2uFj");function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}var b=(0,g.concatPageAndType)("logicompany"),_=(0,g.actionAxios)("logicompany"),x={init:{url:y.MALLAPI+"/user/sold/logistics",method:"get"}},k=function(t){function a(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=E(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.getCompany=function(e){(0,o.props.dispatch)(b("changeCompany",{name:e.name,code:e.code,id:e.id})),history.go(-1)},o.getHtml=function(){var e=o.props.data,t=[];for(var a in e)t.push(m.default.createElement("div",{id:a,key:a},m.default.createElement("h1",null,a),e[a].map(function(e){return m.default.createElement("div",{className:"one-company",onClick:function(){o.getCompany(e)},key:e.id+e.code},e.name)})));return t},o.anchorJump=function(t){var a=e(t).text();e(t).href="#"+a;var n=location,r=n.pathname+n.search;window.location.replace(r+"#"+a)},o.move=function(){event.preventDefault(),anchorJump(document.elementFromPoint(event.changedTouches[0].clientX,event.changedTouches[0].clientY))},o.touchEnd=function(){var t=1;setInterval(function(){(t-=.1)>0?e(".letter").css({opacity:t}):clearInterval()},50)},o.getsubLitter=function(){var e=o.props.data,t=[];for(var a in e)t.push(m.default.createElement("a",{key:a,onTouchStart:function(e){o.anchorJump(e.target)}},a));return t},E(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,f.Component),p(a,[{key:"componentWillMount",value:function(){this.props.getData()}},{key:"render",value:function(){var e=this,t=this.props.load;return m.default.createElement("div",null,t?m.default.createElement(v.LoadingRound,null):m.default.createElement("div",{"data-page":"after-sale-company"},this.getHtml(),m.default.createElement("div",{className:"slidePage flex-def flex-zTopBottom flex-zCenter flex-cEnd",onTouchEnd:function(){e.touchEnd()},onTouchMove:function(){e.move()}},m.default.createElement("div",{className:"wrap"},this.getsubLitter()))))}}]),a}();t.default=(0,h.connect)(function(e,t){return d({},e.logicompany)},function(e,t){return{dispatch:e,getData:function(){e(_("getData",d({},x.init,{params:{}})))}}},function(e,t,a){return t.dispatch,d({},e,t,a)})(k)}).call(this,a("OOjC"))},NHlg:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=y(p),m=(a("fluX"),a("2uFj")),h=y(a("qAHI")),g=y(a("fw66")),v=a("d2xe");function y(e){return e&&e.__esModule?e:{default:e}}var E={GroupBuy:{url:m.MALLAPI+"/promotion/checkGroupBuy",method:"post"},cashier:{url:m.MALLAPI+"/payment/intentions",method:"get"},payQuery:{url:m.MALLAPI+"/payment/status",method:"get"}},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.cashierFun=function(){h.default.request(u({},E.cashier,{params:{order_no:a.tid}})).then(function(e){var t=e.data.data,n=t.business,r=t.payment_no;a.payment_no=r,3!==n.pay_mode?window.location.href="jsbridge://pay_by_trcpay?payid="+n.pay_id+"&appid="+n.app_id+"&orgId="+n.org_id+"&payment_no="+r:window.location.replace(m.PAYURL+"/checkstand_wx/#/"+("list"===a.from?"successByOffline":"loading")+"?payId="+n.pay_id+"&orgId="+n.org_id+"&successUrl="+encodeURIComponent(a.host+"/payResult?status=3")+"&errorUrl="+encodeURIComponent(a.host+"/tradeList/0"))}).catch(function(e){console.log(e),g.default.MsgTip({msg:"跳转收银台失败"}),setTimeout(function(){window.location.href="jsbridge://open_link_at_stack_root?url="+window.btoa(host+"/tradeList/0")},1e3)})},a.promotionId=e.location.query.promotionId,a.isGroupBuy="true"===e.location.query.isGroupBuy,a.tid=e.location.query.oid,a.from=e.location.query.from,a.host=window.location.origin,a.payment_no="",a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"componentWillMount",value:function(){var e=this;document.title="订单支付",window.location.href="jsbridge://set_title?title=订单支付";var t=window.location.protocol+"//"+window.location.host,a=this.props.location.query;a.oid,a.zeroBuy,a.from;window.onTRCPayResult=function(a){"true"===a?h.default.request(u({},E.payQuery,{params:{payment_no:e.payment_no}})).then(function(e){e.data;window.location.href="jsbridge://open_link_at_stack_root?url="+window.btoa(t+"/vipPayOk")}).catch(function(e){g.default.MsgTip({msg:e.response.data.message}),setTimeout(function(){window.location.href="jsbridge://open_link_at_stack_root?url="+window.btoa(t+"/vipPage")},2e3)}):window.location.href="jsbridge://open_link_at_stack_root?url="+window.btoa(t+"/vipPage")},this.isGroupBuy?this.promotionId?h.default.request(u({},E.GroupBuy,{data:{promotion_id:this.promotionId,object_id:0,order_no:this.tid}})).then(function(t){t.data.data.status&&e.cashierFun()}).catch(function(e){g.default.MsgTip({msg:e.response.data.message||"服务器繁忙"}),setTimeout(function(){browserHistory.replace("/tradeList/0")},2e3)}):(g.default.MsgTip({msg:"活动已结束"}),setTimeout(function(){browserHistory.replace("/tradeList/0")},2e3)):this.cashierFun()}},{key:"componentWillUnmount",value:function(){window.onAlipayPayResult=null;var e=document.querySelector("#msgTip");e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"render",value:function(){return f.default.createElement(v.LoadingRound,null)}}]),t}();t.default=b},NUeF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderClosereason=t.confimStatus=t.asTypes=t.asStatus=t.asReminder=t.asProcess=t.popupData=t.dispatchDelivery=t.payType=t.groupStatus=t.afterstatusDeal=t.orderType=t.reasonList=t.cancelOrderMap=t.groupStatusAndIcon=t.ordersubStatusAndIconMap=t.ordermainStatusAndIconMap=t.ordermainStatusMap=void 0,t.storeIcon=function(e){switch(e){case"icon_biz":return o.default.createElement("img",{src:a("n2/B"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"15",height:"17"});case"icon_self":return o.default.createElement("img",{src:a("thos"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"20",height:"20"});case"icon_good":return o.default.createElement("img",{src:a("f6Rb"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"17",height:"17"});default:return o.default.createElement("img",{src:a("QS0o"),style:{verticalAlign:"-3px",marginRight:"10px"},width:"16",height:"15"})}};var n,r=a("U7vG"),o=(n=r)&&n.__esModule?n:{default:n};t.ordermainStatusMap={10:"等待付款"},t.ordermainStatusAndIconMap={10:{status:"等待付款",icon:"/src/img/icon/trcUnpaid2.png"},20:{status:"已付款",icon:"/src/img/icon/trcSend2.png"},30:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"}},t.ordersubStatusAndIconMap={10:{status:"等待付款",icon:"/src/img/icon/trcUnpaid2.png"},20:{status:"已付款",icon:"/src/img/icon/trcSend2.png"},25:{status:"待发货",icon:"/src/img/icon/trcSend2.png"},30:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"},31:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"},40:{status:"已发货",icon:"/src/img/icon/trcWait2.png"},50:{status:"交易完成",icon:"/src/img/icon/trcEvaluation2.png"},60:{status:"交易完成",icon:"/src/img/icon/trcComplete2.png"}},t.groupStatusAndIcon={IN_PROCESS:{status:"拼团中",icon:"/src/img/icon/trcOngoing.png"},SUCCESS:{status:"拼团成功",icon:"/src/img/icon/trcSuccess.png"},FAILED:{status:"拼团失败",icon:"/src/img/icon/trcFailure.png"}},t.cancelOrderMap={SUCCESS:"取消成功",NO_APPLY_CANCEL:""},t.reasonList=[{name:"0",text:"不想买了"},{name:"1",text:"信息填写错误，重新下单"},{name:"2",text:"付款遇到问题"},{name:"3",text:"其他原因"}],t.orderType=["普通订单","零元购","分期购","拼团"],t.afterstatusDeal={10:"售后中",20:"售后完成",30:"售后完成",40:"售后中",50:"售后中",60:"售后关闭",70:"售后关闭",80:"售后关闭",null:"暂无售后"},t.groupStatus={0:"拼团失败",1:"拼团中",2:"拼团成功"},t.payType={10:"在线支付",20:"线下支付",30:"理财支付"},t.dispatchDelivery={10:"快递",20:"自提"},t.popupData={type:{title:"售后类型",list:[{method:"退货退款",content:"已收到货，需要退还已收到的货物",select:"restore"},{method:"仅退款",content:"无需退货",select:"refund"}],onlylist:[{method:"仅退款",content:"无需退货",select:"refund"}]},reason:{title:"退货原因",list:{restore:[{content:"商品与描述不符",select:1},{content:"商品错发漏发",select:2},{content:"收到商品破损",select:3},{content:"商品质量问题",select:4},{content:"个人原因退货",select:5},{content:"其他",select:6}],refund:[{content:"商品与描述不符",select:1},{content:"商品错发漏发",select:2},{content:"收到商品破损",select:3},{content:"商品质量问题",select:4},{content:"个人原因退货",select:5},{content:"未收到货",select:6},{content:"商品问题已拒签",select:7},{content:"退运费",select:8},{content:"其他",select:9}]}}},t.asProcess={10:"待审核",20:"售后完成",30:"售后完成",40:"等待商品寄回",50:"等待商家收货",60:"审核未通过",70:"售后关闭",80:"售后关闭"},t.asReminder={10:"您已成功发起售后申请，请耐心等待商家处理",20:"商家已操作退款给您，请注意查收",30:"商家已操作退款给您，请注意查收",40:"商家已通过您的售后申请，请退货并填写物流信息",50:"商家收到退货并验证无误，将操作退款给您",60:"商家未通过您的售后申请，您可以修改申请后再次发起",70:"您已撤销本次售后申请，最多可以在售后保障期内发起3次申请",80:"您因超时未填写物流单号，本次售后申请被撤销，最多可以在售后保障期内发起3次申请"},t.asStatus=["待处理","处理中","已处理","已驳回"],t.asTypes={10:"仅退款",20:"退货退款",EXCHANGING_GOODS:"申请换货"},t.confimStatus={10:"待发货",20:"部分发货",30:"已发货"};t.orderClosereason={10:"用户关闭",20:"平台取消订单",30:"等待付款的订单过付款时间，系统关单",40:"未在指定时间内拼团成功",50:"商品已完成售后"}},OANb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAACqVBMVEVMaXHk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OQ1rOzdAAAA4nRSTlMAaVXdLfClmRGIZjO7w/z+DwEKDAQD+f0C+x71Yfr3ZMkL2A7LFSD2dAbHJcVuzwXbNMTnOBcc4SFXB2V8Qs3CqMwTPGDxCMhY61bf2VDeRR1Ouap2TfLueAm1sspo7+qb1SMStGNcVILsWn1SaknkIlMYG+BekzA/KiiXhzmAt09Dwb1nWbOkrHrzjKOmr5yWhS6r6Z3QPppy1HNdhkBL09zj2kwf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"},Ovyh:function(e,t,a){"use strict";var n=l(a("fZjL")),r=l(a("us/S")),o=l(a("BO1k")),i=l(a("woOf"));function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var l,s=(0,o.default)(e);!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=p(a("GHKy")),d=p(a("BYKG"));function p(e){return e&&e.__esModule?e:{default:e}}var f={load:!0,listLoad:!0,firstTime:!0,form:"",keyWord:"",brands:"",category:"",property:"",dataList:"",priceRange:"",initSearch:"",preProperty:[],searchType:"",isPrev:!1,prevSearchData:{},couponId:"",shop:"",searchData:{search_keywords:"",category:[],brand:[],orderBy:{type:"",direct:""},priceRange:{min:"",max:"",id:""},properties:{},promotion:"",self:"",pages:1,coupon_id:""},totalPage:1,listType:"category",dropType:"",dropProperty:!1,disTop:0,prompt:{show:!1,msg:""}};t.default=(0,u.default)("searchResult",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case"resetState":return s({},f,{keyWord:t.keyWord,searchType:t.searchType});case"resetSearchData":return s({},e,{searchData:t.data});case"saveTop":return s({},e,{disTop:t.value});case"isLoad":return s({},e,{load:!1,listLoad:!1});case"setFrom":return s({},e,{from:t.from});case"initSearch":return s({},e,{initSearch:t.searchData});case"sortOrder":return function(e,t,a){var n=d.default.fromJS(e);return(n=n.setIn(["searchData","orderBy"],{type:t,direct:a})).toJS()}(e,t.navType,t.direct);case"itemType":return function(e,t){var a=d.default.fromJS(e);return(a=a.setIn(["searchData",t],e.searchData[t]?"":1)).toJS()}(e,t.itemType);case"dropType":return s({},e,{dropType:t.dropType&&(t.dropType===e.dropType?"":t.dropType)});case"listType":return s({},e,{listType:t.listType});case"filterSelect":return function(e,t,a){var n=d.default.fromJS(e);return(n=n.setIn(["searchData",a],t)).toJS()}(e,t.data,t.filterType);case"filterSelectReset":return function(e,t){var a=d.default.fromJS(e);return(a=a.setIn(["searchData",t],[])).toJS()}(e,t.filterType);case"filterProperty":return function(e,t,a){var n=(e=d.default.fromJS(e).toJS()).searchData.properties[t],r=n.indexOf(a.property_value_id);return r>-1?n.splice(r,1):n.push(a.property_value_id),e.searchData.properties[t]=n,e}(e,t.id,t.data);case"allSelectReset":return function(e){return(e=d.default.fromJS(e).toJS()).searchData.brand=[],e.searchData.category=[],e.searchData.priceRange={min:"",max:""},(0,n.default)(e.searchData.properties).forEach(function(t){e.searchData.properties[t]=[]}),e.listType="category",e}(e);case"filterPrice":return function(e,t,a){var n=(e=d.default.fromJS(e).toJS()).searchData.priceRange;return n[t]=a,""!==n.min?n=""!==n.max?{min:Math.min(n.min,n.max),max:Math.max(n.min,n.max)}:0===n.min?{min:"",max:""}:{min:0,max:n.min}:""!==n.max&&(n=0===n.max?{min:"",max:""}:{min:0,max:n.max}),e.searchData.priceRange=n,e}(e,t.ctrl,t.value);case"priceSelect":return function(e,t){var a=d.default.fromJS(e);return(a=(a=(a=a.setIn(["searchData","priceRange","id"],t)).setIn(["searchData","priceRange","min"],"")).setIn(["searchData","priceRange","max"],"")).toJS()}(e,t.id);case"minPrice":return function(e,t){var a=e.searchData.priceRange.min,n=d.default.fromJS(e);return""!==t&&(t=/^[0-9]+$/.test(t)?+t:a,n=n.setIn(["searchData","priceRange","id"],"")),(n=n.setIn(["searchData","priceRange","min"],t)).toJS()}(e,t.value);case"maxPrice":return function(e,t){var a=e.searchData.priceRange.max,n=d.default.fromJS(e);return""!==t&&(t=/^[0-9]+$/.test(t)?+t:a,n=n.setIn(["searchData","priceRange","id"],"")),(n=n.setIn(["searchData","priceRange","max"],t)).toJS()}(e,t.value);case"resetSearchList":return function(e){return(e=d.default.fromJS(e).toJS()).listLoad=!0,e.pages=1,e}(e);case"filterPopupCtrl":return s({},e,{dropType:"",dropProperty:!e.dropProperty});case"initData":return function(e,t){if((e=d.default.fromJS(e).toJS()).load=!1,e.listLoad=!1,e.initSearch){if(e.initSearch.coupon_id&&(e.couponId=e.initSearch.coupon_id),e.initSearch.shop&&(e.shop=e.initSearch.shop),e.initSearch.brand&&(e.searchData.brand=e.initSearch.brand.split(",").map(function(e,t){return Number(e)})),e.initSearch.category&&e.searchData.category.push(e.initSearch.category),e.initSearch.properties&&(e.preProperty=e.initSearch.properties),e.initSearch.orderBy){var a=e.initSearch.orderBy.split(":"),n=c(a,2),r=n[0],o=n[1];e.searchData.orderBy={type:r,direct:o}}e.initSearch.searchType&&(e.searchType=e.initSearch.searchType),e.initSearch=""}if(!t.status)return e.prompt={show:!0,msg:t.msg},e;var i=t.data;return i&&i.items?(e.firstTime&&(e.firstTime=!1,e.brands=i.brands,e.category=i.categoriesInfo,i.price_ranges=i.price_ranges.length&&i.price_ranges.length>=4?i.price_ranges.map(function(e,t){return e.id="price_"+t,e}):[],e.priceRange=i.price_ranges,e.property=i.category.length?i.category.map(function(t,a){return e.searchData.properties["property_"+a]=[],t.id="property_"+a,t}):[],e.property.unshift({id:"category",name:"分类",list:i.categoriesInfo},{id:"brand",name:"品牌",list:i.brands},{id:"price",name:"价格",list:i.price_ranges})),e.searchData.pages=i.pagers.current,e.totalPage=i.pagers.total,e.correction=i.correction,e.dataList=i.items,e.searchData.search_keywords=e.keyWord,i.correction&&(e.searchData.search_keywords=i.correction),e):(e.dataList="",e)}(e,t.result);case"concatData":return function(e,t){return e.listLoad||!e.dataList?e:((e=d.default.fromJS(e).toJS()).dataList=e.dataList.concat(t.data.items),e.searchData.pages=t.data.pagers.current,e.totalPage=t.data.pagers.total,e)}(e,t.result);case"ctrlPrompt":return s({},e,{prompt:s({},t.prompt)});default:return e}},f)},PhE9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(4).then(function(e){t(null,a("SRYB").default)}.bind(null,a)).catch(a.oe)}},Q2t0:function(e,t,a){"use strict";(function(e){var n,r,o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LogicBlock=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=w(m),g=a("Zfgq"),v=a("4n+p"),y=a("fw66"),E=w(y),b=w(a("qAHI")),_=a("2uFj"),x=a("NUeF"),k=(a("qeJi"),a("d2xe")),A=a("f2t5");w(a("2inQ"));function w(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var T={init:{url:_.MALLAPI+"/user/sold/list",method:"get"},revoke:{url:_.MALLAPI+"/user/sold/recall",method:"post"}},M=function(t){function n(e){N(this,n);var t=C(this,(n.__proto__||(0,o.default)(n)).call(this,e));return t.getData=function(){b.default.request(p({},T.init,{params:{page:1,page_size:10}})).then(function(e){var a=e.data.data,n=a.list,r=a.pager;t.setState({update:!0,data:n,hasMore:r.current_page<r.total_page})}).catch(function(e){console.log(e),E.default.MsgTip({msg:"网络错误，请稍后再试"})})},t.addData=function(){t.state.hasMore?(t.page++,b.default.request(p({},T.init,{params:{page:t.page,page_size:10}})).then(function(e){var a=e.data.data,n=a.list,r=a.pager;t.setState({data:t.state.data.concat(n),hasMore:r.current_page<r.total_page,Sending:!1})}).catch(function(e){console.log(e),E.default.MsgTip({msg:"网络错误，请稍后再试"})})):t.setState({Sending:!1})},t.reminderKnow=function(e,a){t.setState({status:e,msg:a})},document.title="退款/售后",window.location.href="jsbridge://set_title?title=退款/售后",t.state={data:[],update:!1,hasMore:!0,Sending:!1,status:!1,msg:""},t.page=1,t}return S(n,m.Component),f(n,[{key:"componentWillMount",value:function(){this.getData()}},{key:"componentDidMount",value:function(){var t=this,a=this.state,n=a.Sending,r=a.hasMore;e(window).bind("scroll.loadmore",function(){e(this).scrollTop()>e(".order-list").height()-e(window).height()-30&&r&&!n&&t.setState({Sending:!0},function(){t.addData()})})}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll.loadmore");var t=document.querySelector("#msgTip");t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.update,r=t.data,o=t.Sending,i=t.hasMore,l=t.status,s=t.msg;return h.default.createElement("div",{"data-page":"after-sale-list"},n&&r?r&&r.length?h.default.createElement("div",{className:"order-list"},h.default.createElement(I,{data:r,reminderKnow:this.reminderKnow}),o&&h.default.createElement("div",{style:{textAlign:"center"}},h.default.createElement("img",{src:a("4m+e"),alt:""})),!i&&h.default.createElement(k.NoMore,null),h.default.createElement(y.ModalAComp,{active:l,msg:s,btns:[{text:"我知道了",cb:function(){e.setState({status:!1})}}]})):h.default.createElement(k.NoMorePage,{text:"您还没有售后记录哦"}):h.default.createElement(k.LoadingRound,null))}}]),n}(),I=function(e){function t(){return N(this,t),C(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return S(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.reminderKnow;return h.default.createElement("div",null," ",t.map(function(e,t){return h.default.createElement(O,{data:e,key:t,reminderKnow:a})}))}}]),t}(),O=function(e){var t=e.data,a=e.reminderKnow;return h.default.createElement("div",{className:"one-order-grid"},h.default.createElement(D,{data:t}),h.default.createElement(P,{data:t}),h.default.createElement(L,{data:t}),!(50==t.status||30==t.status)&&h.default.createElement(R,{data:t,reminderKnow:a}))},D=function(e){function t(){return N(this,t),C(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return S(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop,a=e.type,n=t.is_open,r=t.id,o=t.alias,i=t.name,l=t.shop_icon;return h.default.createElement("div",{className:"order-info-time"},h.default.createElement("div",{className:"shop-name"},(0,x.storeIcon)(l),h.default.createElement("a",{href:1===n?"/store/home?shop="+r:"javascript:void(0)"},h.default.createElement("span",{className:"left"},o||i))),1===n&&h.default.createElement("div",{className:"arrow-right"},h.default.createElement("a",{href:1===n?"/store/home?shop="+r:"javascript:void(0)"},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png"}))),h.default.createElement("span",{className:"right order-status"},x.asTypes[a]))}}]),t}(),L=function(e){function t(){return N(this,t),C(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return S(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.extra,n=e.now;return h.default.createElement("div",{className:"order-ctrl deal-status"},h.default.createElement("span",null,x.asProcess[t]),40==t&&a&&h.default.createElement(z,{timeout:a.delivery_due,now:n}))}}]),t}(),P=function(e){function t(){return N(this,t),C(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return S(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data;return h.default.createElement("div",{className:"one-order"},h.default.createElement(H,{data:e}))}}]),t}(),H=(function(e){function t(){return N(this,t),C(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}S(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.bn;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(t),h.default.createElement("div",{className:"one-order"},h.default.createElement("div",{className:"order-info"},h.default.createElement("div",{className:"list-body"},h.default.createElement("div",{className:"list-img"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+a},h.default.createElement("img",{src:t.primary_image}))),h.default.createElement("div",{className:"list-body-ctt"},h.default.createElement("div",{className:"order-info-detail"},h.default.createElement("div",{className:"order-info-top"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+a,className:"order-info-title"},t.title),h.default.createElement("div",{className:"order-info-type"},t.spec_nature_info),h.default.createElement("span",{className:"gifts-lable"},"赠品")))))))}}])}(),function(e){var t=e.data,n=t.bn,r=t.goods_order,o=t.item_type;return h.default.createElement("div",{className:"order-info"},h.default.createElement("div",{className:"list-body"},h.default.createElement("div",{className:"list-img"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+n},h.default.createElement("img",{src:r.primary_image?(0,A.addImageSuffix)(r.primary_image,"_s"):a("VM8K")}))),h.default.createElement("div",{className:"list-body-ctt"},h.default.createElement("div",{className:"order-info-detail"},h.default.createElement("div",{className:"order-info-top"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+t.bn,className:"order-info-title"},r.title),h.default.createElement("div",{className:"info-price"},h.default.createElement("div",{className:"order-info-type"},r.spec_nature_info)),20==o&&h.default.createElement("div",null,h.default.createElement("span",{className:"gifts-lable"},"赠品")))))))}),R=function(e){function t(){var e,a,n;N(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=C(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.cancelDelete=function(){E.default.Modal({isOpen:!0,msg:"您最多可以在售后保障期内发起3次申请，确定撤销？"},function(){b.default.request(p({},T.revoke,{params:{after_sale_bn:n.props.data.bn}})).then(function(e){E.default.MsgTip({msg:"撤销成功"}),window.location.reload()}).catch(function(e){E.default.MsgTip({msg:e.response.data.message||"小泰发生错误，请稍后再试~"})})})},n.btnOrlink=function(e,t){var a=n.props,r=a.data,o=a.reminderKnow;e?o(!0,"商品无法申请售后，可能已经超过售后保障期"):t?o(!0,"最多可以发起3次售后申请"):g.browserHistory.push("/afterSale/apply?tid="+r.order_good_no+"&refund="+("待发货"===x.ordersubStatusAndIconMap[r.goods_order.order_shop.status].status?1:0))},C(n,a)}return S(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=(t.reminderKnow,a.type,a.status),r=a.bn,o=a.is_timeout,i=a.is_count_run_out;return h.default.createElement("div",{className:"order-ctrl"},10==n&&h.default.createElement(g.Link,{onClick:this.cancelDelete,className:"btn-red"},"撤销退款"),40==n&&h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+r,className:"btn"},"填写物流"),/60|70|80/.test(n)&&h.default.createElement("a",{className:"btn",onClick:function(){e.btnOrlink(o,i)}},"申请售后"))}}]),t}();var z=t.LogicBlock=(n=function(e){function t(e){N(this,t);var a=C(this,(t.__proto__||(0,o.default)(t)).call(this,e));r.call(a);var n,i=a.props;return n=i.timeout-i.now,a.state=n>0?{retime:n}:{retime:0},a}return S(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.state.retime>0&&this.intervalreTime()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.retimer)}},{key:"formatTime",value:function(e){return A.dateUtil.formatNum(parseInt(e))}},{key:"render",value:function(){var e=this.state.retime;return h.default.createElement("span",{className:"block-time"},h.default.createElement("span",null,"还剩",this.dealTime(e)))}}]),t}(),r=function(){var e=this;this.intervalreTime=function(){e.retimer=setInterval(function(){var t=--e.state.retime;t<0?(window.clearInterval(e.retimer),e.setState({retime:0})):(e.state.retime=t,e.setState(e.state))},1e3)},this.dealTime=function(t){var a,n,r,o;return a=e.formatTime(t/3600/24),n=e.formatTime(t/3600%24),r=e.formatTime(t%3600/60),o=e.formatTime(t%60),0!=a?a+"天"+n+"时":0!=n?n+"时"+r+"分":r+"分"+o+"秒"}},n);t.default=(0,v.connect)(function(e){return p({},e.afterSaleList)},function(e){return{dispatch:e,getData:function(){e(axiosCreator("getData",p({},pageApi.init,{params:{page:1,page_size:10}}),{page:1}))},addData:function(t){e(axiosCreator("addData",p({},pageApi.init,{params:{page:t,page_size:10}}),{page:t}))},changeSending:function(t){e(createActions("changeSending",{value:t}))}}})(M)}).call(this,a("OOjC"))},QS0o:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAdCAMAAAD8QJ61AAAAhFBMVEUAAAAzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzPF5ewFAAAAK3RSTlMAu9Lx4fp4TPcM2Wgf6LJ+VOzNxqxxJRIJ9cvBmY9cRD0xGL+hgzcpzraE/R4OsQAAAQJJREFUKM+NkdlygzAMRUVsJ8bse9gKpFna6v//rzI1zUMM5MzAXNAxlgxoCrSSgWESiWNBoQczZ4UDWLjUgQuaH+zByhEjIHzJXbvgJkxXOvyAFSLdRSUV2NG1BsDD4n/Lk0nsYEKOE13+uhDjDVQA64KLn8DSDQEUB6a2hExCKs8bwiGZZ/0jxKPZWQrzzqceLqwe5uwginniMkWBYanNVh/iiZ6KKKT7GCC/9t+IHdnCufUccyDuDRIpuVXHKH3FQMtaSiwy/T3iYTmtcqqWvz3eTXmfNgcrGX+ObeXA9oRgT+DvCsmewPmOcMUYLDzk8uWyFpnzSvBcNzYCX2EeEL8esRngiYQFBQAAAABJRU5ErkJggg=="},Qv6D:function(e,t,a){},SFZ9:function(e,t,a){},T9Bc:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={state:"",now_time:"",toend:"",valid:"",errorVal:"",inputVal:"",popupModalCtrl:{show:!1}};function c(e){var t=e.now_time,a=(e.toend,e.end_time),n=e.start_time;return i({},e,{state:++t<n?0:t>a?1:2,now_time:t,toend:a-t})}t.default=(0,l.default)("seckill",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"clearData":return s;case"initData":return function(e,t){return c(i({},e,t))}(e,t);case"observeState":return c(e);case"popupModalCtrl":return i({},e,{popupModalCtrl:t.popupModalCtrl});case"loadCaptchaLoad":return i({},e);case"loadCaptchaSuccess":return i({},e,{valid:t.result.data});case"clearCaptcha":return i({},e,{valid:"",errorVal:"",inputVal:""});case"validVal":return i({},e,{inputVal:t.inputVal});case"validError":return i({},e,{errorVal:t.errorVal});default:return i({},e)}},s)},U5Sn:function(e,t,a){},UnLJ:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={update:!1,disTop:0,is_subscribe:!1,subscribeAllow:!0,sign:{},shop_cat_list:[],shop_decoration_data:{is_show_coupon:0,modules:[{}]},resultShow:!1};t.default=(0,l.default)("storeIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initialData":return i({},e,t.value);case"subscribeStore":return i({},e,{is_subscribe:t.state});case"subscribeAllow":return i({},e,{subscribeAllow:t.state});case"resultShow":return i({},e,{resultShow:t.resultShow});case"dataUpdate":return i({},e,{update:t.update});case"saveTop":return i({},e,{disTop:t.value});default:return e}},s)},V1dG:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=h(p),m=h(a("mtWM"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("6JQj");var E=m.default.CancelToken,b={url:"/originapi/shop/shopLicense",method:"get"},_=function(t){function a(e,t){g(this,a);var r=v(this,(a.__proto__||(0,n.default)(a)).call(this,e));return r.state={image:""},document.title="店铺营业执照",t.isApp&&(window.location.href="jsbridge://set_title?title=店铺营业执照"),r}return y(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var e=this;m.default.request(u({},b,{params:{shop_id:this.props.location.query.shop},cancelToken:new E(function(e){e})})).then(function(t){200==t.data.code&&e.setState({image:t.data.data.license_img})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var t=this.state.image;return f.default.createElement("div",{"data-page":"store-detail",style:{minHeight:e(window).height()}},f.default.createElement("div",{className:"licenseTitle"},"店铺营业执照"),f.default.createElement("div",{className:"licenseDesc"},f.default.createElement("h1",null,"泰然城网店经营者营业执照信息"),f.default.createElement("p",null," 根据国家工商总局《网络交易管理办法》要求对网店营业执照信息公示如下：")),f.default.createElement(x,{image:t}),f.default.createElement("p",{className:"licenseImageDesc"},"（经营者信息以营业执照为准）"))}}]),a}();t.default=_;var x=function(e){function t(){return g(this,t),v(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return y(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"licenseImage"},f.default.createElement("img",{src:this.props.image}))}}]),t}()}).call(this,a("OOjC"))},VArI:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderForm=t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=y(u),p=a("Zfgq"),f=a("d2xe"),m=a("fw66"),h=y(m),g=a("fluX"),v=y(a("2JAf"));function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("jfES");var x={init:{url:"/originapi/order/init",type:"get"},submit:{url:"/originapi/order/create",type:"post"},address:{url:"/originapi/order/total",type:"post"},cashier:{url:"/originapi/payment/prepare",type:"post"}};var k=null,A=function(t){function a(e){E(this,a);var t=b(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.iniData=function(){(0,g.ownAjax)(x.init,{mode:t.props.location.query.mode}).then(function(e){t.setState({data:e.data,update:!0})}).catch(function(e){h.default.MsgTip({msg:"网络错误，请稍后再试"})})},t.updateData=function(e){t.setState({data:e})},t.toggleAddress=function(){t.setState({address:!t.state.address})},t.toggleAlteration=function(e){t.setState({alteration:!t.state.alteration,alterationMsg:e||""})},document.title="订单确认",window.location.href="jsbridge://set_title?title=订单确认",(k={addr_id:"",mode:"",md5_cart_info:"",from:"wap",payment_type:"finance"}).mode=e.location.query.mode,t.state={data:"",update:!1,address:!1,alteration:!1,alterationMsg:""},t}return _(a,u.Component),c(a,[{key:"componentDidMount",value:function(){e(this.refs.page).css({minHeight:e(window).height()}),this.iniData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.update,n=t.data,r=t.address,o=t.alteration,i=t.alterationMsg;return d.default.createElement("div",{"data-page":"zero-buy-confirm",ref:"page"},a&&n?d.default.createElement("div",null,d.default.createElement(w,{data:n.order.cart[0].object[0],rest:n.payment_info}),d.default.createElement(S,null),d.default.createElement(T,{data:n.addrList,md5:n.md5CartInfo,update:this.updateData,onAddress:this.toggleAddress,addressShow:r}),d.default.createElement(I,{data:n.order.cart[0].object[0].params,rest:n.payment_info,alteration:this.toggleAlteration}),d.default.createElement(m.ModalAComp,{active:r,msg:"您还没有收货地址，快去添加吧！",btns:[{text:"取消",cb:function(){e.toggleAddress()}},{text:"确定",cb:function(){window.location="trmall://getAddressInfo"}}]}),d.default.createElement(m.ModalAComp,{active:o,msg:i,btns:[{text:"取消",cb:function(){p.browserHistory.goBack()}},{text:"继续",cb:function(){e.initialPage(),e.toggleAlteration("")}}]})):d.default.createElement(f.LoadingRound,null))}}]),a}();t.default=A;var w=function(e){var t=e.data,a=e.rest;return d.default.createElement("div",{className:"confirm-top"},d.default.createElement(N,{data:t}),d.default.createElement(C,{data:t.params,rest:a}))},N=function(e){var t=e.data;return d.default.createElement("div",{className:"one-item c-mb10"},d.default.createElement("div",{className:"item-info g-row-flex"},d.default.createElement(p.Link,{to:"/item?item_id="+t.item_id,className:"item-img c-dpb"},d.default.createElement("img",{src:t.image_default_id,width:"75",height:"75"})),d.default.createElement("div",{className:"item-detail g-col-1"},d.default.createElement(p.Link,{to:"/item?item_id="+t.item_id,className:"item-title"},"Direct"===t.type&&d.default.createElement("span",{className:"label yellow-label"},"海外直邮"),"Bonded"===t.type&&d.default.createElement("span",{className:"label blue-label"},"跨境保税"),t.promotion&&d.default.createElement("span",{className:"act-label  c-fb"},t.promotion.promotion_tag),t.title),d.default.createElement("div",{className:"item-props"},t.spec_info),d.default.createElement("div",{className:"item-price c-clrfix"},d.default.createElement("span",{className:"price c-fl"},"¥",t.promotion?(+t.promotion.promotion_price).toFixed(2):t.price.toFixed(2))," ",d.default.createElement("span",{className:"num c-fr"},"×",t.quantity)))))},C=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return _(t,u.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.rest;return d.default.createElement("div",{className:"invest-list"},d.default.createElement("div",{className:"list"},d.default.createElement("div",{className:"left"},"存入期限: ",t.period,"天")),d.default.createElement("div",{className:"list",style:{lineHeight:"26px"}},d.default.createElement("div",{className:"left"},"投资金额: ",d.default.createElement("span",{className:"c-cf55"},"¥",d.default.createElement("b",null,+t.invest))),d.default.createElement("div",{className:"right c-c80"},"*预计收益:¥",+t.profit)),d.default.createElement("div",{className:"list"},d.default.createElement("div",{className:"left"},"账户余额: ¥",a.balance),+t.invest>a.balance&&d.default.createElement("div",{className:"right c-cf55"},"余额不足")))}}]),t}(),S=function(e){e.data;return d.default.createElement("div",{className:"confirm-mid"},d.default.createElement("div",{className:"list g-row-flex"},d.default.createElement("div",{className:"left g-col-1"},"支付方式"),d.default.createElement("div",{className:"right c-tr"},"理财支付")),d.default.createElement("div",{className:"list g-row-flex"},d.default.createElement("div",{className:"left g-col-1"},"配送方式"),d.default.createElement("div",{className:"right c-tr"},"快递配送")))},T=function(e){function t(e){E(this,t);var a=b(this,(t.__proto__||(0,n.default)(t)).call(this,e)),r=e.data&&e.data.reduce(function(e,t){return 1==t.def_addr?t:e},"");return k.addr_id=r&&r.addr_id,k.md5_cart_info=e.md5,r||a.props.onAddress(),a.state={address:r},a}return _(t,u.Component),c(t,[{key:"componentWillMount",value:function(){var e=this;window.onAddressResult=function(t){e.props.addressShow&&e.props.onAddress(),t=JSON.parse(t),k.addr_id=t.addressId,t.mobile=t.phone,t.addr=t.address,t.area_string=t.provinceName+t.cityName+t.districtName,e.setState({address:t}),(0,g.ownAjax)(x.address,{mode:k.mode,from:"wap",addr_id:k.addr_id}).then(function(t){e.props.update(t.data)})}}},{key:"componentWillReceiveProps",value:function(e){k.md5_cart_info=e.md5}},{key:"componentWillUnmount",value:function(){window.onAddressResult=null}},{key:"render",value:function(){var e=this.state.address;return d.default.createElement("div",{className:"user-address-grid"},d.default.createElement("a",{href:"trmall://getAddressInfo",className:"user-address g-row-flex g-col-mid g-col-ctr"},d.default.createElement("i",{className:"location-address-icon"}," "),e?d.default.createElement("div",{className:"content-text g-col-1"},d.default.createElement("div",{className:"text-top g-row-flex"},d.default.createElement("span",{className:"g-col-1"},"收货人：",e.name),d.default.createElement("span",{className:"user-phone"},e.mobile)),d.default.createElement("div",{className:"text-bottom"},"收货地址：",e.area_string,e.addr)):d.default.createElement("div",{className:"g-col-1 c-fs15"},"请填写收货地址"),d.default.createElement("i",{className:"arrow-right-icon"}," ")))}}]),t}(),M=null,I=t.OrderForm=function(e){function t(e){E(this,t);var a=b(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.agreeHandle=function(){a.setState({agree:!a.state.agree})},a.submitHandle=function(){M||(M=!0,(0,g.ownAjax)(x.submit,k).then(function(e){if("10000"===e.biz_code)return self.props.alteration(e.msg),void(M=!1);h.default.MsgTip({msg:e.msg}),e.status?setTimeout(function(){p.browserHistory.replace("/cashier?oid="+e.data+"&zeroBuy=1"),M=!1},1e3):M=!1}).catch(function(e){M=!1,h.default.MsgTip({msg:"提交订单失败"})}))},a.agreementHandle=function(e){a.setState({agreement:e})},a.state={agree:!0,agreement:""},M=!1,a}return _(t,u.Component),c(t,[{key:"render",value:function(){var e=this.state,t=e.agree,a=e.agreement,n=this.props,r=n.data,o=n.rest;return d.default.createElement("div",{className:"order-form"},d.default.createElement("div",{className:"agree"},d.default.createElement("span",{onTouchTap:this.agreeHandle},t?d.default.createElement("i",{className:"current-agree-icon"}," "):d.default.createElement("i",{className:"current-no-agree-icon"}," ")),d.default.createElement("span",{onClick:this.agreementHandle.bind(this,"agreement")},"我已同意并接受《泰然城用户协议》")),"agreement"===a&&d.default.createElement(v.default,{onClose:this.agreementHandle.bind(this,"")}),t?+r.invest>o.balance?d.default.createElement("a",{className:"form-btn c-bgdred",href:"trmall://to_recharge?amount="+(+r.invest-o.balance)},"充值",(+r.invest-o.balance).toFixed(2),"元购买"):d.default.createElement("div",{className:"form-btn c-bgdred",onTouchTap:this.submitHandle},"提交订单"):+r.invest>o.balance?d.default.createElement("div",{className:"form-btn c-bgc9"},"充值",(+r.invest-o.balance).toFixed(2),"元购买"):d.default.createElement("div",{className:"form-btn c-bgc9"},"提交订单"))}}]),t}()}).call(this,a("OOjC"))},VM8K:function(e,t){e.exports="data:image/png;base64,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"},"Vf+V":function(e,t,a){"use strict";var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=E(f),h=a("d2xe"),g=(a("rsfq"),a("f2t5")),v=E(a("mtWM")),y=a("0p2n");function E(e){return e&&e.__esModule?e:{default:e}}a("Qv6D");var b={url:"/newapi/user/getInviteCode",method:"get"},_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.shareMsg=function(){var e=a.state.tel;e="TRC_"+7*parseInt(e);var t={title:"我发现了一个低价采购平台",content:"专人跟进采购无忧，快和我一起加入吧",icon:"https://image.tairanmall.com/FjUK1xqNWiNhHC_ZUpxy6fkSwnER",link:window.location.origin+"/enterprise/register?inviter="+e},r=(0,g.base64encode)((0,g.utf16to8)((0,n.default)(t)));window.location.href="trmall://share?params="+r},a.state={inviteCode:"",tel:"",update:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,f.Component),p(t,[{key:"componentWillMount",value:function(){var e=this;v.default.request(d({},b)).then(function(t){var a=t.data;console.log("data",a),e.setState({inviteCode:a.inviteCode,tel:a.loginAccount,update:!0})}).catch(function(e){var t=e.response;y.tip.show({msg:t.data.error.description||"服务器繁忙"})})}},{key:"render",value:function(){var e=this.state,t=e.inviteCode;return e.update?m.default.createElement("div",{"data-page":"invitation",className:"c-tc"},m.default.createElement("header",{className:"invite-text"},m.default.createElement("img",{src:"/src/img/enterpriseBuy/invitation/inviteFriend.png"})),m.default.createElement("div",{className:"invite-code c-dpib"},m.default.createElement("h3",null,"邀请码"),m.default.createElement("p",null,t),m.default.createElement("span",{className:"copy-code"},"（长按复制分享给好友）"),m.default.createElement("div",{className:"invite-btn",onClick:this.shareMsg},m.default.createElement("button",null,"邀请企业好友"))),m.default.createElement("div",{className:"activity-rule"},m.default.createElement("span",{className:"little-circle"}),m.default.createElement("h4",null,"活动规则"),m.default.createElement("span",{className:"little-circle"}),m.default.createElement("ul",null,m.default.createElement("li",null,m.default.createElement("img",{src:"/src/img/enterpriseBuy/invitation/icon-share.png"}),"分享邀请码或邀请链接"),m.default.createElement("li",{className:"inviteCode-li"},m.default.createElement("img",{src:"/src/img/enterpriseBuy/invitation/icon-inviteCode.png"}),m.default.createElement("span",{className:"inviteCode-txt"},"企业通过【邀请码】",m.default.createElement("br",null),"直接【邀请企业好友】")),m.default.createElement("li",null,m.default.createElement("img",{src:"/src/img/enterpriseBuy/invitation/icon-profit.png"}),"企业采购我拿分红"))),m.default.createElement("footer",null,m.default.createElement("p",null,"奖励发放形式咨询客服",m.default.createElement("br",null),"400-669-6610"))):m.default.createElement(h.LoadingRound,null)}}]),t}();t.default=_},Vi7z:function(e,t){e.exports="data:image/gif;base64,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"},Vvlt:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=a("c9Fv"),l=C(a("6rhK")),s=C(a("iAP0")),c=C(a("aLBt")),u=C(a("+ecx")),d=C(a("akpK")),p=C(a("qzVb")),f=C(a("ZFXA")),m=C(a("I9zo")),h=C(a("nUe2")),g=C(a("rxNO")),v=C(a("fzRm")),y=C(a("Ovyh")),E=C(a("9whv")),b=C(a("iLpm")),_=C(a("1N3E")),x=C(a("+MLC")),k=C(a("sEuz")),A=C(a("GbiI")),w=C(a("T9Bc")),N=C(a("UnLJ"));function C(e){return e&&e.__esModule?e:{default:e}}var S=(0,i.combineReducers)({initial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a={};switch(t.type){case"TRADE_LIST":return a.type="TRADE_LIST",a.listNum=t.listNum,a;case"POPUP":return(0,o.default)({},t);case"MY_GROUP_LIST":return a.type="MY_GROUP_LIST",a.listNum=t.listNum,a;case"SHOP_CART":return a.type="SHOP_CART",t.update&&(a.update=!0,a.ctrl=t.ctrl,a.data=t.data),t.editChange&&(a.editChange=!0,a.edit=t.edit),a.msg=t.msg,a;case"ITEM":return(0,o.default)({},e,t);case"EVALUATE_LIST":return e.type="EVALUATE_LIST",e;case"EVALUATE_INPUT":return e.type="EVALUATE_INPUT",e;case"EVALUATE_SUCCESS":return e.type="EVALUATE_SUCCESS",e;default:return e}},global:l.default,personCenter:m.default,orderCancel:s.default,tradeDetail:c.default,groupMallHome:g.default,orderConfirm:k.default,minusActivity:v.default,afterSaleApply:u.default,afterSaleDetail:d.default,consultrecord:f.default,logicompany:p.default,invoiceSelect:x.default,itemIndex:A.default,seckill:w.default,zeroBuy:h.default,searchIndex:b.default,qygSearch:_.default,searchResult:y.default,searchResult3:E.default,storeIndex:N.default});t.default=S},Wkbk:function(e,t,a){"use strict";(function(e){var n=d(a("mvHQ")),r=d(a("fZjL")),o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createChooseSpec=t.ActiveArea=t.Buy=t.BuyModalButton=t.BuyModalTitle=t.BuyModal=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=C(m),g=(C(a("O27J")),a("Zfgq")),v=a("rsfq"),y=(a("d2xe"),a("0p2n")),E=(a("fw66"),a("G+/1")),b=a("daIj"),_=C(a("qAHI")),x=a("JmOZ"),k=a("2uFj"),A=a("f2t5"),w=a("f2t5");a("kjFZ");var N=a("JmOZ");function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var I={checkGroupBuy:{url:k.MALLAPI+"/promotion/checkGroupBuy",method:"post"}},O=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,b.PureComponent),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"notice-group-price"},h.default.createElement(D,{item:this.props.data,proStatus:this.props.proStatus,promotion:this.props.promotion}),this.props.proStatus&&h.default.createElement(L,p({},this.props.promotion.promotion[0],{intervalT:this.props.intervalT})))}}]),t}(),D=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={sellPrice:parseFloat((+a.props.item.sell_price).toFixed(2)),marketPrice:parseFloat((+a.props.item.market_price).toFixed(2)),groupPerson:""},a}return M(t,m.Component),f(t,[{key:"componentWillReceiveProps",value:function(e){e.proStatus&&this.setState({sellPrice:e.promotion.promotion[0].rules.group_price,groupPerson:e.promotion.promotion[0].rules.group_person})}},{key:"componentDidMount",value:function(){this.props.proStatus&&this.setState({sellPrice:this.props.promotion.promotion[0].rules.group_price,groupPerson:this.props.promotion.promotion[0].rules.group_person})}},{key:"render",value:function(){var e=this.props.item,t=(e.is_free,e.trade_type,e.tax_rate,this.state),a=t.sellPrice,n=t.marketPrice,r=t.groupPerson;return h.default.createElement("div",{className:"c-cfff"},h.default.createElement("span",{className:"c-fs10 c-dpib c-fl group-person"},r,"人团"),h.default.createElement("span",{className:"c-fs20 c-dpib c-fl"}," ¥",a),n&&n!==a?h.default.createElement("span",{className:"c-dpib c-fl market-price"}," ¥",n):null)}}]),t}(),L=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeTime=function(){var e=a.props,t=e.start_time,n=e.now_time,r=e.end_time,o=a.state.intervalT;n=new Date(n.replace(/-/g,"/")).getTime()+parseInt(o),t=new Date(t.replace(/-/g,"/")).getTime(),r=new Date(r.replace(/-/g,"/")).getTime(),n<t?a.setState({time:parseInt((t-n)/1e3),startFlag:!0}):a.setState({time:parseInt((r-n)/1e3),startFlag:!1})},a.state={time:0,startFlag:!1,intervalT:a.props.intervalT},a}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.changeTime(),this.intervalTime()}},{key:"componentWillReceiveProps",value:function(e){e.intervalT!==this.state.intervalT&&this.setState({intervalT:e.intervalT},function(){this.changeTime(),window.clearInterval(this.timer),this.timer=null,this.intervalTime()})}},{key:"intervalTime",value:function(){var e=this;this.timer=setInterval(function(){var t=--e.state.time;t<0?location.reload():(e.state.time=t,e.setState(e.state))},1e3)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){return h.default.createElement("div",{className:"c-cfff c-fs12 c-fr group-purchase-deadLine",id:"group-purchase-deadLine"},h.default.createElement("div",null,this.state.startFlag?"距开始仅剩":"距结束仅剩"),h.default.createElement("div",null,A.timeCtrl.formatTextTime(this.state.time)))}}]),t}(),P=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"price-area"},h.default.createElement(H,this.props),h.default.createElement(N.Tag,{item:this.props.data}))}}]),t}(),H=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.title,a=e.sub_title,n=e.shop;return h.default.createElement("div",null,h.default.createElement("p",{className:"goods-tit"},"biz"===n.attr?h.default.createElement("span",{className:"c-fs10 c-mr5 c-cfff bus-tag"},"企业购"):"",t),this.props.proStatus&&"Rookie"===this.props.promotion.promotion[0].rules.group_type?h.default.createElement("p",{className:"c-c666 sub-title"},"该商品所有用户均可开团，仅限泰然城购物的新用户参团哦！开团后邀请泰然城新朋友参团吧"):a&&h.default.createElement("p",{className:"c-c666 sub-title"},a))}}]),t}(),R=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.promotion,a=e.location;return h.default.createElement("div",{className:"fight-group-active"},h.default.createElement("div",{className:"c-fs12 fight-group-top"},"支付开团并邀请",h.default.createElement("span",null,t.promotion[0].rules.group_person-1),"人参团，人数不足退款"),h.default.createElement(g.Link,{to:"/pintuan-rules",className:"fight-group-rules"},h.default.createElement("p",{className:"c-fs15 c-cf55 c-mb5"},"拼团玩法"),h.default.createElement("img",{src:"src/img/pintuan/group-rules.png"}),h.default.createElement("img",{className:"direction-right-icon",src:"src/img/pintuan/black-direction-right.png"})),h.default.createElement(z,{promotion:t,location:a}))}}]),t}(),z=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"getDetailList",value:function(){var e=this.props.promotion.groupBuy,t=e.group_info,a=e.group_data,n=this.props.location,r=[];return t&&t.forEach(function(e,t){r.push(h.default.createElement(B,{key:t,data:e,groupData:a,location:n}))}),r}},{key:"render",value:function(){var e=this.props.promotion.groupBuy.group_info;return e?h.default.createElement("div",{className:"fight-group-detail"},e.length?h.default.createElement("h3",null,h.default.createElement("i",{className:"current-icon"},h.default.createElement("img",{src:"src/img/pintuan/red-current-icon.png",alt:""})),"以下小伙伴正在发起团购，您可以直接参与"):null,h.default.createElement("ul",{className:"participants"},this.getDetailList())):null}}]),t}(),B=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e)),n=a.props.location.query.user_id;return a.state={user_id:n},a}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=e.expire_time,a=e.now_time;t=new Date(t.replace(/-/g,"/")).getTime(),(a=new Date(a.replace(/-/g,"/")).getTime())>t&&(this.state.unUpdate=!0)}},{key:"componentDidMount",value:function(){var e=this.props.data,t=e.expire_time,a=e.now_time;t=new Date(t.replace(/-/g,"/")).getTime(),a=new Date(a.replace(/-/g,"/")).getTime(),this.unUpdate||(this.state.time=(t-a)/1e3,this.intervalTime())}},{key:"intervalTime",value:function(){var e=this;this.timer=setTimeout(function(){var t=--e.state.time;t<0?e.state.unUpdate=!0:(e.state.time=t,e.intervalTime()),e.setState(e.state)},1e3)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer),this.timer=null}},{key:"getTime",value:function(){return this.state.unUpdate?"团已过期":A.timeCtrl.formatTime(this.state.time)}},{key:"getName",value:function(e,t){return e?e.length>2?e.substring(0,1)+"**"+e.substring(e.length-1):e:t&&t.replace(/(\d{3})\d{5}(\d{3})/,"$1*****$2")}},{key:"render",value:function(){var e=this.props.data,t=this.state.user_id;return h.default.createElement("li",null,h.default.createElement("div",{className:"list-detail"},h.default.createElement("div",{className:"list-left"},h.default.createElement("div",{className:"participants-name"},this.getName(e.nickname,e.name)),h.default.createElement("div",{className:"group-info"},h.default.createElement("div",{className:"group-info-residue"},"还差",e.required_person-e.current_person,"人成团"),h.default.createElement("div",{className:"group-info-time"},this.getTime()))),h.default.createElement(N.LinkChange,{className:"list-right",to:t?"/groupDetail?object_id="+e.id+"&user_id="+t:"/groupDetail?object_id="+e.id},"去参团",h.default.createElement("i",{className:"group-direction-right"}))),h.default.createElement("img",{className:"participants-avatar",src:e.avatar||"/src/img/icon/avatar/default-avatar.png",alt:"头像"}))}}]),t}(),j=t.BuyModal=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.judgeSingleSku=function(){var e=a.props.promotion.info.skus,t=[],n=(0,r.default)(e);return n.map(function(a){0!==e[""+a].store&&t.push(e[""+a])}),1===n.length||1===t.length},a.changeBusinessPrice=function(){var e=a.props.retState,t=e.num,n=e.business,o=e.nowPrice,i=e.nowSkuId,l=e.storeNum,s=e.selectArr,c=e.specKey,u=a.props.promotion.info.skus,d=a.props.promotion.info.specs,f=(0,r.default)(u),m=void 0;(f.map(function(e){0!==u[""+e].store&&(m=e)}),m=m||f[0],n)?o=t>=n.threshold?n.sell_price:u[m].price:o=u[m].price;i=u[m].sku_id,l=u[m].store,s=m.split("_"),c=(0,r.default)(d);var h=p({},a.props.retState,{nowPrice:o,nowSkuId:i,storeNum:l,selectArr:s,specKey:c});a.props.InitState(h)},a.addMinNum=function(e){var t=a.props.retState,n=t.num,r=t.business,o=t.nowPrice,i=t.nowSkuId,l=t.selectArr;if(n=n+e,r){var s=l.join("_")?l.join("_"):0,c=a.props.promotion.info.skus,u=r.threshold;i&&(o=n>=u?r.sell_price:c[s].price)}var d=p({},a.props.retState,{num:n,nowPrice:o});a.props.InitState(d)},a.purchaseLimit=function(){var e=a.props.data.trade_type;if(a.props.retState.num>1&&a.props.retState.nowSkuId&&(0,v.PurchaseLimit)(e))return a.props.retState.num*a.props.retState.nowPrice>2e3},a.getActionData=function(){var e=a.props,t=e.retState,n=e.promotion,r=e.areaData,o=e.data,i=(o.shop_id,o.shop.attr),l=e.itemId,s=[];n.promotion&&n.promotion.map(function(e,t){s.push({promotion_id:e.id,role:"main_good",type:e.type})});var c={subscribe:[{quantity:1,cart_id:0,sku_id:t.nowSkuId,item_id:l,created_at:(new Date).getTime(),extra:{group_buy_params:{type:n.promotion[0].rules.group_type,object_id:a.props.data.object_id||0,mode:a.props.data.object_id?"join":"open"},promotion:s}}]},u=a.props.location.query.user_id;return u&&(c.commission_user_id=u),c=p({},c,{buyMode:"fast_buy",bizMode:"online",bizAttr:1===i?"trmall":2===i?"xtlp":3===i?"company":"",address:r.addressData})},a.isHasStore=function(e,t,a){return t&&t.some(function(t,n){if(t.ids[e.index]==e.spec){var r=a.slice();return r[e.index]&&delete r[e.index],!!r.every(function(e,n){return a[n]==t.ids[n]})&&t.skus.store>0}return!1})},a.specSelect=function(e,t,n){var r,o=a.props.retState,i=a.props.promotion.info.skus,l=a.props.promotion,s=l.realStore,c=l.activity_type,u=o.selectArr,d=o.specKey,f=o.nowSku,m=o.storeNum,h=o.newData,g=o.nowSkuId,v=o.nowPrice,y=o.num,E=o.business,b=o.deductPrice;(u=u.slice())[t]===e?(delete u[t],delete d[t]):(u[t]=e,d[t]=n),r=u.join("_"),u.length==h[0].ids.length&&i[r]?(f=i[r],g=i[r].sku_id,v=i[r].business&&!c&&y>=i[r].business[0].threshold?i[r].business[0].sell_price:i[r].price,m=i[r].store,E=i[r].business&&!c?i[r].business[0]:null,y=y<m?y:m,b=i[r].deduct_price):(v=(0,N.rangePrice)(a.props.promotion,!0),m=s,g="",f="",E=(0,N.getBusinessNotice)(a.props.promotion),b="");var _=p({},a.props.retState,{nowSku:f,selectArr:u,specKey:d,nowSkuId:g,nowPrice:v,num:y,storeNum:m,business:E,deductPrice:b});a.props.InitState(_)},a.importNum=function(e){var t=e.target.value,n=a.props.retState,r=n.num,o=n.storeNum;if(!t){r=a.preNum||o;var i=p({},a.props.retState,{num:r});a.props.InitState(i)}},a.changeNum=function(e){var t=a.props.retState,n=t.num,r=(t.nowSku,t.storeNum),o=e.target.value;a.preNum=n,n=+o?+o>r?n:+o:"";var i=p({},a.props.retState,{num:n});a.props.InitState(i)},a.onClickBuy=function(e){var t=a.props,r=(t.itemId,t.data.object_id),o=t.promotion;if(a.checkSpec())y.tip.show({msg:"请选择规格"});else{var i=a.getActionData(),l=(0,w.base64encode)((0,w.utf16to8)((0,n.default)(i.subscribe)));_.default.request(p({},I.checkGroupBuy,{params:{promotion_id:o.promotion[0].id,object_id:r||0,group_type:o.promotion[0].rules.group_type}})).then(function(){location.href=k.RNDomain+"/orderConfirm?&subscribe="+l+"&bizAttr="+i.bizAttr}).catch(function(e){console.log(e),y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})})}},a.state={toCartClick:!0},a}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){this.judgeSingleSku()&&this.changeBusinessPrice()}},{key:"checkSpec",value:function(){var e=this.props.retState,t=e.specKey,a=e.nowSkuId,n=this.props.promotion.info.specs;return!a&&((0,r.default)(n).filter(function(e,a){return+e!==t[a]}),!0)}},{key:"render",value:function(){var e=p({addMinNum:this.addMinNum,changeNum:this.changeNum,importNum:this.importNum,isHasStore:this.isHasStore,specSelect:this.specSelect,judgeSingleSku:this.judgeSingleSku,onClickBuy:this.onClickBuy,purchaseLimit:this.purchaseLimit},this.state,this.props);return h.default.createElement(E.NewModal,{isOpen:this.props.buyModal,onClose:this.props.closeModal},h.default.createElement("div",{className:"action-buy-modal",style:(0,A.judgeIphoneX)()?{paddingBottom:"34px"}:{}},h.default.createElement(F,e),h.default.createElement(U,e),h.default.createElement(q,e)))}}]),t}(),F=t.BuyModalTitle=function(t){function a(){S(this,a);var e=T(this,(a.__proto__||(0,o.default)(a)).call(this));return e.businessDetail=function(e){if(e){var t=e.threshold,a=e.sell_price;return h.default.createElement("p",{className:"c-cdred"},"满",t,"件,每件¥",a,"元")}},e.state={isLarge:!1},e}return M(a,m.Component),f(a,[{key:"componentDidUpdate",value:function(){if(this.state.isLarge){var e={newTime:0,oldTime:0,enlarge:!1,relativeX:0,relativeY:0,x1:0,x2:0,y1:0,startX:0,endX:0,wid:0,hei:0,lef:0,to:0,timerScale:null,self:this,isLarge:this.state.isLarge};(0,N.scaleImg)(".ui-table-view-large-wrapper",null,e)}}},{key:"getImg",value:function(){var e=this.props.data,t=this.props.retState,a=t.specKey,n=t.selectArr,r=this.props.promotion.info,o=void 0,i=void 0;return a&&a.some(function(e,t){return i=r.specs[e].values.filter(function(e,a){return e.spec_value_id==n[t]}),o=i[0].image}),o||e.primary_image}},{key:"render",value:function(){var t=this,a=this.props,n=(a.data,a.retState),r=a.promotion,o=a.buyActive,i=r.info.specs,l=(0,N.chooseSpec)(n,i),s=parseFloat(parseFloat(n.groupPrice).toFixed(2));return h.default.createElement("div",null,this.state.isLarge&&h.default.createElement("div",{className:"ui-table-view-large-img",style:{height:e(window).height(),top:e(".action-buy-modal").height()}},h.default.createElement("div",{className:"buy-shady",onClick:function(){t.setState({isLarge:!1})}}),h.default.createElement("div",{className:"ui-table-view-large-wrapper",style:{height:e(window).height()}},h.default.createElement("img",{src:(0,A.addImageSuffix)(this.getImg(),"_l")}))),h.default.createElement("ul",{className:"ui-table-view"},h.default.createElement("li",{className:"ui-table-view-cell"},h.default.createElement("span",{className:"posit-img"},h.default.createElement("img",{className:"ui-media-object ui-pull-left",src:this.getImg()?(0,A.addImageSuffix)(this.getImg(),"_s"):"/src/img/item/no-img.png",width:"80",height:"80",onClick:function(){t.setState({isLarge:!0})}})),h.default.createElement("div",{className:"ui-media-body window-head"},h.default.createElement("div",{className:"price-tag"},h.default.createElement("p",{className:"ui-ellipsis text-price action-update-price"},"¥","buy"===o?n.nowPrice:s)),"buy"===o&&this.businessDetail(n.business),!(i instanceof Array)&&l.length>0&&h.default.createElement("p",{className:"text-price-sel",style:{display:"block"}}," 已选 ",l," ")))))}}]),a}(),U=function(e){function t(){var e,a,n;S(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=T(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),n.initList=function(){var e=n.props.promotion.info.specs;return(0,r.default)(e).map(function(t,a){return h.default.createElement(N.Specs,p({specs:e[t],index:a},n.props,{key:a}))})},n.getLimit=function(){var e=n.props.data.activity_type,t=n.props.promotion.itemRules;return"groupBuy"==e?h.default.createElement("span",{className:"limit_buy"},"限购",t.user_buy_limit,"件 (已购",t.purchased_quantity,"件)"):null},T(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.addMinNum,a=e.changeNum,n=e.importNum,r=e.buyActive,o=this.props.promotion.itemRules,i=this.props.retState,l=i.num,s=i.storeNum,c=o?o.user_buy_limit-o.purchased_quantity:"";return h.default.createElement("div",{className:"attr-wrap"},h.default.createElement("div",{className:"standard-area stable-standard cur"},h.default.createElement("div",{className:"standard-info"},this.initList())),h.default.createElement("div",{className:"buy-amount"},h.default.createElement("span",{className:"amount-tit"},"数量："),"buy"===r?h.default.createElement("span",{className:"number-increase-decrease"},h.default.createElement("span",{className:"btn btn-action action-decrease "+(1===l||""===l?"dis-click":""),onTouchTap:1===l||""===l?"":function(){return t(-1)}},"－"),h.default.createElement("input",{type:"number",className:"action-quantity-input",value:l,onBlur:n,onChange:a}),h.default.createElement("span",{className:"btn btn-action action-increase "+(l===s||""===l||l===c||0===s?"dis-click":""),onTouchTap:l===s||""===l||l===c||0===s?"":function(){return t(1)}},"＋")):h.default.createElement("span",{className:"number-increase-decrease"},h.default.createElement("span",{className:"btn btn-action action-decrease dis-click"},"－"),h.default.createElement("input",{type:"text",className:"action-quantity-input",readOnly:!0,value:"1"}),h.default.createElement("span",{className:"btn btn-action action-increase dis-click"},"＋")),h.default.createElement("span",{className:"store_buy"},"库存",s,"件"),this.getLimit(),h.default.createElement("div",{className:"clearfix"})),h.default.createElement(N.ExpectTax,this.props))}}]),t}(),q=t.BuyModalButton=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.onClickBuy,a=(e.purchaseLimit,e.buyActive),n=(e.singleBuy,e.active),r=e.intervalT,o=e.promotion,i=0,l=0;o.promotion[0]&&(l=o.promotion[0].now_time,i=o.promotion[0].start_time,l=new Date(l.replace(/-/g,"/")).getTime()+parseInt(r),i=new Date(i.replace(/-/g,"/")).getTime());return h.default.createElement("div",{className:"buy-option-btn",style:(0,A.judgeIphoneX)()?{height:"85px"}:{}},l<i&&"groupBuy"===a?h.default.createElement("div",{className:"c-bgfc15",onClick:function(){y.tip.show({msg:"拼团还未开始，请耐心等待哦~"})}},"即将开始"):h.default.createElement("div",null,null,h.default.createElement("div",{className:"btn-tobuy btn-group",style:{width:"100%"},onTouchTap:function(){t(a)}},n?"确定":"groupBuy"===a?"立即开团":"确定")))}}]),t}(),Z=t.Buy=function(e){function t(){var e,a,n;S(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.active=function(e,t){t&&n.setState({singleBuy:!0}),n.props.UpdateBuyModal({buyModal:!0,buyActive:e})},T(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props.proStatus&&this.props.promotion.promotion[0],a=t.rules,n=t.now_time,r=t.start_time;n=n&&new Date(n.replace(/-/g,"/")).getTime()+parseInt(this.props.intervalT),r=r&&new Date(r.replace(/-/g,"/")).getTime();var o=this.props,i=o.promotion,l=o.data,s=this.props.proStatus&&(0,N.rangePrice)(this.props.promotion,!0);if(this.props.proStatus){var c=(0,N.judgeBusiness)(this.props.data,this.props.promotion);1===(c&&c.threshold)&&(s=parseFloat((+c.sell_price).toFixed(2)))}return this.props.mixStatus&&this.props.proStatus?h.default.createElement("div",null,this.props.choose?h.default.createElement(N.LinkChange,{className:"choose-btn",onClick:function(){e.active("groupBuy")}}," "):"SHELVING"===l.status?i.realStore?h.default.createElement("div",{className:"pintuan-btn-group"},n<r?h.default.createElement(N.LinkChange,{className:"fight-group-start"},h.default.createElement("div",{id:"person-price"},"￥",parseFloat((+a.group_price).toFixed(2))),h.default.createElement("div",{onClick:function(){y.tip.show({msg:"拼团还未开始，请耐心等待哦~"})}},"即将开始")):h.default.createElement(N.LinkChange,{className:"fight-group-purchase",onClick:function(){return e.active("groupBuy")}},h.default.createElement("div",{id:"group-price"},"￥",parseFloat((+a.group_price).toFixed(2))),h.default.createElement("div",null,a.group_person,"人团")),h.default.createElement(N.LinkChange,{className:"buy-separately-btn",onClick:function(){return e.active("buy",!0)}},h.default.createElement("div",{id:"person-price"},"￥",s),h.default.createElement("div",null,"单独购买"))):h.default.createElement("div",{className:"pintuan-btn-group action-btn-group"},h.default.createElement(N.LinkChange,{type:"button",className:"ui-btn action-disable"},"已售罄")):h.default.createElement("div",{className:"pintuan-btn-group action-btn-group"},h.default.createElement(N.LinkChange,{type:"button",className:"ui-btn action-disable"},"已下架"))):h.default.createElement("div",{className:"action-btn-group c-fr"},h.default.createElement("span",{className:"ui-btn  action-addtocart c-fl incomplete-addtocart"},"单独购买"),h.default.createElement("span",{className:"ui-btn  action-buy-now c-fl incomplete-buy-now"},"立即购买"))}}]),t}(),G=(0,N.createBuyAction)({Buy:Z}),J=t.ActiveArea=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"active-area"},h.default.createElement(N.CouponWrap,this.props))}}]),t}(),Q=(t.createChooseSpec=function(e){var t=e.Buy;return function(e){function a(){return S(this,a),T(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return M(a,b.PureComponent),f(a,[{key:"render",value:function(){var e=this.props,a=e.data,n=e.promotion,r=e.retState,o=n.info.specs,i=(0,N.chooseSpec)(r,o);return o instanceof Array?null:h.default.createElement("div",{className:"choose-col"},h.default.createElement("div",{className:"choose-spec c-fs13"},h.default.createElement("span",{className:"c-mr15"},i.length>0?"已选择 ":"选择 "),i.length>0&&(0,N.chooseSpec)(r,o),h.default.createElement("i",{className:"icon icon-forward vertical-middle"},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))),"SHELVING"===a.status&&n.realStore?h.default.createElement(t,p({},this.props,{choose:!0})):null,h.default.createElement("div",{className:"gap bgf4"}))}}]),a}()})({Buy:Z}),V=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.closeModal=function(){a.props.UpdateBuyModal({buyModal:!1})},a.state={singleBuy:!1},a}return M(t,b.PureComponent),f(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.data,n=e.mix,r=e.rate,o=e.recommend,i=e.promotion,l=e.cartNum,s=e.isLogin,c=e.pending,u=e.mixStatus,d=e.rateStatus,f=e.recommendStatus,m=e.proStatus,g=e.cartInfoStatus,v=e.retState,y=e.areaData,E=e.UpdateBuyModal,b=e.InitState,_=e.UpdateCartInfo,k=e.buyModal,A=e.buyActive,w=e.intervalT,C=a.item_id,S={itemId:C,location:t,retState:v,data:a,mix:n,promotion:i,mixStatus:u,proStatus:m,buyModal:k,buyActive:A,UpdateBuyModal:E,InitState:b,UpdateCartInfo:_,singleBuy:this.state.singleBuy,closeModal:this.closeModal,areaData:y,intervalT:w},T=m&&i.groupBuy.group_data;return h.default.createElement("div",{"data-page":"item-detail",id:"item-details",ref:"details"},h.default.createElement(x.BarrageStripConnnect,null),h.default.createElement(N.ItemNav,null),u&&m&&h.default.createElement(j,S),h.default.createElement("div",null,h.default.createElement(N.ScrollImageState,{data:a,group_data:T,ref:"scrollImage"}),h.default.createElement(O,{data:a,proStatus:m,promotion:i,intervalT:w}),h.default.createElement(P,{data:a,proStatus:m,promotion:i}),h.default.createElement("div",{className:"gap bgf4"}),m&&h.default.createElement(R,{promotion:i,location:t}),m&&h.default.createElement(J,{promotion:i,shop:a.shop}),h.default.createElement("div",{className:"gap bgf4"}),u&&m&&h.default.createElement(Q,S),u&&h.default.createElement(N.SeverArea,{mix:n,data:a,retState:v,areaData:y,isLogin:s,pending:c}),h.default.createElement("div",{className:"gap bgf4"})),h.default.createElement("div",{className:"screen-rate"},d&&h.default.createElement(N.EvaluateArea,{rate:r,itemId:C}),h.default.createElement("div",{className:"gap bgf4"}),f&&h.default.createElement(N.RecommendArea,{recommend:o.data}),h.default.createElement("div",{className:"gap bgf4"}),h.default.createElement(N.ShopArea,{shop:a.shop})),h.default.createElement("div",{className:"screen-detail"},h.default.createElement(N.GoodsDetail,{data:a})),h.default.createElement(G,p({cartNum:l,cartInfoStatus:g},S)))}}]),t}();t.default=V}).call(this,a("OOjC"))},YR4B:function(e,t){e.exports="data:image/png;base64,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"},ZFXA:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i};var u={load:!0,data:""};t.default=(0,c.default)("consultrecord",function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,o=arguments[1];switch(o.type){case"resetData":return u;case"getDataSuccess":return l({},r,{load:!1,data:o.result.data});case"ctrlModal":return l({},r,(e={},t=o.modal,a=o.status,t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e));default:return r}},u)},a6aF:function(e,t,a){},aEJI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(5)]).then(function(e){a("aR0x"),t(null,a("JwXx").default)}.bind(null,a)).catch(a.oe)}},aLBt:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={update:!1,initData:"",error:!1,errorMsg:!1,logiData:"",logiLoad:!0,logiError:!1,payPopupMsg:{show:!1,Msg:""},PopupCancelMsg:{show:!1,Msg:""},cancel_reason:"",modalAS:{show:!1,msg:""}};t.default=(0,l.default)("tradeDetail",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initialPage":return s;case"getInitData":return(0,o.default)({},e,{update:!1});case"sucInitData":return(0,o.default)({},e,{update:!0,initData:t.data});case"failInitData":return(0,o.default)({},e,{error:!0,errorMsg:t.msg});case"logiDataSuc":return(0,o.default)({},e,{logiData:t.data,logiLoad:!1});case"logiDataError":return(0,o.default)({},e,{logiError:!0,logiLoad:!1});case"payPopup":return i({},e,{payPopupMsg:i({},t.status)});case"cancelPopup":return i({},e,{PopupCancelMsg:i({},t.status)});case"changeReason":return i({},e,{cancel_reason:t.reason});case"ctrlModalapply":return i({},e,{modalAS:i({},t.modalAS)});default:return e}},s)},aXIh:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectEmpty=t.SelectBar=t.SelectList=t.default=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=x(m),g=x(a("L1w3")),v=x(a("6YRh")),y=a("d2xe"),E=a("ifET"),b=x(a("qAHI")),_=a("2uFj");function x(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var N={init:{url:_.MALLAPI+"/item/bests",method:"get"}},C=(d=u=function(e){function t(e,a){k(this,t);var r=A(this,(t.__proto__||(0,n.default)(t)).call(this,e));return r.dropDown=function(e){r.state.pages.total<=r.state.pages.current?e.locked():b.default.request(p({},N.init,{params:{page_size:10,page:r.state.pages.current+1,module_id:r.state.moduleId}})).then(function(t){var a=t.data,n=a.data;r.setState({dataList:r.state.dataList.concat(a.data.item_list),pages:{total:+n.total_page,current:+n.page}}),e.refresh()}).catch(function(t){e.locked(),console.log(t)})},document.title="商品精选",a.isApp&&(location.href="jsbridge://set_title?title=商品精选"),r.state={moduleId:e.location.query.module_id,load:!0,dataList:[],title:"",totalNum:0,pages:{total:999,current:1}},r}return w(t,m.Component),f(t,[{key:"componentDidMount",value:function(){var e=this;b.default.request(p({},N.init,{params:{page_size:10,page:this.state.pages.current,module_id:this.state.moduleId}})).then(function(t){var a=t.data.data;e.setState({load:!1,dataList:a.item_list,title:a.title,totalNum:a.item_count,pages:{total:+a.total_page,current:+a.page}})}).catch(function(t){e.setState({load:!1}),console.log(t)})}},{key:"componentDidUpdate",value:function(){v.default.init({offset:1e3,throttle:0})}},{key:"render",value:function(){if(this.state.load)return h.default.createElement(y.LoadingRound,null);if(!this.state.dataList.length)return h.default.createElement(M,null);var e=this.state,t=e.dataList,a=e.title,n=e.totalNum;return h.default.createElement("div",{"data-page":"collect-page selected-page",className:"main"},h.default.createElement("div",{className:"area"},h.default.createElement(E.DropRefresh,{dropEvent:this.dropDown,disBt:300},h.default.createElement("section",{className:"floor-bd"},h.default.createElement("div",{className:"title"},h.default.createElement("div",{className:"selected_title"},a),h.default.createElement("div",{className:"select_subtitle"},"相关产品",n,"款")),h.default.createElement(S,{data:t})))))}}]),t}(),u.contextTypes={isApp:h.default.PropTypes.bool},d);t.default=C;var S=t.SelectList=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=this.props.data instanceof Array?e.map(function(e,t){return h.default.createElement(T,{data:e,key:t})}):null;return h.default.createElement("div",{style:{background:"#fff",padding:"0 0.1rem"}},t)}}]),t}(),T=t.SelectBar=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop_tag&&e.shop_tag.length?e.shop_tag[0].title:"",a=e.shop_tag&&e.shop_tag.length?e.shop_tag[0].color:"";return h.default.createElement("div",null,h.default.createElement("div",{className:"col-xs-6 col-select single"},h.default.createElement("div",{className:"pro-pic list-item-pic",style:{border:"none"}},h.default.createElement("a",{className:"pro-link",href:_.RNDomain+"/item?item_id="+e.item_id},h.default.createElement("img",{className:"primary-image","data-echo":e.imgsrc||"/src/img/search/no-goods-image.png",src:"/src/img/icon/loading/default-watermark.png"}),e.isSoldOut?h.default.createElement("img",{className:"no-goods-count-image",src:"/src/img/search/no-goods-count.png"}):""),h.default.createElement("div",{className:"info-n"},h.default.createElement("p",null,e.title)),h.default.createElement("div",{className:"info-p",style:{marginTop:"5px",color:"#ff5555",paddingLeft:"2%"}},h.default.createElement("div",{className:"p-lf"},e.price?e.price:e.originPrice),h.default.createElement("div",{className:"goods_store",style:{display:"none"}},h.default.createElement("span",{style:{border:"1px solid #ff5555"}},e.reposity))),h.default.createElement("div",{className:"info-tag"},e.shop_tag&&e.shop_tag.length?h.default.createElement("span",{className:"label",style:{background:a}},t):"",e.activityTagList&&e.activityTagList.length?e.activityTagList.map(function(e,t){return h.default.createElement("span",{className:"label",key:t,style:{background:"#e60a30"}},e)}):""),e.item_tag.square_tag_image&&h.default.createElement("div",{className:"good-top-tag"},h.default.createElement("img",{src:e.item_tag.square_tag_image})," "))))}}]),t}(),M=t.SelectEmpty=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingTop:"105px"}},h.default.createElement("div",{className:g.default.emptyBg},h.default.createElement("p",{className:g.default.emptySelect},"精选商品不存在"))))}}]),t}()},akpK:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,data:"",modal:{show:!1,msg:"",modalSure:""},btnFlag:!0};t.default=(0,l.default)("afterSaleDetail",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetData":return s;case"getDataSuccess":return i({},e,{load:!1,data:t.result.data});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"changebtnFlag":return i({},e,{btnFlag:t.btnFlag});default:return e}},s)},bzLZ:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=p(u);p(a("O27J"));function p(e){return e&&e.__esModule?e:{default:e}}a("6RO1");var f=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,u.Component),c(a,[{key:"componentWillMount",value:function(){document.title="身份证照片示例"}},{key:"componentDidMount",value:function(){e("#identity-example").css({minHeight:e(window).height()})}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"identity-example"},d.default.createElement("div",{id:"identity-example",ref:"identity-example"},d.default.createElement("div",{className:"wrapper correctEx"},d.default.createElement("h1",null,"身份证照片正确示例"),d.default.createElement("h3",null,"人面像"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/right1.png",alt:""})),d.default.createElement("h3",{style:{marginTop:"20px"}},"非人面像"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/right2.png",alt:""}))),d.default.createElement("div",{className:"wrapper errorEx"},d.default.createElement("h1",null,"身份证照片错误示例"),d.default.createElement("h3",null,"1、非收货人本人身份证照片"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error1.png",alt:""})),d.default.createElement("h3",null,"2、身份证姓名、身份证号码被遮挡或者拍摄反光，无法清晰辨认"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error2.png",alt:""})),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error3.png",alt:""})),d.default.createElement("h3",null,"3、拍摄身份证太小，拍摄时倾斜等导致姓名、身份证号码无法清晰辨认"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error4.png",alt:""})),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error5.png",alt:""})),d.default.createElement("h3",null,"4、身份证照片人为修改，处理"),d.default.createElement("p",{style:{marginBottom:"40px"}},d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error6.png",alt:""})))))}}]),a}();t.default=f}).call(this,a("OOjC"))},c6H4:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=p(u);a("Zfgq"),p(a("fw66"));function p(e){return e&&e.__esModule?e:{default:e}}a("AUk+");var f=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,u.Component),c(a,[{key:"componentDidMount",value:function(){e(this.refs.page).css({minHeight:e(window).height()})}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"after-sale",ref:"page"},this.props.children)}}]),a}();t.default=f}).call(this,a("OOjC"))},cwTe:function(e,t,a){"use strict";var n,r,o=s(a("Zzip")),i=s(a("pFYg")),l=s(a("5QVw"));function s(e){return e&&e.__esModule?e:{default:e}}var c,u="function"==typeof l.default&&"symbol"===(0,i.default)(o.default)?function(e){return void 0===e?"undefined":(0,i.default)(e)}:function(e){return e&&"function"==typeof l.default&&e.constructor===l.default&&e!==l.default.prototype?"symbol":void 0===e?"undefined":(0,i.default)(e)};c=function(){function e(e,t){this.el=function(e){switch(void 0===e?"undefined":u(e)){case"string":return document.querySelectorAll(e);case"object":return"[object Array]"===Object.prototype.toString.call(e)?e:[e]}}(e),this.top=t.top||0,this.right=t.right||0,this.bottom=t.bottom||0,this.left=t.left||0,this.dataType="json",this.url=t.url||location.pathname,this.data=t.data||{},this.pageName=t.pageName||"page",this.startCall=t.start||function(){},this.loadCall=t.load||function(){},this.errorCall=t.error||function(){},this.endCall=t.end||function(){},this.monitorEvent=["DOMContentLoaded","load","click","touchstart","touchend","haschange","online","pageshow","popstate","resize","storage","mousewheel","scroll"],this.xhr=null,this.init()}return e.prototype.init=function(){this.eachDOM=this.eachDOM.bind(this),this.readystatechange=this.readystatechange.bind(this),this.start()},e.prototype.start=function(){for(var e=this.monitorEvent,t=0;t<e.length;t++)window.addEventListener(e[t],this.eachDOM,!1);this.eachDOM()},e.prototype.end=function(){for(var e=this.monitorEvent,t=0;t<e.length;t++)window.removeEventListener(e[t],this.eachDOM,!1);this.xhr&&this.xhr.removeEventListener("readystatechange",this.readystatechange,!1)},e.prototype.eachDOM=function(){if(!this.testXhrStart())for(var e=this.el.length,t=0;t<e;t++)if(!0===this.testMeet(this.el[t]))return void this.GetNextPageData(this.el[t])},e.prototype.GetNextPageData=function(e){if(!this.testXhrStart()){this.startCall(e);var t=this.getUrl();this.xhr=new XMLHttpRequest,this.xhr.open("GET",t,!0),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xhr.addEventListener("readystatechange",this.readystatechange,!1),this.xhr.send()}},e.prototype.readystatechange=function(){var e=this.xhr;if(4===e.readyState){var t=e.getAllResponseHeaders(),a=e.responseText;(/application\/json/.test(t)||"json"===this.dataType&&/^(\{|\[)([\s\S])*?(\]|\})$/.test(a))&&(a=JSON.parse(a)),200===e.status?(this.loadCall(a,e),this.data[this.pageName]&&this.data[this.pageName]++):this.errorCall(a,e.status,e),this.endCall(a,e.status,e)}},e.prototype.getUrl=function(){var e=this.data,t=[];for(var a in e)t.push(a+"="+e[a]);return this.url+"?"+t.join("&")},e.prototype.testMeet=function(e){var t=e.getBoundingClientRect(),a=e.offsetWidth,n=e.offsetHeight,r=window.innerWidth,o=window.innerHeight,i=!(t.right-this.left<=0&&t.left+a-this.left<=0||t.left+this.right>=r&&t.right+this.right>=a+r),l=!(t.bottom-this.top<=0&&t.top+n-this.top<=0||t.top+this.bottom>=o&&t.bottom+this.bottom>=n+o);return!(0==e.width||0==e.height||!i||!l)},e.prototype.testXhrStart=function(){return Boolean(null!==this.xhr&&this.xhr&&4!==this.xhr.readyState)},e},"object"===u(a("nErl"))&&a("nErl")?void 0===(r="function"==typeof(n=c)?n.call(t,a,t,e):n)||(e.exports=r):void 0!==e&&e.exports?e.exports=c():window.GetNextPage=c()},d2xe:function(e,t,a){"use strict";(function(e){var n=u(a("fZjL")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerService=t.Scroll=t.OpenInAppGuide=t.ShareAndTotop=t.LinkChange=t.SearchBarA=t.EmptyPageLink=t.EmptyPage=t.TransShady=t.CommonShady=t.Shady=t.NetError=t.FilterNone=t.SearchNone=t.NoMorePage=t.NoMoreOrderInfo=t.NoMoreOrder=t.PopupLoading=t.LoadingImg=t.LoadingRound=t.NoMore=void 0;var d,p,f,m,h,g,v,y,E=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a("U7vG"),x=C(_),k=a("Zfgq"),A=(C(a("cwTe")),a("f2t5")),w=a("2uFj"),N=(a("nztU"),C(a("mtWM")),C(a("1H2n")));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}t.NoMore=function(){return x.default.createElement("div",{className:"no-more c-fs14 c-cc9 c-tc",style:{height:"30px",lineHeight:"30px"}},"别拉了，我是有底线的~")},t.LoadingRound=function(){return x.default.createElement("div",{className:"loading-round c-tc",style:{padding:"80px 0",width:"100%"}},x.default.createElement("img",{src:"/src/img/icon/loading/load-animate.gif",width:"77",height:"80"}),x.default.createElement("div",{className:"c-fs10 c-c999"},"加载中..."))},t.LoadingImg=function(){return x.default.createElement("div",{className:"c-tc",style:{padding:"30px 0",width:"100%"}},x.default.createElement("img",{src:"/src/img/icon/loading/load-animate.gif",width:"38",height:"40"}))},t.PopupLoading=function(){return x.default.createElement("div",null,x.default.createElement(I,{options:{bgColor:"transparent"}}),x.default.createElement("div",{className:N.default.popupLoad},x.default.createElement("div",{className:N.default.popupLoadBox},x.default.createElement("div",{className:N.default.popupLoadImg})),x.default.createElement("div",{className:N.default.popupLoadText},"Loading ...")))},t.NoMoreOrder=function(){return x.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},x.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),x.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},"您还没有相关订单"))},t.NoMoreOrderInfo=function(){return x.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},x.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),x.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},"暂无订单信息哦~"))},t.NoMorePage=function(e){var t=e.text;return x.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},x.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),x.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},t))},t.SearchNone=function(){return x.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},x.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),x.default.createElement("p",{className:"c-fs14 c-mt10"},"抱歉，暂无相关商品"),x.default.createElement("p",{className:"c-cc9"},"换个关键词试试吧~"))},t.FilterNone=function(){return x.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},x.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),x.default.createElement("p",{className:"c-fs14 c-mt10"},"没有相关商品"))},t.NetError=function(){return x.default.createElement("div",{className:"c-tc",style:{paddingTop:"50px"}},x.default.createElement("img",{src:"/src/img/search/net-error.png",width:"78",height:"104"}),x.default.createElement("p",{className:"c-cc9"},"网络异常，点击重试~"),x.default.createElement("p",{className:"reload-container"},x.default.createElement("div",{className:"reload-button",onClick:function(){window.location.reload()}},"重新加载")))};var I=t.Shady=function(e){var t=e.options,a=e.clickHandle,n={zIndex:t&&t.zIndex||100,opacity:.5,background:t&&t.bgColor||"#000",top:0,left:0,position:"fixed",width:"100%",height:"100%"};return x.default.createElement("div",{style:n,onTouchStart:function(e){a&&a()},onTouchMove:function(e){e.preventDefault()}})};t.CommonShady=function(e){var t=e.zIndex,a=e.clickHandle,n={zIndex:t=t||100,opacity:.5,background:"#000",top:0,left:0,position:"fixed",width:"100%",height:"100%"};return x.default.createElement("div",{style:n,onClick:function(e){a&&a()}})},t.TransShady=function(e){var t=e.options,n=e.clickHandle,r={zIndex:t&&t.zIndex||105,opacity:.5,background:"transparent",top:0,left:0,position:"fixed",width:"100%",height:"100%"};return x.default.createElement("div",{className:"c-tc",style:r,onTouchStart:function(e){n&&n()},onTouchMove:function(e){e.preventDefault()}},x.default.createElement("img",{src:a("Vi7z"),width:"24",height:"24",style:{position:"absolute",top:"50%",marginTop:"-12px"}}))},t.EmptyPage=function(e){var t=e.config;return x.default.createElement("div",{"data-comp":"empty-page"},x.default.createElement("div",{className:"empty-bg",style:{background:"url("+t.bgImgUrl+") center top no-repeat transparent",backgroundSize:"125px 100px"}},x.default.createElement("p",{className:"c-fs13 c-cc9"},t.msg),t.noBtn?null:x.default.createElement("a",{className:"red-btn",href:t.link},t.btnText)))},t.EmptyPageLink=function(e){var t=e.config;return x.default.createElement("div",{"data-comp":"empty-page-link"},x.default.createElement("div",{className:"empty-bg",style:{background:"url("+t.bgImgUrl+") center top no-repeat transparent",backgroundSize:"125px 100px"}},x.default.createElement("p",{className:"c-fs13 c-cc9"},t.msg),t.noBtn?null:x.default.createElement("div",{className:"red-btn",onClick:t.btnClick},t.btnText)))},t.SearchBarA=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.changeHandle=function(e){var t=e.target.value;void 0!==a.props.value?a.props.onChange&&a.props.onChange(t):a.setState({innerValue:t})},a.clearHandle=function(e){a.props.value?a.props.onChange&&a.props.onChange(""):a.setState({innerValue:""})},a.getTerraceHost=function(){var e="m";return navigator.userAgent.indexOf("51gjj")>-1?e="51af-m":"mall"==document.cookie.platform?e="m":"finance"==document.cookie.platform?e="jr-m":document.cookie.origin||(e="wx"),e},a.getLinkByTerrace=function(e){return e&&e.indexOf("tairanmallhost")>-1?e.replace("tairanmallhost",a.getTerraceHost()):e},a.state={innerValue:e.defaultValue},a}return M(t,_.Component),b(t,[{key:"isResultPage",value:function(e){return e.shop||e.coupon_id}},{key:"componentDidMount",value:function(){var e=this.props.isMount;e&&e.call(this)}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.listStyle,r=t.placeHolder,o=t.param,i=this.state.innerValue;return x.default.createElement("form",{"data-comp":"search-bar-a",className:"g-row-flex",onSubmit:function(t){t.preventDefault(),e.refs.search.value.trim()?e.props.onSearch(e.refs.search.value.trim(),null,o):e.props.onSearch(!e.isResultPage(o)&&r?r.word:"",e.getLinkByTerrace(r?r.link:""),o)}},x.default.createElement("label",{className:"g-col-1 search-label",ref:"label"},x.default.createElement("input",{ref:"search",value:void 0!==a?a:i,type:"search",placeholder:o.shop||o.coupon_id?"在结果中搜索":r&&r.word||"搜索：商品 分类 品牌 国家",onChange:this.changeHandle,onFocus:this.props.onFocus,className:"search-input"}),""!==(void 0!==a?a:i)&&x.default.createElement("i",{ref:"clear",onTouchTap:this.clearHandle,className:"close-x-icon"}," "),x.default.createElement("i",{className:"search-icon"}," ")),this.props.changeType?x.default.createElement("div",{className:"change-container",onClick:this.props.changeType},x.default.createElement("i",{className:1==n?"list-style1-icon":"list-style2-icon"}," ")):x.default.createElement("button",{type:"submit",className:"search-btn"},"搜索"))}}]),t}(),t.LinkChange=(p=d=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,_.Component),b(t,[{key:"noop",value:function(){}},{key:"render",value:function(){var e=this.props,t=e["data-notLogin"],a=this.context;return a.isApp?!0===t||a.isLogin?x.default.createElement(k.Link,e,e.children):x.default.createElement("a",E({href:"trmall://to_login"},e,{onTouchTap:this.noop,onClick:this.noop}),e.children):x.default.createElement(k.Link,E({},e,{to:"/guide?redirect="+encodeURIComponent(location.href),onTouchTap:this.noop,onClick:this.noop}),e.children)}}]),t}(),d.contextTypes={isApp:x.default.PropTypes.bool,isLogin:x.default.PropTypes.bool},p),t.ShareAndTotop=(m=f=function(t){function a(t){S(this,a);var n=T(this,(a.__proto__||(0,r.default)(a)).call(this,t));return n.clearTime=function(){n.timer&&(clearInterval(n.timer),n.timer=null)},n.handleClick=function(){n.setState({click:!1});var t=e("toTop"),a=e(window).scrollTop();t.hide(),n.clearTime(),n.timer=setInterval(function(){a-=20,e(window).scrollTop(a),a<=0&&(n.clearTime(),n.setState({click:!0}))})},n.state={click:!0},n}return M(a,_.Component),b(a,[{key:"componentDidMount",value:function(){var t=e(window),a=(t.height(),e(".toTop"));t.scroll(function(){e(this).scrollTop()>35?a.show():a.hide()}),this.props.openShare&&this.refs.share&&this.refs.share.click()}},{key:"getShareParams",value:function(){var e=this.props.config;return this.params?this.params:this.params=(0,A.dataConvertShare)(e)}},{key:"render",value:function(){var e=this;return console.log(this.state.click),x.default.createElement("div",{className:"share-toTop","data-comp":"share-label"},x.default.createElement("ul",null," ",this.context.isApp?x.default.createElement("li",{className:"share"},x.default.createElement("a",{href:this.getShareParams(),ref:"share"})):null,x.default.createElement("li",{className:"toTop",onClick:function(){e.state.click&&e.handleClick()}})))}}]),a}(),f.contextTypes={isApp:x.default.PropTypes.bool,store:x.default.PropTypes.object},m),t.OpenInAppGuide=(g=h=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,_.Component),b(t,[{key:"render",value:function(){return this.context.isApp?null:x.default.createElement("div",{id:"mask",style:{position:"fixed",top:"0",width:"100%",background:"rgba(0,0,0,.6)",padding:"3px 10px",color:"#fff",zIndex:"10000"}},x.default.createElement("p",{style:{color:"#fff",fontSize:"12px",margin:"0"}},"1.微信等暂不支持打开第三方应用，进行购买将跳转到下载界面，请根据引导操作。"),x.default.createElement("p",{style:{color:"#fff",fontSize:"12px",margin:"0"}},"2.若您已安装本应用，进入浏览器后请根据提示进入应用。"))}}]),t}(),h.contextTypes={isApp:x.default.PropTypes.bool,store:x.default.PropTypes.object},g),t.Scroll=(y=v=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={},a._props=a.clone({locked:!1},t.contentsProps,e),a.createMapState(),a}return M(t,_.Component),b(t,[{key:"createMapState",value:function(){var e=this._props.domDown;this.mapState={INIT:{dom:e.domInit,fn:this.getData},REFRESH:{dom:e.domRefresh},LOAD:{dom:e.domLoad,fn:this.getData},NODATA:{dom:e.domNoData}}}},{key:"stateInit",value:function(){this.changeState("INIT")}},{key:"stateRefresh",value:function(){this.changeState("REFRESH")}},{key:"stateLoad",value:function(){this.changeState("LOAD")}},{key:"stateNodata",value:function(){this.changeState("NODATA")}},{key:"unLocked",value:function(e){this._props.locked=!!e}},{key:"clone",value:function(e){var t=this;if(arguments.length<=1||!(arguments.length-1))return e;for(var a=void 0,r=void 0,o=-1;i=++o+1,a=arguments.length<=i?void 0:arguments[i];){var i;(0,n.default)(a).forEach(function(n,o){"Object"==typeof a[n]?(r=e[n]||a[n].length?[]:{},t.clone(r,a[n])):r=a[n],e[n]=r})}return e}},{key:"changeState",value:function(e){var t=this.mapState[e];t.nowState=e,this.setState(t),t.fn&&t.fn.call(this)}},{key:"getData",value:function(){this.unLocked(!0),this.props.getData(this)}}]),b(t,[{key:"componentWillReceiveProps",value:function(e){"INIT"==e.nowState&&this.stateInit()}},{key:"componentWillMount",value:function(){this.changeState(this._props.nowState)}},{key:"componentDidMount",value:function(){this.unmout=this.onMount()}},{key:"componentWillUnmount",value:function(){this.unmout&&this.unmout()}},{key:"onMount",value:function(){var e=this,t=this.refs.anchor,a=this;return a.mount=function(){"NODATA"==a.state.nowState||a._props.locked||window.innerHeight>t.offsetTop-window.scrollY&&a.changeState("LOAD")},this._props.scrollArea.addEventListener("scroll",a.mount),function(){return e._props.scrollArea.removeEventListener("scroll",a.mount)}}},{key:"render",value:function(){var e=this._props.classfix;return x.default.createElement("div",{className:e},this.props.children,x.default.createElement("div",{ref:"anchor",id:"test"},this.state.dom()))}}]),t}(),v.contentsProps={classfix:"scroll-wrap",nowState:"INIT",scrollArea:window,domDown:{domInit:function(){return x.default.createElement("div",{className:"dropload-load dropload-init"},x.default.createElement("img",{className:"loading",src:"/src/img/icon/loading/loading.png"}),"加载中...")},domRefresh:function(){return x.default.createElement("div",{className:"dropload-load"},"上拉加载更多")},domLoad:function(){return x.default.createElement("div",{className:"dropload-load"},x.default.createElement("img",{className:"loading",src:"/src/img/icon/loading/loading.png"}),"加载中...")},domNoData:function(){return x.default.createElement("div",{className:"dropload-load"},"别拉了，我是有底线的~")}},getData:function(){}},y),t.CustomerService=function(e){function t(){var e,a,n;S(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.getServiceUrl=function(e,t,a){return w.SERCVICEURL+"?from=chat&queue="+e+"&loginName="+t+"&password=&device=mobile&visit="+a},n.toCustomService=function(){n.props.shopAttr;location.href="trmall://customer_service?targetId=3101"},T(n,a)}return M(t,_.Component),b(t,[{key:"render",value:function(){return x.default.createElement("a",{className:this.props.className,onClick:this.toCustomService},this.props.children)}}]),t}()}).call(this,a("OOjC"))},d5M9:function(e,t,a){},daIj:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("fZjL")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PureComponent=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG");function p(e,t){if(e===t)return!0;var a=(0,r.default)(e),n=(0,r.default)(t);return a.length===n.length&&a.every(function(a){return e[a]===t[a]})}t.PureComponent=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!p(this.props,e)||!p(this.state,t)}}]),t}()},e2ZG:function(e,t,a){"use strict";(function(e){var n=d(a("Zx67")),r=d(a("kiBT")),o=d(a("OvRC")),i=d(a("C4MV")),l=d(a("Zzip")),s=d(a("pFYg")),c=d(a("5QVw")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p,f,m,h,g=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v="function"==typeof c.default&&"symbol"===(0,s.default)(l.default)?function(e){return void 0===e?"undefined":(0,s.default)(e)}:function(e){return e&&"function"==typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":void 0===e?"undefined":(0,s.default)(e)},y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a("U7vG"),b=C(E),_=a("d2xe"),x=a("4n+p"),k=a("Zfgq"),A=a("f2Hk"),w=a("fw66"),N=C(a("mtWM"));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("FQO4");var I=(0,A.concatPageAndType)("invoiceSelect"),O=(0,A.concatPageAndType)("orderConfirm"),D=((0,A.actionAxios)("invoiceSelect"),(0,A.actionAxiosAll)("invoiceSelect"),{common:"NORMAL",tax:"VAT",electron:"ELEC"}),L={initPage:{url:"/newapi/user/invoice/get",method:"get"},invoiceSave:{url:"/newapi/user/invoice/save",method:"post"}},P=(f=p=function(t){function a(e,t){S(this,a);var r=T(this,(a.__proto__||(0,n.default)(a)).call(this,e));return document.title="发票信息",t.isApp&&(window.location.href="jsbridge://set_title?title=发票信息"),r}return M(a,E.Component),y(a,[{key:"componentWillMount",value:function(){this.props.confirmLoad?k.browserHistory.goBack():(this.props.dispatch(O("setOrigin",{origin:"invoice"})),this.props.initialPage())}},{key:"componentDidMount",value:function(){e(window).scrollTop(0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.winHeight,n=t.invoiceSelData,r=t.invoiceType,o=t.commonInvoice,i=t.electronInvoice,l=t.taxInvoice,s=t.invoiceContent,c=t.showModal,u=t.invoiceNote,d=t.invoiceId,p=this.props,f=p.changeType,m=p.changeStatus,h=p.modalSelect,g=p.modalCtrl,v=p.changeForm,y=p.selectAddress;return b.default.createElement("div",{"data-page":"invoice-select",style:{background:"#f4f4f4",minHeight:a}},this.props.load?b.default.createElement(_.LoadingRound,null):b.default.createElement("form",{id:"invoiceForm"},this.props.update&&b.default.createElement(_.PopupLoading,null),b.default.createElement("div",{className:"invoice-note",onClick:function(t){return e.props.popupNote(!0)}}," "),u&&b.default.createElement(K,{onClose:function(t){return e.props.popupNote(!1)}}),b.default.createElement("input",{type:"hidden",name:"invoice_id",value:d}),b.default.createElement(H,{data:n,type:r,changeType:f,name:"invoice_type"}),"common"===r&&b.default.createElement(R,{data:o,changeStatus:m.bind(null,"commonInvoice"),modalCtrl:g,modalSelect:h.bind(null,r+"Invoice"),contentList:s,showModal:c,changeForm:v.bind(null,"commonInvoice")}),"electron"===r&&b.default.createElement(z,{data:i,changeStatus:m.bind(null,"electronInvoice"),modalCtrl:g,modalSelect:h.bind(null,r+"Invoice"),contentList:s,showModal:c,changeForm:v.bind(null,"electronInvoice")}),"tax"===r&&b.default.createElement(B,{data:l,changeForm:v.bind(null,"taxInvoice"),selectAddress:y}),b.default.createElement(V,{formSubmit:this.props.formSubmit})),b.default.createElement(w.PopupTip,{active:this.props.prompt.show,msg:this.props.prompt.msg,onClose:this.props.promptClose}))}}]),a}(),p.contextTypes={router:b.default.PropTypes.object,isApp:b.default.PropTypes.bool},f),H=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"getHtml",value:function(){var e=this,t=this.props,a=t.data,n=t.type;return a.map(function(t,a){return b.default.createElement("span",{onClick:t.able&&e.props.changeType.bind(e,t.type),className:"type-li "+(n===t.type?"active":"")+" "+(t.able?"":"disabled"),key:a},t.text)})}},{key:"getText",value:function(){var e=this.props,t=(e.data,e.type);return"electron"===t?b.default.createElement("div",{className:"bottom"},"电子发票与纸制发票具备同等法律效力，可支持报销入账。"):"tax"===t?b.default.createElement("div",{className:"bottom"},"※ 增值税发票在订单完成后开票。"):void 0}},{key:"render",value:function(){return b.default.createElement("div",{className:"invoice-type"},b.default.createElement("div",{className:"title"},"发票类型"),b.default.createElement("input",{type:"hidden",name:this.props.name,value:D[this.props.type]}),b.default.createElement("div",{className:"body"},this.getHtml()),this.getText())}}]),t}(),R=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.changeStatus,n=e.modalSelect,r=e.modalCtrl,o=e.contentList,i=e.showModal,l=e.changeForm;return b.default.createElement("div",{className:"common-invoice"},b.default.createElement(j,{postData:t.postData,inputHolder:"请输入发票抬头",headName:"action",contentName:"invoice_name",changeForm:l}),b.default.createElement(F,null),b.default.createElement(U,{modalSelect:n,modalCtrl:r,postData:t.postData,name:"invoice_content"}),b.default.createElement(Q,{modalSelect:n,list:o,selectId:t.postData.invoice_content,modalCtrl:r,show:i}),2===t.postData.action&&b.default.createElement(q,{data:t.postData,status:t.status,changeStatus:a,changeForm:l}))}}]),t}(),z=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.changeStatus,n=e.modalSelect,r=e.modalCtrl,o=e.contentList,i=e.showModal,l=e.changeForm;return b.default.createElement("div",{className:"electron-invoice"},b.default.createElement("input",{type:"hidden",name:"user_id",value:t.postData.user_id}),b.default.createElement(j,{postData:t.postData,inputHolder:"请输入发票抬头",headName:"action",contentName:"invoice_name",changeForm:l}),b.default.createElement(F,null),b.default.createElement(U,{modalSelect:n,modalCtrl:r,postData:t.postData,name:"invoice_content"}),b.default.createElement(Q,{modalSelect:n,list:o,selectId:t.postData.invoice_content,modalCtrl:r,show:i}),b.default.createElement("div",{className:"receiver-email"},b.default.createElement(G,{text:"*收票人邮箱",textHolder:"用于接收电子发票",name:"email",inputValue:t.postData.email,inputChange:l.bind(this,"email")})),2===t.postData.action&&b.default.createElement(q,{data:t.postData,status:t.status,changeStatus:a,changeForm:l}))}}]),t}(),B=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectAddress;return b.default.createElement("div",{className:"tax-invoice"},b.default.createElement("input",{type:"hidden",name:"user_id",value:t.postData.user_id}),b.default.createElement(U,{edit:!1,contentText:t.contentText,postData:t.postData,name:"invoice_content"}),b.default.createElement(Z,{changeForm:this.props.changeForm,data:t.postData}),b.default.createElement(J,{data:t.postData,selectAddress:a}))}}]),t}(),j=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,n.default)(t)).call(this,e));a.closeChange=function(e){a.setState({showClose:e})},a.inputValueChange=function(e,t,n){a.setState({inputValue:e}),t&&a.props.changeForm("invoice_name"+a.props.postData.action,e.trim()),n&&a.closeChange(!1)};var r=e.postData["invoice_name"+e.postData.action];return a.state={inputValue:void 0!==r?r:"",showClose:!1},a}return M(t,E.Component),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.postData["invoice_name"+e.postData.action];this.setState({inputValue:void 0!==t?t:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.changeForm,n=t.postData,r=t.headName,o=t.contentName;return b.default.createElement("div",{className:"invoice-header"},b.default.createElement("div",{className:"title"},"*发票抬头"),b.default.createElement("input",{type:"hidden",name:r,value:n.action}),b.default.createElement("div",{className:"check-grid"},b.default.createElement("div",{className:"check-box",onClick:function(e){return a("action",1)}},b.default.createElement("span",{className:"check-icon "+(1===n.action?"check":"")}," ")," 个人"),b.default.createElement("div",{className:"check-box",onClick:function(e){return a("action",2)}},b.default.createElement("span",{className:"check-icon "+(2===n.action?"check":"")}," ")," 单位")),b.default.createElement("label",{className:"input"},b.default.createElement("input",{type:"text",name:o,placeholder:this.props.inputHolder,value:this.state.inputValue,onFocus:function(t){return e.closeChange(!0)},onChange:function(t){return e.inputValueChange(t.target.value)},maxLength:"50",onBlur:function(t){return e.inputValueChange(t.target.value,!0,!0)}}),""!==this.state.inputValue&&this.state.showClose&&b.default.createElement("i",{className:"grey-close-icon",onTouchTap:function(t){return e.inputValueChange("",!0)}}," ")))}}]),t}(),F=function(){return b.default.createElement("div",{className:"divide-line"},b.default.createElement("div",{className:"line"}," "))},U=(h=m=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){return b.default.createElement("div",{className:"invoice-content g-row-flex"},b.default.createElement("div",{className:"left"},"*发票内容"),b.default.createElement("input",{type:"hidden",name:this.props.name,value:this.props.postData.invoice_content}),b.default.createElement("div",{className:"right g-col-1",onClick:this.props.edit&&this.props.modalCtrl.bind(null,!0)},this.props.postData.contentText,this.props.edit&&b.default.createElement("i",{className:"arrow-btm-icon"}," ")))}}]),t}(),m.defaultProps={edit:!0},h),q=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.changeStatus,n=e.changeForm,r=e.data;return b.default.createElement("div",{className:"strip-array"},b.default.createElement(G,{text:"*纳税人识别码",textHolder:"请输入纳税人识别码",inputValue:r.taxpayer_idNumber,name:"taxpayer_idNumber",inputChange:n.bind(this,"taxpayer_idNumber")}),b.default.createElement("div",{className:"more-info-grid "+(t.infoMore?"active":"")},b.default.createElement(F,null),b.default.createElement(G,{text:"注册地址",textHolder:"请输入注册地址",inputValue:r.reg_addr,name:"reg_addr",inputChange:n.bind(this,"reg_addr"),limitNum:"100"}),b.default.createElement(F,null),b.default.createElement(G,{text:"注册电话",textHolder:"请输注册电话",inputValue:r.reg_tel,name:"reg_tel",inputChange:n.bind(this,"reg_tel")}),b.default.createElement(F,null),b.default.createElement(G,{text:"开户银行",textHolder:"请输入开户银行",inputValue:r.open_bank,name:"open_bank",inputChange:n.bind(this,"open_bank")}),b.default.createElement(F,null),b.default.createElement(G,{text:"银行账户",textHolder:"请输入银行账户",inputValue:r.bank_account,name:"bank_account",inputChange:n.bind(this,"bank_account")})),b.default.createElement(F,null),b.default.createElement("div",{className:"more-info-click",onClick:function(e){return a("infoMore",!t.infoMore)}},"更多单位信息 ",b.default.createElement("i",{className:"arrow-btm-icon "+(t.infoMore?"active":"")}," ")))}}]),t}(),Z=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.changeForm,a=e.data;return b.default.createElement("div",{className:"strip-array"},b.default.createElement(G,{text:"*单位名称",textHolder:"请输入单位名称",inputValue:a.unit_name,name:"unit_name",inputChange:t.bind(this,"unit_name")}),b.default.createElement(F,null),b.default.createElement(G,{text:"*纳税人识别码",textHolder:"请输入纳税人识别码",inputValue:a.taxpayer_idNumber,name:"taxpayer_idNumber",inputChange:t.bind(this,"taxpayer_idNumber"),limitNum:"20"}),b.default.createElement(F,null),b.default.createElement(G,{text:"*注册地址",textHolder:"请输入注册地址",inputValue:a.reg_addr,name:"reg_addr",inputChange:t.bind(this,"reg_addr"),limitNum:"100"}),b.default.createElement(F,null),b.default.createElement(G,{text:"*注册电话",textHolder:"请输注册电话",inputValue:a.reg_tel,name:"reg_tel",inputChange:t.bind(this,"reg_tel"),limitNum:"20"}),b.default.createElement(F,null),b.default.createElement(G,{text:"*开户银行",textHolder:"请输入开户银行",inputValue:a.open_bank,name:"open_bank",inputChange:t.bind(this,"open_bank")}),b.default.createElement(F,null),b.default.createElement(G,{text:"*银行账户",textHolder:"请输入银行账户",inputValue:a.bank_account,name:"bank_account",inputChange:t.bind(this,"bank_account")}))}}]),t}(),G=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.limitNum,n=e.textHolder,r=e.inputChange,o=e.inputValue,i=e.name;return b.default.createElement("div",{className:"one-strip g-row-flex"},b.default.createElement("div",{className:"left"},t),b.default.createElement("div",{className:"right g-col-1"},b.default.createElement("input",{type:"text",name:i,maxLength:a||50,placeholder:n||"",onBlur:function(e){return r&&r(e.target.value)},defaultValue:o})))}}]),t}(),J=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"componentWillMount",value:function(){var e=this;window.onAddressResult=function(t){e.props.selectAddress(JSON.parse(t))}}},{key:"componentWillUnmount",value:function(){window.onAddressResult=null}},{key:"render",value:function(){var e=this.props.data,t=e.receiver_addr&&e.receiver_region&&e.receiver_tel&&e.receiver_name;return b.default.createElement("div",{className:"invoice-address"},b.default.createElement("div",{className:"top"},"*收票地址"),t?b.default.createElement("div",null,b.default.createElement("input",{type:"hidden",name:"receiver_region",value:e.receiver_region}),b.default.createElement("input",{type:"hidden",name:"receiver_addr",value:e.receiver_addr}),b.default.createElement("input",{type:"hidden",name:"receiver_tel",value:e.receiver_tel}),b.default.createElement("input",{type:"hidden",name:"receiver_name",value:e.receiver_name})):"",b.default.createElement(F,null),b.default.createElement("a",{href:"trmall://getAddressInfo",className:"address-select g-row-flex g-col-mid g-col-ctr"},b.default.createElement("div",{className:"left-icon"},b.default.createElement("i",{className:"location-address-icon"}," ")),t?b.default.createElement("div",{className:"content-text g-col-1"},b.default.createElement("div",{className:"text-top g-row-flex"},b.default.createElement("span",{className:"g-col-1"},"收货人：",e.receiver_name),b.default.createElement("span",{className:"user-phone"},e.receiver_tel)),b.default.createElement("div",{className:"text-bottom"},"收货地址：",e.receiver_region,e.receiver_addr)):b.default.createElement("div",{className:"g-col-1 c-fs15"},"请填写收货地址"),b.default.createElement("div",{className:"right-icon"},b.default.createElement("i",{className:"arrow-right-icon"}," "))))}}]),t}(),Q=function(e){function t(){var e,a,r;S(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=T(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getList=function(){return r.props.list.map(function(e,t){return b.default.createElement("div",{className:"select-li g-row-flex",key:t,onClick:r.props.modalSelect.bind(null,e)},b.default.createElement("div",{className:"left g-col-1"},e.text),b.default.createElement("div",{className:"right"},b.default.createElement("span",{className:"check-icon "+(r.props.selectId===e.id?"check":"")}," ")))})},T(r,a)}return M(t,E.Component),y(t,[{key:"render",value:function(){return b.default.createElement("div",{onClick:this.props.modalCtrl.bind(null,!1)},this.props.show&&b.default.createElement(_.Shady,null),b.default.createElement("div",{className:"modal-select "+(this.props.show?"active":""),onClick:function(e){return e.stopPropagation()}},b.default.createElement("div",{className:"title"},"发票内容"),b.default.createElement("div",{className:"select-list"},this.getList()),b.default.createElement("div",{className:"coupon-btm",onClick:this.props.modalCtrl.bind(null,!1)},b.default.createElement("div",{className:"close-btn"},"关闭"))))}}]),t}(),V=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,E.Component),y(t,[{key:"render",value:function(){return b.default.createElement("div",{className:"submit-btn"},b.default.createElement("div",{className:"red-btn",onClick:this.props.formSubmit},"确认"))}}]),t}(),K=function(t){function a(){return S(this,a),T(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return M(a,E.Component),y(a,[{key:"componentDidMount",value:function(){e("html,body").css({height:"100%",overflowY:"hidden"})}},{key:"componentWillUnmount",value:function(){e("html,body").css({height:"auto",overflowY:"auto"})}},{key:"render",value:function(){return b.default.createElement("div",{onClick:this.props.onClose},b.default.createElement(_.Shady,{option:{zIndex:108}}),b.default.createElement("div",{className:"note-popup"},b.default.createElement("div",{className:"popup-body",onClick:function(e){e.stopPropagation()}},b.default.createElement("h3",null,b.default.createElement("p",null,"发票须知")),b.default.createElement("div",{className:"list"},b.default.createElement("p",null,"1、使用活动赠送的小泰e卡（活动卡）支付的订单不支持开具发票；"),b.default.createElement("p",null,"2、跨境保税、海外直邮商品属于跨境海外商品，不支持开具国内发票；"),b.default.createElement("p",null,"3、如选择公司抬头的发票需提供纳税人识别号；"),b.default.createElement("p",null,"4、电子普通发票的法律效力、基本用途及使用规定同纸质普通发票，可用于报销入账、售后维权等。如需纸质发票可自行下载打印。"))),b.default.createElement("div",{className:"popup-bottom"},b.default.createElement("i",{className:"close-l-x-icon"}," "))))}}]),a}(),W={checkObject:function(e,t){var a={status:!0,msg:""};return t.every(function(t,n){return t.validate&&(""!==e[t.key]&&void 0!==e[t.key]||t.require)?!!t.validate(e[t.key],t.require)||(a={status:!1,msg:t.msg},!1):a}),a},isEmpty:function(e){return void 0!==e&&""!==e.trim()},telCheck:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[0-9\-]+$/g.test(e)},character:function(e){},characterNum:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[\u4e00-\u9fa5|0-9]+$/g.test(e)},numberCheck:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[0-9]+$/g.test(e)},emailCheck:function(e){return!!/^([a-zA-Z0-9_\.\-])+\@[a-zA-Z0-9]+\.com$/g.test(e)},isObject:function(e){return"object"===(void 0===e?"undefined":v(e))&&null!==e}},Y={common:{1:[{key:"invoice_name1",validate:W.isEmpty,require:!0,msg:"请输入发票抬头"}],2:[{key:"invoice_name2",validate:W.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"taxpayer_idNumber",validate:W.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_addr",validate:"",require:!1,msg:"请输入正确的地址"},{key:"reg_tel",validate:W.telCheck,require:!1,msg:"请填写正确的注册电话"},{key:"open_bank",validate:W.characterNum,require:!1,msg:"请填写正确的开户银行"},{key:"bank_account",validate:W.numberCheck,require:!1,msg:"请填写正确的银行账户"}]},electron:{1:[{key:"invoice_name1",validate:W.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"email",validate:W.emailCheck,require:!0,msg:"请填写正确的收票人邮箱"}],2:[{key:"invoice_name2",validate:W.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"email",validate:W.emailCheck,require:!0,msg:"请填写正确的收票人邮箱"},{key:"taxpayer_idNumber",validate:W.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_addr",validate:"",require:!1,msg:"请输入正确的地址"},{key:"reg_tel",validate:W.telCheck,require:!1,msg:"请填写正确的注册电话"},{key:"open_bank",validate:W.characterNum,require:!1,msg:"请填写正确的开户银行"},{key:"bank_account",validate:W.numberCheck,require:!1,msg:"请填写正确的银行账户"}]},tax:[{key:"unit_name",validate:W.isEmpty,require:!0,msg:"请输入单位名称"},{key:"taxpayer_idNumber",validate:W.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_addr",validate:W.isEmpty,require:!0,msg:"请输入注册地址"},{key:"reg_tel",validate:W.telCheck,require:!0,msg:"请输入正确的电话"},{key:"open_bank",validate:W.isEmpty,require:!0,msg:"请输入正确的银行名称"},{key:"bank_account",validate:W.numberCheck,require:!0,msg:"请输入正确的账户"},{key:"receiver_addr",validate:W.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_name",validate:W.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_region",validate:W.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_tel",validate:W.isEmpty,require:!0,msg:"请选择收票地址"}]};t.default=(0,x.connect)(function(e,t){return g({},e.global,e.invoiceSelect,{confirmLoad:e.orderConfirm.load})},function(e,t){var a=t.location.query,n=a.shop_ids,r=a.invoice,o=a.action;return{dispatch:e,promptClose:function(){e(I("ctrlPrompt",{prompt:{show:!1,msg:""}}))},changeType:function(t){e(I("changeType",{invoiceType:t}))},changeStatus:function(t,a,n){e(I("changeStatus",{invoiceType:t,key:a,value:n}))},modalCtrl:function(t){e(I("modalCtrl",{status:t}))},modalSelect:function(t,a){e(I("modalSelect",{selectType:t,obj:a})),e(I("modalCtrl",{status:!1}))},changeForm:function(t,a,n){e(I("changeForm",{mode:t,name:a,value:n}))},selectAddress:function(t){e(I("selectAddress",{data:t}))},popupNote:function(t){e(I("popupNote",{status:t}))},initialPage:function(){e(I("updateState")),N.default.request(g({},L.initPage,{params:{shop_id:n}})).then(function(t){e(I("initialPage",{data:t.data,invoice:r,action:+o}))}).catch(function(e){console.error(e)})}}},function(t,a,n){var r=!1,o=a.dispatch;return g({},t,a,n,{formSubmit:function(){if(!r){r=!0;var a=t[t.invoiceType+"Invoice"].postData,n={status:!0,msg:""};if(!(n="tax"===t.invoiceType?W.checkObject(a,Y[t.invoiceType]):W.checkObject(a,Y[t.invoiceType][a.action])).status)return o(I("ctrlPrompt",{prompt:{show:!0,msg:n.msg}})),void(r=!1);N.default.request(g({},L.invoiceSave,{data:e("#invoiceForm").serialize()})).then(function(e){r=!1;var a=e.data;if(a.status){var n=t[t.invoiceType+"Invoice"].postData;o(O("selectInvoice",{invoice:D[t.invoiceType],action:n.action,unitName:n.unit_name,invoiceName:n["invoice_name"+n.action]})),k.browserHistory.goBack()}else o(I("ctrlPrompt",{prompt:{show:!0,msg:a.msg}}))}).catch(function(e){o(I("ctrlPrompt",{prompt:{show:!0,msg:"小泰发生错误，请稍后再试~"}})),console.error(e)})}}})})(P)}).call(this,a("OOjC"))},eWoF:function(e,t,a){},erxK:function(e,t,a){e.exports={shady:"_3pz3ktxKDzQoA3JDE1LemI",animationModal:"_3aFkIHKWaG8-qgcVqKCFuS",active:"_2xXwXhTGDdTdXssfTaa2T3",title:"_3FvqT4b9HQB8G0Y5aLZLRh",closeBtn:"_3RBM8lDkS6aam9JM9zAUCJ"}},f2Hk:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0}),t.popupActions=void 0;var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.concatPageAndType=s,t.actionAxios=function(e){var t=s(e);return function(e,a,n){return function(r){return r(t(e+"Load",{cbData:n})),l.default.request(i({},a)).then(function(a){r(t(e+"Success",{result:a.data,cbData:n}))}).catch(function(a){r(t(e+"Error",{error:a})),console.error(a)})}}},t.actionAxiosAll=function(e){var t=s(e);return function(e,a,n){return function(r){r(t(e+"Load",n));var o=a.map(function(e,t){return l.default.request(e)});return l.default.all(o).then(function(a){r(t(e+"Success",{result:a,cbData:n}))}).catch(function(a){r(t(e+"Error",{error:a})),console.error(a)})}}};var l=function(e){return e&&e.__esModule?e:{default:e}}(a("mtWM"));function s(e){return function(t,a){return i({type:e+"_"+t},a)}}t.popupActions=s("popup")},f2t5:function(e,t,a){"use strict";(function(e){var n=o(a("mvHQ")),r=o(a("fZjL"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.platform=t.URL=t.scrollTo=t.dataConvertShare=t.Share=t.base64Utf8=t.compose=t.dateUtil=t.RHOST=void 0,t.each=s,t.wrap=function(e,t){return function(){for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return n.unshift(e),t.apply(this,n)}},t.filter=function(e){if("function"==typeof e)return function(t){var a=[];return s(t,function(t,n){!0===e(t,n)&&a.push(n)}),a};return null==e?function(){}:function(t){return e[t]}},t.base64encode=d,t.utf16to8=p,t.truncateByte=function(e,t,a){if(t=t||60,a=void 0===a?"...":a,e.replace(/[^A-Z\x00-\xff]/g,"**").length>t){for(var n=0,r=0;r<t;r++)if(e.charCodeAt(r)>255?n+=2:n+=1,n>=t){e=e.slice(0,r+1-a.length/2)+a;break}return e}return e+""},t.subArray=function(e,t){return e.slice(0,t)},t.redirectURL=function(e,t){var a=window.location.origin+e,n=/^(wx|jr-m|51af-m|kdaf-m|m)\.tairanmall.com/.test(window.location.host),r=void 0;r=t?v.wxapp+e:(y.wx?v.wx:y.mall?v.mall:y.finance?v.jr:y.is51?v[51]:y.iskd?v.kd:n?v.wx:window.location.origin)+e;a!==r&&window.location.replace(r)},t.addImageSuffix=function(e,t){return e=/image.tairanmall.com\//.test(e)?e+t+".jpg":e},t.toFixedTwo=function(e){return parseFloat(parseFloat(e).toFixed(2))},t.judgeIphoneX=function(){return/iphone/gi.test(navigator.userAgent)&&812===screen.height&&375===screen.width},t.handleId=function(e){return e.slice(0,4)+"************"+e.substr(e.length-4,4)};var i=a("nztU"),l=t.RHOST=window.location.protocol+"//wx.tairanmall.com";function s(e,t){var a=void 0,n=void 0;if(Array.isArray(e))e.forEach(function(a,n){return t(n,a,e)});else{var o=(0,r.default)(e);for(a=0,n=o.length;a<n;a++)t(o[a],e[o[a]],e)}return e}var c=t.dateUtil={formatNum:function(e){return e<10?"0"+e:e},parse:function(e,t){if(void 0===e)return null;if("string"==typeof t){new Date(t);var a=t.replace(/[^ymd]/g,"").split("");if(!a&&3!=a.length)return null;t=t.replace(/y|m|d/g,function(e){switch(e){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}});for(var n=new RegExp(t,"g").exec(e),r={},o=0,i=a.length;o<i;o++)r[a[o]]=n[o+1];return new Date(r.y,r.m-1,r.d)}return null},format:function(e,t){return e?(2==arguments.length&&"boolean"==typeof t&&(t=e,e=new Date),e.getTime||(e=new Date(parseInt(e))),"string"!=typeof t&&(t="Y年M月D日 H时F分S秒"),t.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(t){switch(t){case"y":return(e.getFullYear()+"").slice(2);case"Y":return e.getFullYear();case"m":return e.getMonth()+1;case"M":return c.formatNum(e.getMonth()+1);case"d":return e.getDate();case"D":return c.formatNum(e.getDate());case"h":return e.getHours();case"H":return c.formatNum(e.getHours());case"f":return e.getMinutes();case"F":return c.formatNum(e.getMinutes());case"s":return e.getSeconds();case"S":return c.formatNum(e.getSeconds())}})):null}},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){var t,a,n,r,o,i;for(n=e.length,a=0,t="";a<n;){if(r=255&e.charCodeAt(a++),a==n){t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4),t+="==";break}if(o=e.charCodeAt(a++),a==n){t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4|(240&o)>>4),t+=u.charAt((15&o)<<2),t+="=";break}i=e.charCodeAt(a++),t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4|(240&o)>>4),t+=u.charAt((15&o)<<2|(192&i)>>6),t+=u.charAt(63&i)}return t}function p(e){var t,a,n,r;for(t="",n=e.length,a=0;a<n;a++)(r=e.charCodeAt(a))>=1&&r<=127?t+=e.charAt(a):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t}var f=t.compose=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t.length){var n=t[t.length-1],r=t.slice(0,-1);return function(){return r.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}return function(e){return e}},m=t.base64Utf8=function(e){return d(p((0,n.default)(e)))},h=t.Share=function(e){return"trmall://share?params="+m(e)};t.dataConvertShare=f(h,function(e){return e.isRedirect&&(e.link=e.link+"#flag&isRedirect=true&rhost="+(e.rhost||l)+"&evn="+(e.evn||""),delete e.isRedirect,delete e.rhost,delete e.evn),e}),t.scrollTo=function(t,a){if(!(t<0))var n=e(window).scrollTop(),r=(n>t?n-t:t-n)/a,o=setInterval(function(){n>t?(n-=r)<=t?(clearInterval(o),e(window).scrollTop(t)):e(window).scrollTop(n):(n+=r)>=t?(clearInterval(o),e(window).scrollTop(t)):e(window).scrollTop(n)},1)};var g={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},v=t.URL={wx:window.location.protocol+"//wx.tairanmall.com",jr:window.location.protocol+"//jr-m.tairanmall.com",51:window.location.protocol+"//51af-m.tairanmall.com",kd:window.location.protocol+"//kdaf-m.tairanmall.com",mall:window.location.protocol+"//m.tairanmall.com",wxapp:"https://wxapp.tairanmall.com"},y=t.platform={wx:g.versions.weixin,mall:"mall"===(0,i.getCookie)("platform"),finance:"finance"===(0,i.getCookie)("platform"),is51:/51gjj|51Gjj|51jiekuan|51shebao|51ishebao/i.test(navigator.userAgent),iskd:/pocketwallet/i.test(navigator.userAgent),isApp:!!(0,i.getCookie)("origin")}}).call(this,a("OOjC"))},f6Rb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAAgVBMVEUAAAC7Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh0TU65WAAAAKnRSTlMAu8xL+7TyIBfqsHvQLffcnGJeWk89FO6gdDglDQfmulXEq6GPgUMyA29D3FSHAAABM0lEQVQ4y4XT15qDIBAF4FEREI29xLYpm7bz/g+4m4CUbBL/G24OevgGwNKWuR+laeTnZQuvDIKgRsQAz1iITwQDx57iP3QPlhhfip3ESqbCtyrVlOJbVHYO8YMQ/jToCBg6Gusj4c67u/DHshMoCQBOlu3gCFAiHApUMt+RoVLCFldswdfdPYc+pw8Rfu6CEZC1LgQIrkjNj4TnEKh8QbLWxTeHTjyH3voNBa4ozACKgdBNrEvu9ADMGIMNYj9nsuKZB9ZtaKxI117uBcv5Vh+sywDhEnl0Ox0bmH4y50oB65aIvKzjieKiY/BQW5F0mBI09s4jqTdyaiM3mR60HhHLUU32Oh3NMzIqiudZVaA1VJ1cHUwkkKOSc56TkMGz69jqEjS+TfDS3B++SBr526IF4xd5QHFbIXQuYQAAAABJRU5ErkJggg=="},f831:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=A(p),m=a("Zfgq"),h=A(a("fw66")),g=a("d2xe"),v=a("4n+p"),y=A(a("TQvf")),E=A(a("qAHI")),b=a("2uFj"),_=a("Q2t0"),x=(a("qeJi"),a("f2Hk")),k=a("NUeF");a("f2t5");function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var S={init:{url:b.MALLAPI+"/user/sold/info",method:"get"},logistics:{url:b.MALLAPI+"/user/sold/send",method:"post"}},T=(0,x.concatPageAndType)("afterSaleDetail"),M=(0,x.actionAxios)("afterSaleDetail"),I=function(t){function a(t){w(this,a);var r=N(this,(a.__proto__||(0,n.default)(a)).call(this,t));return r.handelBtn=function(){var t=r.props,a=t.companycode,n=t.dispatch;e("#logiCode").val(e("#logiCode").val().replace(/[^a-zA-Z0-9]/g,""));var o=e("#logiCode").val();a&&o&&o.length>=6?n(T("changebtnFlag",{btnFlag:!1})):n(T("changebtnFlag",{btnFlag:!0}))},r.state={update:!1,error:!1,data:""},r}return C(a,p.Component),d(a,[{key:"componentWillMount",value:function(){document.title="售后申请单详情",window.location.href="jsbridge://set_title?title=售后申请单详情",this.props.resetData(),this.props.getData()}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("#msgTip");e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"render",value:function(){if(this.props.load)return f.default.createElement(g.LoadingRound,null);var e=this.props,t=e.companyname,a=void 0===t?"":t,n=e.companycode,r=void 0===n?"":n,o=e.corpid,i=void 0===o?"":o,l=e.data;return f.default.createElement("div",{"data-page":"after-sale-detail"},f.default.createElement(D,{data:l}),l.status>10&&f.default.createElement(B,{data:l}),40==l.status&&f.default.createElement(R,{data:l,handelBtn:this.handelBtn,corpid:i,companyname:a,companycode:r}),!!l.nod_remark&&f.default.createElement(L,{data:l}),f.default.createElement(H,{data:l}),f.default.createElement(P,{bn:l.bn}),f.default.createElement(z,{data:l}),f.default.createElement("div",{className:"bottom-blank"}),40==l.status&&f.default.createElement(O,this.props))}}]),a}(),O=function(t){function a(){var t,r,o;w(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=N(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.sublogMsg=function(){var t=o.props,a=t.data,n=t.companyname,r=t.corpid,i=a.bn,l=e("#logiCode").val();E.default.request(u({},S.logistics,{data:{after_sale_bn:i,delivery:{corp_name:n,delivery_no:l,corp_id:r}}})).then(function(e){h.default.MsgTip({msg:"保存成功"}),setTimeout(function(){m.browserHistory.push("/afterSale/list")},1e3)}).catch(function(e){h.default.MsgTip({msg:"服务器繁忙"})})},N(o,r)}return C(a,p.Component),d(a,[{key:"render",value:function(){var e=this.props.btnFlag;return f.default.createElement("div",{className:"subLoginbtn"},f.default.createElement("button",{className:e?"btm-btn":"btm-btn  colour-btn",onClick:this.sublogMsg,disabled:e},"提交"))}}]),a}(),D=function(e){function t(){return w(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.extra,n=e.now;return f.default.createElement("div",{className:"afterstatus"},f.default.createElement("div",{className:"after-step"},k.asProcess[t]),f.default.createElement("div",{className:"after-remind"},k.asReminder[t]),40==t&&a&&f.default.createElement("div",{className:"remind-logic"},f.default.createElement(_.LogicBlock,{timeout:a.delivery_due,now:n}),f.default.createElement("span",null,"逾期未填写物流信息将自动关闭售后申请")))}}]),t}(),L=function(e){function t(){return w(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop.attr,a=e.nod_remark;return f.default.createElement("div",{className:"info-stroe"},f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",{className:"c-pr"},"商家留言",f.default.createElement(g.CustomerService,{className:"save",shopAttr:t},f.default.createElement("button",{className:"c-pa server"}))),f.default.createElement("div",{className:"text"},a)))}}]),t}(),P=function(e){function t(){return w(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.bn;return f.default.createElement("div",{className:"info-stroe"},f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",{className:"c-pr"},"协商记录",f.default.createElement(m.Link,{to:"/afterSale/consultrecord?oid="+e},f.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10",height:"15"})))))}}]),t}(),H=function(e){var t=e.data;return f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"售后信息"),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"售后单号："),f.default.createElement("div",{className:"right"},t.bn)),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"申请时间："),f.default.createElement("div",{className:"right"},t.created_at)),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"售后类型："),f.default.createElement("div",{className:"right"},k.asTypes[t.type])),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"退款金额："),f.default.createElement("div",{className:"right amount"},"¥",t.refund_amount?(+t.refund_amount).toFixed(2):(+t.apply_amount).toFixed(2))))},R=function(e){function t(){return w(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=(e.data,e.companyname),a=e.handelBtn;return f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货物流信息"),f.default.createElement("div",null,f.default.createElement("div",{className:"logic logic-company"},f.default.createElement("span",null,"物流公司："),f.default.createElement("input",{type:"text",placeholder:"请选择",maxLength:"20",defaultValue:t,disabled:!0}),f.default.createElement(m.Link,{to:"/afterSale/logicompany"},f.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10"}))),f.default.createElement("div",{className:"logic logic-order"},f.default.createElement("span",null,"物流单号："),f.default.createElement("input",{type:"text",id:"logiCode",placeholder:"请填写物流单号",onChange:function(){a()},maxLength:"20"}))))}}]),t}(),z=function(e){function t(e){w(this,t);var a=N(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showBigPicture=function(e){a.setState({imgSrc:e.target.src,bigShow:!0})},a.hideBigPicture=function(){a.setState({imgSrc:"",bigShow:!1})},a.state={imgSrc:"",bigShow:!1},a}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=[];return t.images&&(a=t.images),f.default.createElement("div",{className:"info-detail"},f.default.createElement("div",{className:"detail-explain"},f.default.createElement("h3",null,"问题描述"),f.default.createElement("div",{className:"text"},"退款原因 ：",t.reason),!!t.user_remark&&f.default.createElement("div",{className:"text"},"详细描述：",t.user_remark),t.images?f.default.createElement("div",{className:"img"},a.map(function(t,a){return f.default.createElement("img",{src:t,key:a,width:"75",height:"75",onClick:e.showBigPicture})})):""),a&&this.state.bigShow?f.default.createElement("div",null,f.default.createElement(g.Shady,{clickHandle:this.hideBigPicture}),f.default.createElement("div",{onClick:this.hideBigPicture,className:"big-picture"},f.default.createElement("img",{src:this.state.imgSrc}))):"")}}]),t}(),B=function(t){function a(){var t,r,o;w(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=N(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.copyConent=function(){var t=new y.default("#copy"),a=e("#copyname").text()+e("#copymobile").text()+e("#copyaddress").text();e("#copy").attr("data-clipboard-text",a);var n=0;t.on("success",function(){h.default.MsgTip({msg:"退货地址复制成功!"}),++n>=1&&(t.destroy(),t=new y.default("#copy"))}),t.on("error",function(){h.default.MsgTip({msg:"请长按进行复制"})})},N(o,r)}return C(a,p.Component),d(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.data.delivery,r=a.status;return f.default.createElement("div",{className:"info-block"},"仅退款"!==k.asTypes[a.type]&&n&&40==r&&f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货寄回信息",f.default.createElement("button",{className:"copy",id:"copy","data-clipboard-text":"复制内容",onTouchStart:function(){e.copyConent()}},"复制")),f.default.createElement("div",{className:"text"},f.default.createElement("p",null,"收货人：",f.default.createElement("span",{id:"copyname"},n.receiver.name)),f.default.createElement("p",null,"联系电话：",f.default.createElement("span",{id:"copymobile"},n.receiver.mobile)),f.default.createElement("p",null,"收货地址：",f.default.createElement("span",{id:"copyaddress"},n.receiver.address)))),20===a.type&&(50==a.status||20==a.status||30==a.status)&&n&&f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货物流信息"),f.default.createElement("div",{className:"text"},!!n.sender&&f.default.createElement("p",null,"物流公司：",n.sender.corp_name),!!n.sender&&f.default.createElement("p",null,"货运单号：",n.sender.delivery_no),!!n.created_at&&f.default.createElement("p",null,"退货时间：",n.created_at))))}}]),a}();t.default=(0,v.connect)(function(e,t){return u({companycode:e.logicompany.companycode,companyname:e.logicompany.companyname,corpid:e.logicompany.corpid},e.afterSaleDetail)},function(e,t){var a=t.location.query.oid;return{dispatch:e,resetData:function(){e(T("resetData"))},getData:function(){e(M("getData",u({},S.init,{params:{after_sale_bn:a}})))}}})(I)}).call(this,a("OOjC"))},fluX:function(e,t,a){"use strict";(function(e){var n=o(a("//Fk")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ownAjax=function(t,a){return new n.default(function(n,r){e.ajax({url:t.url,type:t.type,data:i({},a,{t:333}),success:function(e){n(e)},error:function(e){r(e)}})})}}).call(this,a("OOjC"))},fqXV:function(e,t,a){e.exports={tip:"_2bYf0W65mT5yfc3rBtGOgW",tipText:"yi32KRBgEHCVrfxL96qlk",active:"_31ZMfhFfdVunPwLFw2MDYh"}},fujM:function(e,t,a){},fw66:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBComp=t.ModalAComp=t.PopupTipBig=t.PopupTip=t.PopupModal=t.ModalTips=t.Modal=t.ItemFix=t.Fix=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=(a("Zfgq"),a("O27J")),h=E(m),g=a("zpSi"),v=a("d2xe");a("wNpY");var y=E(a("S8Mv"));function E(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var k={};function A(e,t){var a=document.createElement("div");document.body.appendChild(a);var r=h.default.render(f.default.createElement(w,{Transition:t}),a),o=10,i=1e3,l=function(t){function a(e){b(this,a);var t=_(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.id=++i,t.zIndex=e.zIndex||++o,t}return x(a,p.Component),d(a,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.renderModal(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.isOpen?this.renderModal(e):a.close(this.id)}},{key:"componentWillUnmount",value:function(){a.close(this.id)}},{key:"renderModal",value:function(t){r.addModal(u({id:this.id,zIndex:this.zIndex},t,{ModalType:e}))}},{key:"render",value:function(){return p.DOM.noscript()}}]),a}();return l.open=function(t){return r.addModal(u({id:++i,zIndex:++o},t,{ModalType:e})),i},l.close=function(e){r.removeModals(e)},l}k.Modal=function(e,t){var a=function(e){function a(e){b(this,a);var t=_(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.modalHide=function(){var e=t;t.setState({isOpen:!1}),setTimeout(function(){e.allHide()},200)},t.allHide=function(){var e=t.props.dom;e.parentNode.removeChild(e)},t.callback=function(e){t.modalHide(),e&&e()},t.state={isOpen:!1},t}return x(a,p.Component),d(a,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this;return f.default.createElement("div",null,f.default.createElement("div",{ref:"curtain",className:"curtain",onTouchTap:function(e){e.preventDefault()}}),f.default.createElement(y.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal",onTouchTap:function(e){e.preventDefault()}},f.default.createElement("div",{className:"modal-text"},f.default.createElement("span",null,this.props.msg)),f.default.createElement("div",{className:"modal-btn"},f.default.createElement("a",{href:"javascript:;",onTouchTap:function(t){e.modalHide()},className:"one-btn modal-cancel",ref:"cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("a",{href:"javascript:;",onTouchTap:function(a){e.callback(t)},className:"one-btn modal-sure",ref:"sure"},f.default.createElement("span",null,"确定")))):""))}}]),a}(),r=document.getElementById("modal");r||((r=document.createElement("div")).setAttribute("data-comp","modal"),r.setAttribute("id","modal"),document.body.appendChild(r)),(0,m.render)(f.default.createElement(a,u({},e,{dom:r})),document.getElementById("modal"))},k.MsgTip=function(e){var t=function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return x(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dom;this.setState({show:!0}),setTimeout(function(){e.setState({show:!1}),setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},2e3)},2e3)}},{key:"render",value:function(){return f.default.createElement(y.default,{"data-comp":"animate",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}(),a=document.createElement("div");a.setAttribute("data-comp","msg-tip"),a.setAttribute("id","msgTip"),document.body.appendChild(a),(0,m.render)(f.default.createElement(t,u({},e,{dom:a})),a)},t.default=k;var w=function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={modals:{},ids:[]},a.addMoal=a.addModal.bind(a),a.removeModal=a.removeModal.bind(a),a}return x(t,p.Component),d(t,[{key:"addModal",value:function(e){var t=this.state,a=t.modals,n=t.ids;a[e.id]=e,~n.indexOf(e.id)||n.push(e.id),this.setState({modals:a,ids:n}),this.updateHeight()}},{key:"removeModal",value:function(e){var t=this.state,a=t.modals,n=t.ids,r=n.indexOf(e),o=a[e];r<0||(o&&o.onClose&&o.onClose(),delete a[e],n.splice(r,1))}},{key:"removeModals",value:function(e){var t=this;(e?[e]:this.state.ids).forEach(function(e){t.removeModal(e)}),this.setState(this.state),this.updateHeight()}},{key:"updateHeight",value:function(){var e=this.state.ids.length,t=e?"hidden":"",a=e?"100%":"",n=e?"fixed":"";document.body.style.position=n,document.body.style.overflow=t,document.body.style.height=a}},{key:"renderModal",value:function(){var e=this,t=[];return this.state.ids.map(function(a,n){var r=e.state.modals[a],o=r.ModalType;t.push(f.default.createElement(o,u({},r,{key:a,onClose:e.removeModal})))}),t}},{key:"render",value:function(){var e="modalContainer "+(this.state.ids.length?"modalEnter":"modalLeave");return f.default.createElement(y.default,u({transitionName:"slide","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200},this.props.Transition,{component:"div",className:e}),this.renderModal())}}]),t}(),N=function(e){function t(){var e,a,r;b(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=_(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.closeHandle=function(){r.props.onClose(r.props.id)},_(r,a)}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this,t="modal "+(this.props.className||"");return f.default.createElement("div",{"data-comp":"modal",id:"modal"},f.default.createElement("div",{className:t},f.default.createElement("div",{className:"modal-text"},f.default.createElement("span",null,this.props.msg)),f.default.createElement("div",{className:"modal-btn"},f.default.createElement("a",{href:"javascript:;",onClick:this.closeHandle,className:"modal-cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("a",{href:"javascript:;",onClick:function(t){e.props.onSure(e.closeHandle)},className:"modal-sure"},f.default.createElement("span",null,"确定")))))}}]),t}(),C=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"closeHandle",value:function(){this.props.onClose(this.props.id)}},{key:"initHeader",value:function(){var e=this;return f.default.createElement("div",{className:"popModalHeader"},this.props.title,f.default.createElement("span",{className:"close-btn",onClick:function(t){return e.closeHandle(t)}},f.default.createElement("i",{className:"icon icon-close"})))}},{key:"initFooter",value:function(){var e=this,t=this.props.buttons,a=[];return(void 0===t?[]:t).map(function(t,n){a.push(f.default.createElement("a",{href:"javascript:;",onClick:function(){t.cb?t.cb()&&e.closeHandle():e.closeHandle()},className:"modal-btn "+t.className},f.default.createElement("span",null,t.text)))}),f.default.createElement("div",{className:"modal-footer"},a)}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.children,r=e.zIndex;return f.default.createElement("div",{className:"modal "+this.props.className,style:{zIndex:r}},this.initHeader(),f.default.createElement("div",{className:"popModalContent",style:{width:t||"100%",height:a||"50%"}},n),this.initFooter())}}]),t}(),S=(t.Fix=function(t){function a(){b(this,a);var e=_(this,(a.__proto__||(0,n.default)(a)).call(this));return e.state={},e}return x(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var t=this.refs.el,a=this.props.isFix,n=void 0!==a&&a;this.left=t.offsetLeft,e(t).height(e(t).height()),this.setState({isFix:n}),this.addEvent()}},{key:"addEvent",value:function(){var e=this;this.handle=function(t){var a=document.body.scrollTop>e.refs.el.offsetTop;a!==e.state.isFix&&e.setState({isFix:a})},window.addEventListener("scroll",this.handle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handle)}},{key:"render",value:function(){var e=this.state.isFix?{position:"fixed",top:0,width:"100%",borderBottom:"1px solid #f4f4f4",left:this.left}:{};return f.default.createElement("div",{ref:"el"},f.default.createElement("div",{style:e},this.props.children))}}]),a}(),t.ItemFix=function(t){function a(){b(this,a);var e=_(this,(a.__proto__||(0,n.default)(a)).call(this));return e.state={},e}return x(a,p.Component),d(a,[{key:"componentDidUpdate",value:function(){window.removeEventListener("scroll",this.handle),this.addEvent()}},{key:"componentDidMount",value:function(){var e=this.props.isFix,t=void 0!==e&&e;this.setState({isFix:t}),this.addEvent()}},{key:"addEvent",value:function(){var t=this,a=this.refs.el;this.pos=a.offsetTop-44,this.left=a.offsetLeft,this.handle=function(a){var n=e(window).scrollTop()>t.pos;n!==t.state.isFix&&t.setState({isFix:n})},window.addEventListener("scroll",this.handle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handle)}},{key:"render",value:function(){var e=this.state.isFix?{position:"fixed",top:"44px",width:"100%",borderBottom:"1px solid #f4f4f4",left:this.left,zIndex:"10"}:{};return f.default.createElement("div",{ref:"el"},f.default.createElement("div",{style:e},this.props.children),f.default.createElement("div",{style:this.state.isFix?{height:"46px"}:{height:0}}))}}]),a}(),t.Modal=A(C),t.ModalTips=A(N,{transitionName:"modal"}),function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.modalClose=function(){a.setState({isOpen:!1}),setTimeout(function(){a.props.onClose()},200)},a.modalSure=function(){a.modalClose(),a.props.onSure()},a.state={isOpen:!1},a}return x(t,p.Component),d(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){return f.default.createElement("div",{"data-comp":"modal",id:"modal"},f.default.createElement(v.Shady,{clickHandle:this.modalClose}),f.default.createElement(y.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal"},this.props.title&&f.default.createElement("div",{className:"modal-title"},"this.props.title"),f.default.createElement("div",{className:"modal-text",style:this.props.title?{fontSize:"13px",fontWeight:"normal"}:{}},this.props.msg),f.default.createElement("div",{className:"modal-btn c-fr"},f.default.createElement("div",{onClick:this.modalClose,className:"g-col-1 one-btn c-fl",ref:"cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("div",{onClick:this.modalSure,className:"g-col-1 one-btn c-fr",ref:"sure"},f.default.createElement("span",null,"确定")))):""))}}]),t}()),T=(t.PopupModal=(0,g.HOCPopup)(S),function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return x(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({show:!0}),e.showTime=window.setTimeout(function(){e.setState({show:!1}),e.handleTime=window.setTimeout(function(){e.props.onClose()},200)},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.showTime),clearInterval(this.handleTime)}},{key:"render",value:function(){return f.default.createElement(y.default,{"data-comp":"animate msg-tip",id:"msgTip",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}()),M=(t.PopupTip=(0,g.HOCPopup)(T),function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return x(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({show:!0}),e.showTime=window.setTimeout(function(){e.setState({show:!1}),e.handleTime=window.setTimeout(function(){e.props.onClose()},200)},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.showTime),clearInterval(this.handleTime)}},{key:"render",value:function(){return f.default.createElement(y.default,{"data-comp":"animate msg-tip",id:"msgTipBig",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}()),I=(t.PopupTipBig=(0,g.HOCPopup)(M),function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.btns,a=e.msg,n=e.title,r=t.map(function(e,t){return f.default.createElement("button",{key:t,className:"one-btn",onClick:function(t){e.cb()}},e.text)});return f.default.createElement("div",null,f.default.createElement(v.Shady,{options:{zIndex:105},clickHandle:t[0].cb}),f.default.createElement("div",{"data-comp":"modal",id:"modalA"},n&&f.default.createElement("div",{className:"top"},n),f.default.createElement("div",{className:"content",style:n?{fontSize:"13px",fontWeight:"normal"}:{}},a),f.default.createElement("div",{className:"btn-group"},r)))}}]),t}()),O=(t.ModalAComp=(0,g.HOCPopup)(I),function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.modalHide=function(e){a.setState({isOpen:!1}),setTimeout(function(){e&&e()},200)},a.state={isOpen:!1},a}return x(t,p.Component),d(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.btns,a=e.title,n=e.msg,r=t.map(function(e,t){return f.default.createElement("div",{key:t,className:"g-col-1 one-btn",onClick:function(t){e.cb()}},f.default.createElement("span",null,e.text))});return f.default.createElement("div",{"data-comp":"modal",id:"modalB"},f.default.createElement(v.Shady,{options:{zIndex:105}}),f.default.createElement(y.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal"},f.default.createElement("div",{className:"modal-title"},a),f.default.createElement("div",{className:"modal-text"},n),f.default.createElement("div",{className:"btn-group g-row-flex"},r)):""))}}]),t}());t.ModalBComp=(0,g.HOCPopup)(O)}).call(this,a("OOjC"))},fzRm:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={load:!0,promotionId:"",shopId:"",list:{data:"",page:1,total:1},rule:"",cart:"",prompt:{show:!1,msg:""},itemData:{},modalCtrl:{show:!1},promptBig:{show:!1,msg:""},countCart:0,isNonPayment:!1};function d(e,t){var a=t[0].data.data.promotion[0].item_id,r=i({},e.itemData),o={data:t[0].data.data,specs:t[0].data.data.specs,promotion:t[0].data.data.promotion,itemRules:t[0].data.data.promotion.itemRules||{},active:"cart",itemId:a},l={nowSku:{},newData:function(e){var t=e.info.skus;return(0,n.default)(t).map(function(e,a){return{ids:e.split("_"),skus:t[e]}})}(t[0].data.data),selectArr:[],specKey:[],storeNum:t[0].data.data.store.real,nowPrice:function(e){var t=e.info.skus,a=[],n=void 0;for(var r in t)a.push(parseFloat(t[r].price.toFixed(2)));return a.length>1?(a=a.sort(function(e,t){return e-t}),n=e.itemRules?a[0]:a[0]+"-"+a[a.length-1]):n=a[0],n}(t[0].data.data),num:1,weight:e.weight,itemId:a,active:"cart"},s=t[0].data.data,c=t[1].data.data;r=o;var u=function(e){if(e.itemRules){var t=e.itemRules,a=t.real_store,n=t.item_sales,r=t.sales_count;if(!a)return n!==r}}(s);return i({},e,{data:c,itemData:r,promotion:s,retState:l,modalCtrl:{show:!0},modalLoading:!1,isNonPayment:u})}t.default=(0,l.default)("minusActivity",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return i({},u,t.query);case"getDataSuccess":return function(e,t){var a=s.default.fromJS(e),n=t[0].data,r=t[1].data;return a=a.set("load",!1),n.status&&r.status&&n.data?(a=(a=a.set("list",{data:n.data.items,page:n.data.page,total:Math.ceil(n.data.count/20)})).set("rule",r.data)).toJS():a.toJS()}(e,t.result);case"getShopSuccess":return function(e,t){return t.status?i({},e,{cart:t.data}):e}(e,t.result);case"concatDataSuccess":return function(e,t){var a=s.default.fromJS(e);return(a=(a=(a=a.updateIn(["list","data"],function(e){return e.concat(t.data.items)})).setIn(["list","page"],t.data.page)).setIn(["list","total"],Math.ceil(t.data.count/20))).toJS()}(e,t.result);case"promptCtrl":return i({},e,{prompt:t.prompt});case"promptBigCtrl":return i({},e,{promptBig:t.prompt});case"getChannelItemLoad":return i({},e,{modalLoading:!0});case"getChannelItemSuccess":return d(e,t.result);case"modalCtrl":return i({},e,{modalCtrl:t});case"initState":return i({},e,{retState:t.ret});case"updateCartInfo":return i({},e,{countCart:t.cart_num});case"getCartCountSuccess":return function(e,t){var a=t.cart_num;return(0,r.default)({},i({},e),{countCart:a})}(e,t.result);default:return e}},u)},hd3S:function(e,t,a){"use strict";(function(e){var n,r,o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.groupCheckaxios=t.OneItemCtrl=t.ShoporderStatus=t.OrderNumStatus=t.default=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=C(m),g=a("Zfgq");a("34C2");var v=a("d2xe"),y=a("4n+p"),E=C(a("fw66")),b=C(a("qAHI")),_=C(a("TQvf")),x=a("f2Hk"),k=a("2uFj"),A=(a("qeJi"),a("f2t5")),w=a("NUeF"),N=a("8FWJ");function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}a("w9wd");var I={init:{url:k.MALLAPI+"/user/order/info",method:"get"},shopinit:{url:k.MALLAPI+"/user/shopOrder/info",method:"get"},del:{url:k.MALLAPI+"/user/shopOrder/discard",method:"post"},conf:{url:k.MALLAPI+"/user/shopOrder/confirmReceived",method:"post"},GroupBuy:{url:k.MALLAPI+"/promotion/checkGroupBuy",method:"post"},cashier:{url:k.MALLAPI+"/payment/intentions",method:"get"}},O={1:"普通发票",2:"增值税发票",3:"电子发票"},D={1:"明细"},L=(0,x.concatPageAndType)("tradeDetail"),P=function(t){function a(){return S(this,a),T(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return M(a,m.Component),f(a,[{key:"componentWillMount",value:function(){document.title="订单详情",window.location.href="jsbridge://set_title?title=订单详情"}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("#modal");e&&e.parentNode&&e.parentNode.removeChild(e);var t=document.querySelector("#msgTip");t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"componentDidMount",value:function(){var e=new _.default(".copy");e.on("success",function(e){E.default.MsgTip({msg:"订单编号复制成功!"})}),e.on("error",function(e){E.default.MsgTip({msg:"请长按订单编号进行复制"})})}},{key:"render",value:function(){return h.default.createElement("div",{"data-page":"trade-detail",style:{minHeight:e(window).height()}},h.default.createElement(R,p({tid:this.props.location.query.tid,orderflag:this.props.location.query.orderflag},this.props)))}}]),a}();t.default=P;var H=(r=n=function(e){function t(){var e,a,n;S(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.onPayPopup=function(e){n.props.dispatch(L("payPopup",{status:e}))},T(n,a)}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){var e=this.context.store;e.dispatch(L("getInitData")),"1"===this.props.orderflag?b.default.request(p({},I.init,{params:{no:this.props.tid}})).then(function(t){0===t.data.code&&e.dispatch(L("sucInitData",{data:t.data.data}))}).catch(function(t){console.log(t),e.dispatch(L("failInitData",{msg:"网络发生问题，请稍后再试"}))}):"2"===this.props.orderflag&&b.default.request(p({},I.shopinit,{params:{no:this.props.tid}})).then(function(t){0===t.data.code&&e.dispatch(L("sucInitData",{data:t.data.data}))}).catch(function(t){console.log(t),e.dispatch(L("failInitData",{msg:"网络发生问题，请稍后再试"}))})}},{key:"componentWillUpdate",value:function(e){if(e.error)return E.default.MsgTip({msg:e.msg}),!1}},{key:"componentWillUnmount",value:function(){this.props.dispatch(L("initialPage"))}},{key:"render",value:function(){var e=this.props,t=e.cancelOrderPoup,a=e.PopupCancelMsg,n=e.changeReason,r=e.cancel_reason,o=e.dispatch,i=e.reminderKnow,l=this.props,s=l.update,c=l.data,u=l.orderflag,d=l.tid;return h.default.createElement("div",null,s&&c?h.default.createElement("div",null,"1"===u?c instanceof Array?h.default.createElement(v.NoMoreOrderInfo,null):h.default.createElement("div",null,h.default.createElement("section",{id:"tradeDetail"},h.default.createElement(j,{created_at:c.created_at,timeout:c.timeout_action_at,orderNum:c.no,status:c.status,cancel_reason:10===c.cancel_from?c.cancel_reason:w.orderClosereason[c.cancel_from]}),"TR_WRD"!==c.platform_from&&"catering"!==c.platform_from&&h.default.createElement(U,{data:c.receiver}),h.default.createElement(J,{data:c.order_shops,orderflag:u,platform:c.platform_from}),h.default.createElement(Y,{data:c}),h.default.createElement(X,{data:c}),h.default.createElement($,{data:c,orderflag:u}),h.default.createElement(ee,{data:c}),h.default.createElement(ie,{status:c.status,order_shops:c.order_shops,isWrd:c.platform_from,buyType:c.pay_type,tid:c.no,payPopup:this.onPayPopup,isGroupBuy:c.isGroupBuy,pay_status:c.pay_status,cancelOrderPoup:t,PopupCancelMsg:a,cancel_reason:r})),h.default.createElement(N.PopupCancelDetail,{PopupCancelMsg:a,cancelOrderPoup:t,webcancelFrom:"tradeDetail",changeReason:n,cancel_reason:r,tid:d,dispatch:o,createActions:L})):"2"===u?c instanceof Array?h.default.createElement(v.NoMoreOrderInfo,null):h.default.createElement("div",null,h.default.createElement("section",{id:"tradeDetail"},c.group_buy_info&&!(c.group_buy_info instanceof Array)&&h.default.createElement(B,{info:c.group_buy_info,status:c.status}),h.default.createElement(F,{created_at:c.created_at,orderNum:c.no,consign_status:c.consign_status,status:c.status,timeout_received_at:c.timeout_received_at,cancel_reason:10===c.cancel_from?c.cancel_reason:w.orderClosereason[c.cancel_from]}),"TR_WRD"!==c.order.platform_from&&"catering"!==c.order.platform_from&&h.default.createElement(U,{data:c.order.receiver}),h.default.createElement(Q,{data:c,orderflag:u,payPopupMsg:this.props.payPopupMsg,platform:c.order.platform_from,payPopup:this.onPayPopup,reminderKnow:i}),h.default.createElement(Y,{data:c.order}),h.default.createElement(X,{data:c.order}),h.default.createElement($,{data:c,orderflag:u}),h.default.createElement(ee,{data:c}),h.default.createElement(ie,{status:c.status,isWrd:c.order.platform_from,buyType:c.order.pay_type,tid:c.no,payPopup:this.onPayPopup,order_goods:c.order_goods,consign_status:c.consign_status,consigned_at:c.consigned_at})),h.default.createElement(te,{payPopupMsg:this.props.payPopupMsg,payPopup:this.onPayPopup,payType:c.order.pay_type})):null):h.default.createElement(v.LoadingRound,null))}}]),t}(),n.contextTypes={store:h.default.PropTypes.object},r);var R=(0,y.connect)(function(e,t){var a=e.tradeDetail;return{data:a.initData,error:a.error,update:a.update,msg:a.errorMsg,payPopupMsg:a.payPopupMsg,PopupCancelMsg:a.PopupCancelMsg,cancel_reason:a.cancel_reason}},function(e,t){return t.location.query.tid,t.location.query.orderflag,{dispatch:e,cancelOrderPoup:function(t){e(L("cancelPopup",{status:t}))},changeReason:function(t){e(L("changeReason",{reason:t}))},reminderKnow:function(t,a){e(L("ctrlModalapply",{modalAS:{status:t,msg:a}}))}}})(H),z=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.intervalgrouptimer=function(){a.grouptimer=setInterval(function(){var e=--a.state.time;e<0?(window.clearInterval(a.grouptimer),a.setState({time:0})):(a.state.time=e,a.setState(a.state))},1e3)};var n=void 0;return a.props.timeout?(n=Date.parse(new Date(a.props.timeout.replace(/-/g,"/")))/1e3-parseInt((new Date).getTime()/1e3),a.state={time:n}):a.state={time:0},a}return M(t,m.Component),f(t,[{key:"componentWillUnmount",value:function(){window.clearInterval(this.grouptimer)}},{key:"formatTime",value:function(e){return A.dateUtil.formatNum(parseInt(e))}},{key:"componentDidMount",value:function(){this.state.time>0&&this.intervalgrouptimer()}},{key:"render",value:function(){var e=this.state.time;return h.default.createElement("i",null,"还剩",h.default.createElement("i",null,""+this.formatTime(e/3600)=="00"?"":""+this.formatTime(e/3600),"时"),h.default.createElement("i",null,this.formatTime(e%3600/60),"分"),h.default.createElement("i",null,this.formatTime(e%60),"秒拼团结束"))}}]),t}(),B=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.info,a=void 0===t?{}:t,n=e.status,r=a.object,o=void 0===r?{}:r,i=a.object_id,l=void 0===i?0:i,s=o.required_person,c=void 0===s?0:s,u=o.current_person,d=void 0===u?0:u,p=o.group_status,f={},m="";switch(void 0===p?"":p){case 2:n<=25?(m=h.default.createElement("img",{src:"src/img/icon/trcSuccessful2.png",style:{width:"60px"},alt:""}),f={position:"absolute",top:0,right:"20px"}):(m="",f={position:"absolute"});break;case 1:20==n?(m=h.default.createElement("div",null,h.default.createElement("div",{className:"trcBubble"},h.default.createElement("img",{src:"src/img/icon/trcBubble.png",style:{width:"95%"},alt:""}),h.default.createElement("div",{className:"object-info"},h.default.createElement("div",{className:"object-person"},h.default.createElement("img",{src:"src/img/icon/trcOngoing.png"}),h.default.createElement("span",{className:"person-info"},h.default.createElement("p",{style:{paddingRight:"20px"}},"拼团中"),!!c&&!!d&&h.default.createElement("p",null,"拼团还差",c-d,"人"))),h.default.createElement("div",{className:"object-time "},h.default.createElement(z,{timeout:a.object.expire_time})))),h.default.createElement("div",{className:"invite-container"},h.default.createElement(g.Link,{className:"invite-friends",key:"1",to:"/groupDetail?object_id="+l},"邀请好友参团"))),f={position:"fixed",bottom:"55px",right:"5px"}):(m="",f={position:"absolute"});break;case 0:m=h.default.createElement("img",{src:"src/img/icon/trcFailure2.png",style:{width:"60px"},alt:""}),f={position:"absolute",top:0,right:"20px"};break;default:m="",f={position:"absolute"}}return h.default.createElement("div",{className:"fight-group-status c-tc c-cfff",style:f},m)}}]),t}(),j=t.OrderNumStatus=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.intervalTime=function(){a.timer=setInterval(function(){var e=--a.state.time;e<0?(window.clearInterval(a.timer),a.setState({time:0})):(a.state.time=e,a.setState(a.state))},1e3)};var n=Date.parse(new Date(a.props.timeout.replace(/-/g,"/")))/1e3-parseInt((new Date).getTime()/1e3);return a.state=n<=0?{time:0}:{time:n},a}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){var e=this.state.time;"等待付款"===w.ordermainStatusAndIconMap[this.props.status].status&&e>0&&this.intervalTime()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer)}},{key:"formatTime",value:function(e){return A.dateUtil.formatNum(parseInt(e))}},{key:"render",value:function(){var e=this.props,t=e.status,a=e.cancel_reason,n=this.state.time,r="交易关闭"===w.ordermainStatusAndIconMap[t].status?{display:"inline-block",marginTop:"14px",lineHeight:"18px"}:{};return h.default.createElement("div",{className:"status-info"},h.default.createElement("img",{src:w.ordermainStatusAndIconMap[t].icon}),h.default.createElement("span",{className:"c-cfff c-ml25",style:r},w.ordermainStatusAndIconMap[t].status,"交易关闭"===w.ordermainStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-cfff c-fs11 c-dpb"},"取消原因：",a),"等待付款"===w.ordermainStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-fr c-fs12"},"剩余支付时间",h.default.createElement("i",null,this.formatTime(n/3600)),":",h.default.createElement("i",null,this.formatTime(n%3600/60)),":",h.default.createElement("i",null,this.formatTime(n%60)))))}}]),t}(),F=t.ShoporderStatus=function(e){function t(e){S(this,t);var a=T(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.intervalreTime=function(){a.retimer=setInterval(function(){var e=--a.state.retime;e<0?(window.clearInterval(a.retimer),a.setState({retime:0})):(a.state.retime=e,a.setState(a.state))},3e4)};var n=void 0;return a.props.timeout_received_at?(n=parseInt(new Date(a.props.timeout_received_at.replace(/-/g,"/")).getTime()/1e3)-parseInt((new Date).getTime()/1e3),a.state=n>0?{retime:n}:{retime:0}):a.state={retime:0},a}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){var e=this.state.retime;"已发货"===w.ordersubStatusAndIconMap[this.props.status].status&&e>0&&this.intervalreTime()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.retimer)}},{key:"formatTime",value:function(e){return A.dateUtil.formatNum(parseInt(e))}},{key:"render",value:function(){var e=this.props,t=e.status,a=e.cancel_reason,n=e.consign_status,r=this.state.retime,o="交易关闭"===w.ordersubStatusAndIconMap[t].status?{display:"inline-block",marginTop:"14px",lineHeight:"18px"}:{};return h.default.createElement("div",{className:"status-info"},h.default.createElement("img",{src:w.ordersubStatusAndIconMap[t].icon}),h.default.createElement("span",{className:"c-cfff c-ml25",style:o},40==t?w.confimStatus[n]:w.ordersubStatusAndIconMap[t].status,"交易关闭"===w.ordersubStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-cfff c-fs11 c-dpb"},"取消原因：",a),"已发货"===w.ordersubStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-fr c-fs12"},"还剩",h.default.createElement("i",null,this.formatTime(r/3600/24)),"天",h.default.createElement("i",null,this.formatTime(r/3600%24)),"时",h.default.createElement("i",null,"自动确认收货"))))}}]),t}(),U=function(e){var t=e.data;return h.default.createElement("div",{className:"address-info-grid"},h.default.createElement("div",{className:"address-info"},h.default.createElement(q,{data:t.address}),h.default.createElement(Z,{data:t.address}),t.idCard.id_number&&h.default.createElement(G,{data:t})))},q=function(e){var t=e.data;return h.default.createElement("div",{className:"receive-person g-row-flex"},h.default.createElement("div",{className:"left"},h.default.createElement("i",{className:"location-address-icon"}," ")),h.default.createElement("div",{className:"right"},t.name," ",t.mobile))},Z=function(e){var t=e.data;return h.default.createElement("div",{className:"receive-addr"},h.default.createElement("div",{className:"address-text g-col-1"},t.state,t.city,t.district,t.address))},G=function(e){var t=e.data.idCard.id_number.toString();return h.default.createElement("div",{className:"receiver-id-grid"},h.default.createElement("div",{className:"receiver-id g-row-flex"},h.default.createElement("div",{className:"left"},h.default.createElement("i",{className:"identify-card-icon",style:{marginTop:"15px",display:"block"}}," ")),h.default.createElement("div",{className:"receiver-id-text g-col-1"},"身份证信息：",(0,A.handleId)(t))))},J=function(e){var t=e.data.map(function(t,a){return h.default.createElement(Q,p({},e,{data:t,key:a}))});return h.default.createElement("div",null,t)},Q=function(e){function t(){var e,a,n;S(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.changeOpen=function(){n.setState({isOpen:!n.state.isOpen})},T(n,a)}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.data.shop_info,r=n.id,o=n.is_open,i=n.name,l=n.alias,s=n.shop_icon,c=n.attr,u=a.order_goods.map(function(t,n){return h.default.createElement(V,p({},e.props,{data:t,key:n,outdata:a}))}),d=u.slice(0,2),f=this.state.isOpen;return h.default.createElement("div",{className:"shop"},h.default.createElement("div",{className:"shop-top"},h.default.createElement("div",{className:"shop-name"},(0,w.storeIcon)(s),h.default.createElement("a",{className:"shop-long",href:1===o?"/store/home?shop="+r:"javascript:void(0)"},l||i)),h.default.createElement("div",{className:"arrow-right"},1===o&&h.default.createElement("a",{href:1===o?"/store/home?shop="+r:"javascript:void(0)"},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png"}))),h.default.createElement(v.CustomerService,{className:"server",shopAttr:c})),h.default.createElement("div",{className:"order-detail-mid"},u.length>1e3&&!f?d:u,u.length>1e3&&h.default.createElement("div",{onClick:this.changeOpen,className:"c-tc c-fs12",style:{color:"#808080",lineHeight:"22px"}},f?"":"还有"+(u.length-2)+"件",h.default.createElement("img",{style:{width:"17px",marginLeft:"5px"},src:"src/img/afterSale/"+(f?"close":"open")+".png"}))),a.buyer_message&&h.default.createElement("div",{className:"buyer-message"},"留言：",a.buyer_message))}}]),t}(),V=function(e){return h.default.createElement("div",{className:"item-list"},h.default.createElement("div",{className:"one-item"},h.default.createElement(K,{outdata:e.outdata,payPopup:e.payPopup,payPopupMsg:e.payPopupMsg,data:e.data,orderflag:e.orderflag,platform:e.platform,reminderKnow:e.reminderKnow})))},K=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.platform,r=(e.outdata,e.orderflag),o=(e.payPopup,e.reminderKnow,t.isExchange),i=t.isGift,l=t.isGroupBuy,s="TR_WRD"!==n&&"catering"!==n;return h.default.createElement("div",null,h.default.createElement("div",{className:"item-info g-row-flex"},h.default.createElement("a",{href:s?k.RNDomain+"/item?item_id="+t.item_id:"javascript:;",className:"item-img c-dpb"},h.default.createElement("img",{src:t.primary_image?(0,A.addImageSuffix)(t.primary_image,"_s"):a("VM8K"),width:"75",height:"75"})),h.default.createElement("div",{className:"item-info g-col-1"},h.default.createElement("div",{className:"info-top g-row-flex"},h.default.createElement("div",{className:"info-text g-col-1"},h.default.createElement("div",{className:"info-title"},h.default.createElement("a",{href:s?k.RNDomain+"/item?item_id="+t.item_id:"javascript:;"},t.title)),h.default.createElement("div",{className:"info-props"},t.spec_nature_info),h.default.createElement("div",{className:"info-price"},h.default.createElement("span",{className:"left"},"¥",Number(t.price).toFixed(2)),h.default.createElement("span",{className:"right"},"×",t.num)),h.default.createElement("div",{className:"tag-container"},o&&h.default.createElement("span",{className:"label deepred-label"},"换购"),i&&h.default.createElement("span",{className:"label deepred-label"},"赠品"),l&&h.default.createElement("span",{className:"label deepred-label"},"拼团"),!(i||!t.is_free_refund||1!==t.is_free_refund)&&h.default.createElement("span",{className:"label violet-label"},"7天可退")))))),2==r&&h.default.createElement(W,this.props))}}]),t}(),W=t.OneItemCtrl=function(e){function t(){var e,a,n;S(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.btnOrlink=function(){var e=n.props,t=e.data,a=e.outdata,r=e.reminderKnow,o=t.showAfterSaleTimeOutMsg,i=t.showGtAfterSaleCountMsg;o?r(!0,"商品无法申请售后，可能已经超过售后保障期"):i?r(!0,"最多可以发起3次售后申请"):g.browserHistory.push("/afterSale/apply?tid="+t.no+"&refund="+("待发货"===w.ordersubStatusAndIconMap[a.status].status?1:0))},n.afterStatus=function(){var e=void 0,t=n.props.data;switch(t.afterSaleStatus){case 10:case 40:case 50:t.canAfterSale&&t.afterSaleInfo&&(e=h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+t.afterSaleInfo.bn,className:"btn"},"售后中"));break;case 20:case 30:t.afterSaleInfo&&(e=h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+t.afterSaleInfo.bn,className:"btn"},"售后完成"));break;default:t.canAfterSale&&(e=h.default.createElement("a",{className:"btn",onClick:n.btnOrlink},"申请售后"))}return e},T(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.payPopup,n=e.payPopupMsg,r=e.outdata,o=t.isGift;return h.default.createElement("div",{className:"one-item-ctrl"},t.isGroupBuy&&30!=r.status&&h.default.createElement(g.Link,{to:"/groupDetail?object_id="+r.group_buy_info.object_id,className:"btn"},"查看团详情"),r.status>=20&&30!=r.status&&!o&&h.default.createElement("div",{className:"btn",onClick:function(){a({show:!n.show,Msg:t})}},"支付信息"),this.afterStatus())}}]),t}(),Y=function(e){var t=e.data;return h.default.createElement("div",{className:"user-info order-list"},h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"支付方式"),h.default.createElement("div",{className:"right"},w.payType[t.pay_type])),h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"配送方式"),h.default.createElement("div",{className:"right"},w.dispatchDelivery[t.shipping_type])))},X=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.is_need_invoice,a=e.invoice;return h.default.createElement("div",{className:"user-info order-list"},t?h.default.createElement("div",null,h.default.createElement("div",{className:"list",key:"invoiceType"},h.default.createElement("div",{className:"left"},"发票类型"),h.default.createElement("div",{className:"right"},O[a.type])),(1==a.type||3==a.type)&&h.default.createElement("div",{className:"list",key:"invoice_header"},h.default.createElement("div",{className:"left"},"发票抬头"),h.default.createElement("div",{className:"right"},a.title)),(1==a.type||3==a.type)&&h.default.createElement("div",{className:"list",key:"contentOption"},h.default.createElement("div",{className:"left"},"发票内容"),h.default.createElement("div",{className:"right"},D[a.info.content_option])),3==a.type&&h.default.createElement("div",{className:"list",key:"invoiceEmail"},a.info.receiver_email&&h.default.createElement("div",{className:"left"},"收票人邮箱"),a.info.receiver_email&&h.default.createElement("div",{className:"right"},a.info.receiver_email)),2==a.type&&h.default.createElement("div",{className:"list",key:"invoiceUnitname"},a.unit_name&&h.default.createElement("div",{className:"left"},"单位名称"),a.unit_name&&h.default.createElement("div",{className:"right"},a.unit_name)),2==a.type&&h.default.createElement("div",{className:"list",key:"invoiceAddress"},a.info.receiver_address&&h.default.createElement("div",{className:"left"},"收票地址"),a.info.receiver_address&&h.default.createElement("div",{className:"right"},a.info.receiver_address))):h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"发票信息"),h.default.createElement("div",{className:"right"},"不开发票")))}}]),t}(),$=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.orderflag,n=t.discount_summary,r=t.post_fee,o=t.total_fee,i=t.tax_fee,l=void 0===i?0:i,s=t.payment,c=n.promotion,u=void 0===c?0:c,d=n.coupon,p=void 0===d?0:d,f=n.hb,m=void 0===f?0:f,g=!0;return g=1==a?"TR_WRD"!==t.platform_from&&"catering"!==t.platform_from:"TR_WRD"!==t.order.platform_from&&"catering"!==t.order.platform_from,h.default.createElement("div",{className:"order-list"},h.default.createElement("div",{className:"total-list"},h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"商品总额"),h.default.createElement("div",{className:"right"},"¥",(+o).toFixed(2))),u>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"促销优惠"),h.default.createElement("div",{className:"right"},"- ¥",(+u).toFixed(2))),g&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"运费"),h.default.createElement("div",{className:"right"}," ¥",(+r).toFixed(2))),l>0&&g&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"税费"),h.default.createElement("div",{className:"right"}," ¥",(+l).toFixed(2))),p>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"优惠券抵扣"),h.default.createElement("div",{className:"right"},"- ¥",(+p).toFixed(2))),m>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"红包抵扣"),h.default.createElement("div",{className:"right"},"- ¥",(+m).toFixed(2))),h.default.createElement("div",{className:"total-pay"},h.default.createElement("span",{className:"payleft"},"订单总价  "),h.default.createElement("span",{className:"payright"},"¥",(+s).toFixed(2)))))}}]),t}(),ee=function(e){var t=e.data;return h.default.createElement("div",{className:"order-list"},h.default.createElement("div",{className:"total-price"},h.default.createElement("div",{className:"time"},"订单编号：",h.default.createElement("textarea",{id:"copyText",defaultValue:t.no,readOnly:!0}),h.default.createElement("button",{className:"copy","data-clipboard-target":"#copyText"},"复制")),h.default.createElement("div",{className:"time"},"下单时间：",t.created_at),t.payed_at&&h.default.createElement("div",{className:"time"},"付款时间：",t.payed_at),t.consigned_at&&h.default.createElement("div",{className:"time"},"发货时间：",t.consigned_at),(30===t.status||31===t.status)&&t.end_at&&h.default.createElement("div",{className:"time"},"取消时间：",t.end_at)))},te=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.payPopupMsg,a=e.payPopup,n=e.payType,r={EcardRecharge:"充值e卡",EcardActivity:"活动e卡",Alipay:"支付宝",Weixin:"微信",Loan:"口袋钱包"};return h.default.createElement("div",{onClick:function(){a({show:!1})}},t.show&&h.default.createElement(v.Shady,null),h.default.createElement("div",{className:"popup-total "+(t.show?"active":""),onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"popup-top"},h.default.createElement("span",null,"支付分摊明细"),h.default.createElement("i",{className:"close-nobg-icon",onClick:function(){a({show:!1})}})),t.Msg&&h.default.createElement("div",{className:"list-grid"},t.Msg.payments.length?10===n?t.Msg.payments.map(function(e,t){return h.default.createElement("div",{className:"list g-row-flex",key:t},h.default.createElement("div",{className:"left"},r[e.biz]),h.default.createElement("div",{className:"right g-col-1"},"¥",parseFloat(e.amount).toFixed(2)))}):h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"left"},"线下支付"),h.default.createElement("div",{className:"right g-col-1"},"¥",parseFloat(t.Msg.payment).toFixed(2))):h.default.createElement(ae,null))))}}]),t}(),ae=function(){return h.default.createElement("div",{className:"c-tc",style:{padding:"43px 0 55px"}},h.default.createElement("img",{src:a("OANb"),width:"58",height:"54"}),h.default.createElement("p",{className:"c-cc9 c-fs12 c-mt15"},"暂无支付分摊明细"))},ne=t.groupCheckaxios=function(e){var t=e.promotion_id,a=e.tid,n=e.object_id,r=e.isGroupBuy;b.default.request(p({},I.GroupBuy,{data:{promotion_id:t,object_id:n||0,order_no:a}})).then(function(e){e.data.data.status&&g.browserHistory.push("/cashier?oid="+a+"&from=list&zeroBuy=1&isGroupBuy="+r+"&promotionId="+t)}).catch(function(e){console.log(e),E.default.MsgTip({msg:e.response.data.message})})},re=function(e){function t(){return S(this,t),T(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,n=t.tid,r=t.buyType,o=t.isWrd,i=t.isGroupBuy,l=void 0!==i&&i,s=t.order_shops,c=t.pay_status,u=t.order_goods,d=void 0===u?[]:u,p=t.cancelOrderPoup,f=t.PopupCancelMsg,m=t.consign_status,v=t.consigned_at,y="TR_WRD"!==o&&"catering"!==o,E=20==m,b=null!=v,_="",x=0;l&&s[0].order_goods[0].promotions.map(function(e,t){"GroupBuy"===e.extra.type&&(x=e.extra.promotion_id)});var k={isGroupBuy:l,promotion_id:x,tid:n},A=d.some(function(e){return"售后中"===w.afterstatusDeal[e.afterSaleStatus]});switch(a){case 10:_=[2!==c&&h.default.createElement(g.Link,{className:"ctrl-block cancel-order",key:"1",onClick:function(){p({show:!f.show,Msg:n})}},"取消订单"),2!==c&&h.default.createElement("a",{className:"ctrl-red pay-order",key:"3",onTouchTap:function(){e.props.checkGroupBuy(k)}},20===r?"线下公司转账":"立即支付")];break;case 40:_=[y&&h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"1",to:"/logistics?tid="+n},"查看物流"),h.default.createElement("a",{className:"ctrl-red pay-order",key:"2",onTouchTap:function(){e.props.onConf(E,A)},href:"javascript:;"},"确认收货")];break;case 50:_=[h.default.createElement("a",{className:"ctrl-block",key:"9",onClick:this.props.onDelete},"删除订单"),y&&h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"2",to:"/logistics?tid="+n},"查看物流"),h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"31",to:"/evaluateInput?tid="+n},"评价晒单")];break;case 60:_=[y&&h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"2",to:"/logistics?tid="+n},"查看物流"),h.default.createElement("a",{className:"ctrl-block",key:"3",onClick:this.props.onDelete},"删除订单")];break;case 30:case 31:_=[h.default.createElement("a",{className:"ctrl-block",key:"40",onClick:this.props.onDelete},"删除订单"),y&&b&&h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"41",to:"/logistics?tid="+n},"查看物流")]}return h.default.createElement("div",{className:"order-ctrl c-tr"},_)}}]),t}(),oe=!1,ie=(0,y.connect)(function(e,t){return p({},e.tradeDetail)},function(e,t){return{dispatch:e,checkGroupBuy:function(e){var t=e.isGroupBuy,a=e.promotion_id,n=e.tid;t?ne(e):g.browserHistory.push("/cashier?oid="+n+"&from=list&zeroBuy=1&isGroupBuy="+t+"&promotionId="+a)},onDelete:function(){E.default.Modal({isOpen:!0,msg:"是否要删除订单？删除后，您可在泰然城官网的订单回收站恢复"},function(){oe||(oe=!0,b.default.request(p({},I.del,{params:{no:t.tid}})).then(function(e){oe=!1,E.default.MsgTip({msg:"删除成功"}),window.setTimeout(function(){window.location.href=k.RNDomain+"/tradeList/0"},1e3)}).catch(function(e){oe=!1,E.default.MsgTip({msg:e.response.data.message||"网络错误，删除失败"}),console.log(e)}))})},onConf:function(e,a){E.default.Modal({isOpen:!0,msg:e?"订单存在未发货的商品，是否要确认收货？":a?"订单存在售后中的商品，是否确认收货？":"是否要确认收货？"},function(){oe||(oe=!0,b.default.request(p({},I.conf,{params:{no:t.tid}})).then(function(e){oe=!1,E.default.MsgTip({msg:"确认收货成功"}),location.reload()}))})}}})(re)}).call(this,a("OOjC"))},iAP0:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={update:!1,initData:"",error:!1,errorMsg:"",cancel_reason:"",other_reason:""};t.default=(0,l.default)("orderCancel",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initialPage":return s;case"getInitData":return(0,o.default)({},e,{update:!1});case"sucInitData":return console.log("action.data",t.data),i({},e,{update:!0,initData:t.data});case"failInitData":return(0,o.default)({},e,{error:!0,errorMsg:t.msg});case"changeReason":return(0,o.default)({},e,{cancel_reason:t.reason,other_reason:"other"==t.reason?e.other_reason:""});case"otherReasonChange":return(0,o.default)({},e,{other_reason:t.value});default:return e}},s)},iLpm:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=(c(a("BYKG")),a("Zfgq"));function c(e){return e&&e.__esModule?e:{default:e}}var u={keyWord:"",param:{},searchHistory:[],hotList:[],compList:[],prompt:{show:!1,msg:""}},d={brand:{text:"进入品牌",url:function(e,t){s.browserHistory.push("/searchResult?brand="+e)}},country_property:{text:"进入国家",url:function(e,t){s.browserHistory.push("/searchResult?property="+e)}},primary_category:{text:"进入分类",url:function(e,t){window.location="trmall://category?catId="+e}},secondary_category:{text:"进入分类",url:function(e,t){window.location="trmall://category?catId="+e.first+"&subId="+e.second}},tertiary_category:{text:"进入分类",url:function(e,t){s.browserHistory.push("/searchResult?category="+e)}}};t.default=(0,l.default)("searchIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"keyCtrl":return i({},e,{keyWord:t.key});case"paramCtrl":return i({},e,{param:t.param});case"listCtrl":return i({},e,{compList:t.list});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"historyCtrl":return i({},e,{searchHistory:t.history});case"initPlaceHolderSuccess":return i({},e,{placeHolder:t.result.data});case"updateHotSuccess":return i({},e,{hotList:t.result.data});case"searchCptSuccess":return function(e,t,a){if(!t.status)return e;var r,o,l=t.data;l.type=(r=l.type,o={},r.brand&&(o.brand=r.brand),r.country_property&&(o.country_property=r.country_property),r.primary_category?o.primary_category=r.primary_category:r.secondary_category?o.secondary_category={second:r.secondary_category,first:r.secondary_category_primary}:r.tertiary_category&&(o.tertiary_category=r.tertiary_category),o);var s=(0,n.default)(l.type),c=s.length?s.map(function(e,t){return{text:a,accurate:d[e].text,clickHandle:d[e].url.bind(null,l.type[e],a)}}):[],u=l.suggests.length?l.suggests.map(function(e,t){return{text:e}}):[];return i({},e,{compList:c.concat(u)})}(e,t.result,t.cbData);default:return e}},u)},ifET:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropRefresh=void 0;var c,u,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=h(p),m=h(a("4TIB"));function h(e){return e&&e.__esModule?e:{default:e}}t.DropRefresh=(u=c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a._scrollEvent=function(){if(a.scrollArea===window){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;document.body.scrollHeight<e+a._disBt+t&&a._executeCallBack()}else a.scrollArea.scrollHeight<a.scrollArea.scrollTop+a._disBt+a.scrollArea.clientHeight&&a._executeCallBack()},a.refresh=function(){a.status="down",a._addEvent(),a.forceUpdate()},a.locked=function(){a.status="finish",a.isLock=!0,a._removeEvent(),a.forceUpdate()},a.unLock=function(){a.status="down",a.isLock=!1,a._addEvent(),a.forceUpdate()},a.scrollArea=window,a.status="down",a.isLock=!1,a._disBt=e.disBt,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"componentDidMount",value:function(){this.scrollArea=this.props.local?this.refs.wrap:window,this._addEvent()}},{key:"componentWillUnmount",value:function(){this._removeEvent()}},{key:"_getBtmText",value:function(e){switch(e){case"load":return f.default.createElement("div",{className:m.default.dropBtm},f.default.createElement("i",{className:m.default.loading}," "),"加载中");case"down":return f.default.createElement("div",{className:m.default.dropBtm},"↓下拉刷新");case"finish":return f.default.createElement("div",{className:m.default.dropBtm},"别拉了，我是有底线的~")}}},{key:"_addEvent",value:function(){this.isLock||(this.scrollArea.addEventListener("scroll",this._scrollEvent),this._scrollEvent())}},{key:"_removeEvent",value:function(){this.scrollArea.removeEventListener("scroll",this._scrollEvent)}},{key:"_executeCallBack",value:function(){this.status="load",this._removeEvent(),this.props.dropEvent(this),this.forceUpdate()}},{key:"render",value:function(){return f.default.createElement("div",{ref:"wrap",className:m.default.dropRefresh},this.props.children,this._getBtmText(this.status))}}]),t}(),c.defaultProps={scrollArea:window,local:!1,disBt:40},u)},jfES:function(e,t,a){},k9wu:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,d,p,f,m=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.stateModalData=Q,t.stateModalDispatch=V;var g=a("U7vG"),v=S(g),y=a("Zfgq"),E=(S(a("O27J")),a("d2xe")),b=a("4n+p"),_=a("f2Hk"),x=a("0p2n"),k=a("f2t5"),A=S(a("qAHI"));a("G2PN");var w=a("Wkbk"),N=a("f2t5"),C=a("2uFj");function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var O={GroupBuy:{url:C.MALLAPI+"/item/groupBuy",method:"get"},Promotion:{url:C.MALLAPI+"/item/promotion",method:"get"},Recommend:{url:C.MALLAPI+"/groupBuy/recommendItem",method:"get"}},D=(0,_.actionAxios)("itemIndex"),L=(0,_.concatPageAndType)("itemIndex"),P=(d=u=function(e){function t(e,a){T(this,t);var r=M(this,(t.__proto__||(0,n.default)(t)).call(this,e)),o=e.location.query,i=o.object_id,l=o.user_id;return r.state={objectID:i,userId:l,update:!1,openMsg:!1,recommend:!1},r}return I(t,g.Component),h(t,[{key:"openOrClose",value:function(){this.setState({openMsg:!this.state.openMsg})}},{key:"componentWillMount",value:function(){document.title="拼团详情",this.context.isApp&&(window.location.href="jsbridge://set_title?title=拼团详情"),this.state.objectID||y.browserHistory.push("/")}},{key:"componentDidMount",value:function(){var e=this,t=this.state.objectID;A.default.request(m({},O.GroupBuy,{params:{object_id:t}})).then(function(t){var a=t.data;if(0===a.code){var n=a.data;e.setState({dataList:n,update:!0}),e.props.retState.flag||e.props.Promotion(a),A.default.request(m({},O.Recommend,{params:{item_id:a.data.item.id}})).then(function(t){var a=t.data;0===a.code&&e.setState({recommendDataList:a,recommend:!0})})}else x.tip.show({msg:a.message})}).catch(function(e){console.log(e),x.tip.show({msg:e.response.data.message||"服务器繁忙"})})}},{key:"openShare",value:function(){return!!this.props.location.query.pay}},{key:"componentWillUnmount",value:function(){this.props.UpdateBuyModal({buyModal:!1})}},{key:"render",value:function(){var e=this.state,t=e.dataList,a=e.recommendDataList,n=e.update,r=e.openMsg,o=e.recommend,i=e.userId,l=this.props,s=l.promotion,c=l.proStatus;return n?v.default.createElement("div",{"data-page":"group-detail"},v.default.createElement("section",{id:"group-detail",ref:"group-detail"},v.default.createElement(H,{data:t,userId:i}),v.default.createElement(R,{data:t,fn:this.openOrClose.bind(this)}),r?v.default.createElement(F,{data:t}):"",v.default.createElement("div",{style:{height:15,backgroundColor:"#f4f4f4"}}),o?v.default.createElement(q,{data:a}):""),c&&v.default.createElement(K,m({},this.props,{data:t,promotion:s,itemId:t.item.item_id})),v.default.createElement(E.OpenInAppGuide,null),v.default.createElement(E.ShareAndTotop,{config:{title:t.item.title,content:"我在泰然城发现了一个不错的商品，赶快来看看吧。",link:N.RHOST+window.location.pathname+window.location.search,icon:t.item.primary_image},openShare:this.openShare()})):v.default.createElement(E.LoadingRound,null)}}]),t}(),u.contextTypes={isApp:v.default.PropTypes.bool,store:v.default.PropTypes.object,router:v.default.PropTypes.object},d),H=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.data;e.userId;return v.default.createElement("div",{className:"goods-msg"},v.default.createElement("a",{href:C.RNDomain+"/item?item_id="+t.item.id,className:"goods-img"},"ROOKIE_GROUP"===t.group.group_type?v.default.createElement("img",{className:"new-group",src:"/src/img/activity/new-group.png"}):"",v.default.createElement("img",{src:(0,k.addImageSuffix)(t.item.primary_image,"_s")})),v.default.createElement("div",{className:"goods-detail"},v.default.createElement("a",{href:C.RNDomain+"/item?item_id="+t.item.id,className:"c-fs12 c-c35 c-lh16 goods-title",style:{display:"block",height:"48px"}},t.item.title),v.default.createElement("p",{className:"c-fs12 c-c35"},t.group.required_person,"人团: ",v.default.createElement("span",{className:"c-fs16 c-cf55"},"¥",t.group.price))))}}]),t}(),R=function(t){function a(){return T(this,a),M(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return I(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=e(this.refs.imgsBox).css("height");e(this.refs.groupImg).css({height:t})}},{key:"render",value:function(){var e=this.props.data,t=e.group.required_person-e.group.current_person,a=e.user.map(function(e,t){return v.default.createElement(z,{second:!t,isLeader:!1,key:t})});return v.default.createElement("div",{className:"group-msg c-bgf4"},v.default.createElement("div",{className:"c-c80 c-fs12 c-tc c-lh50"},1===e.group.is_dealed?"ROOKIE_GROUP"===e.group.group_type?v.default.createElement("span",null,"还差",v.default.createElement("span",{className:"c-cf44"},t,"位新人"),"拼团成功，快去邀请好友吧"):v.default.createElement("span",null,"还差",v.default.createElement("span",{className:"c-cf44"},t),"人,盼你如南方人盼暖气"):0===e.group.is_dealed?v.default.createElement("span",null,e.group.current_person,"人参团，拼团失败"):v.default.createElement("span",{className:"c-cf44"},e.group.required_person,"人参团，此团已完成")),v.default.createElement("div",{className:"group-img c-mb15",ref:"groupImg"},v.default.createElement("div",{className:"imgs-box c-tc",ref:"imgsBox"},v.default.createElement(z,{isLeader:!0}),a)),1===e.group.is_dealed&&v.default.createElement(B,{data:e.group}),v.default.createElement(j,{fn:this.props.fn}),1===e.group.is_dealed?"":v.default.createElement("img",{className:"success-of-fail",src:0===e.group.is_dealed?"/src/img/evaluate/group-fail.png":"/src/img/evaluate/group-success.png"}))}}]),a}(),z=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.second,a=e.isLeader;return v.default.createElement("div",{className:"head-portrait"},v.default.createElement("div",{className:"portrait"},v.default.createElement("img",{src:"/src/img/icon/avatar/default-avatar.png"})),a||t?v.default.createElement("span",{className:"c-bgf44 c-cfff c-fs10 c-tc c-lh16",style:{backgroundColor:a?"#ff4444":"#ffc515"}},a?"团长":"沙发"):"")}}]),t}(),B=function(t){function a(){return T(this,a),M(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return I(a,g.Component),h(a,[{key:"componentWillMount",value:function(){var e=this.props.data,t=(new Date(e.expire_time.replace(/-/g,"/")).getTime()-new Date(e.now_time.replace(/-/g,"/")).getTime())/1e3,a=Math.floor(t/60/60),n=Math.floor((t-60*a*60)/60),r=Math.floor(t-60*a*60-60*n);this.setState({hh:a||0,mm:n||0,ss:r||0,mms:9})}},{key:"componentDidMount",value:function(){var t=this,a=this;this.timer=setInterval(function(){var n=a.state,r=n.hh,o=n.mm,i=n.ss,l=n.mms;if(0===r&&0===o&&0===i&&0===l)return clearInterval(t.timer),e(".remaining-time").css({display:"none"}),void history.go(0);a.setState({mms:l-1}),l<1&&a.setState({mms:9,ss:i-1}),i<0&&a.setState({ss:59,mm:o-1}),o<0&&a.setState({mm:59,hh:r-1})},100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.hh,a=e.mm,n=e.ss,r=e.mms;return this.props.timerStatus?v.default.createElement("div",{className:"timer1"},v.default.createElement("div",{className:" c-fs18 c-cfff c-tc"},"剩余 ",v.default.createElement("span",{className:"time"},t>9?t:"0"+t)," : ",v.default.createElement("span",{className:"time"},a>9?a:"0"+a)," : ",v.default.createElement("span",{className:"time",style:{position:"relative",width:"54px"}},v.default.createElement("span",{className:"mm"},n>9?n:"0"+n,"."),v.default.createElement("span",{className:"c-fs16 c-cdred mms"},r))," 结束")):v.default.createElement("div",{className:"remaining-time"},v.default.createElement("div",{className:"timer c-fs10 c-cfff c-tc c-bg35"},"距离结束仅剩 ",t>9?t:"0"+t,":",a>9?a:"0"+a,":",n>9?n:"0"+n))}}]),a}(),j=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"componentWillMount",value:function(){this.setState({isOpen:!1})}},{key:"openOrClose",value:function(){this.setState({isOpen:!this.state.isOpen}),this.props.fn()}},{key:"render",value:function(){var e=this.state.isOpen;return v.default.createElement("div",{className:"open-detail"},v.default.createElement("div",{onClick:this.openOrClose.bind(this),className:e?"open-txt open-txt-bg c-fs12 c-c80":"open-txt c-fs12 c-c80"},"查看全部参团详情"))}}]),t}(),F=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.data,t=e.user.map(function(e,t){return v.default.createElement(U,{data:e,isLeader:!1,key:t})});return v.default.createElement("div",{className:"users-detail"},v.default.createElement("i",{className:"user-detail-arror"}," "),v.default.createElement("ul",null,v.default.createElement(U,{data:e.user_start[0],isLeader:!0}),t))}}]),t}(),U=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"getDate",value:function(e){var t=new Date(e);return(t.getFullYear()>9?t.getFullYear():"0"+t.getFullYear())+"-"+(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate())+" "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())}},{key:"render",value:function(){var e=this.props,t=e.isLeader,a=e.data,n=t?a.open_time:a.join_time;return v.default.createElement("li",{className:t?"c-bgf99 c-mb10":"c-bgc9 c-mb10"},v.default.createElement("span",{className:t?"c-bgf99 horn":"c-bgc9 horn"}),v.default.createElement("span",{className:"circle c-bgf44"}),v.default.createElement("div",{className:"portrait"},v.default.createElement("img",{src:"/src/img/icon/avatar/default-avatar.png"})),t?v.default.createElement("div",{className:"c-cfff c-fl c-fs12 c-lh46",style:{paddingRight:"4px"}},"团长"):"",v.default.createElement("p",{className:"c-fl c-cfff c-lh46"},a.name),v.default.createElement("p",{className:"c-fr c-cfff c-lh46"},t?"开团":"参团"),v.default.createElement("div",{className:"c-fr c-cfff c-lh46",style:{paddingRight:"2px"}},n))}}]),t}(),q=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.data.data.data.map(function(e,t){if(t<9)return v.default.createElement(Z,{data:e,key:t})});return v.default.createElement("div",{className:"group-recommend"},v.default.createElement("p",{className:"c-fs14 recommend-title"},"拼团推荐"),v.default.createElement("div",{className:"recommend-goods"},e),v.default.createElement("div",{className:"recommend-footer"},v.default.createElement(y.Link,{to:"/"},v.default.createElement("span",{style:{color:"#999999"}},"拼团商城")),v.default.createElement("i",null," "),v.default.createElement(y.Link,{to:"/groupList/0"},v.default.createElement("span",{style:{color:"#999999"}},"我的拼团"))))}}]),t}(),Z=function(e){function t(){return T(this,t),M(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props.data,t=String(parseFloat(e.sell_price)).split(".")[0],a=String(parseFloat(e.sell_price)).split(".")[1];return v.default.createElement("div",{className:"c-tc each-goods"},v.default.createElement("div",{style:{width:"96%",maxWidth:105,display:"inline-block"}},v.default.createElement("div",{style:{height:105,overflow:"hidden"}},v.default.createElement("a",{href:C.RNDomain+"/item?item_id="+e.item_id},v.default.createElement("img",{src:(0,k.addImageSuffix)(e.images[0],"_s")||"/src/img/icon/loading/default-no-item.png"}))),v.default.createElement("div",{className:"c-fs12 c-tl"},v.default.createElement("p",{className:" c-c35 title"},e.title),a>0?v.default.createElement("p",{className:"recommend-price c-fs15"},v.default.createElement("span",{className:"c-fs12"},"¥"),t+".",v.default.createElement("span",{className:"c-fs12"},a)):v.default.createElement("p",{className:"recommend-price c-fs15"},v.default.createElement("span",{className:"c-fs12"},"¥"),t))))}}]),t}(),G=[];G[5]={text:"活动已过期",clsFix:"color-grey",click:null},G[8]={text:"已售罄",clsFix:"color-grey",click:null},G[0]={text:"暂不销售",clsFix:"color-grey",click:null},G[1]={text:"我也开个团",click:"showModal",activeType:"groupBuy"},G[2]={text:"重新开团",click:"showModal",activeType:"groupBuy"},G[3]={text:"分享",click:"BUY"},G[4]={text:"确定参团",click:"showModal",activeType:"joinGroup"},G[6]={text:"参与次数到上限",clsFix:"color-grey",click:null},G[10]={text:"开团已达上限",clsFix:"color-grey",click:null},G[7]={text:"登录后参团",click:null},G[9]={text:"仅限新人参团",clsFix:"color-grey",click:null};var J=(f=p=function(e){function t(){var e,a,r;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=M(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.showModal=function(){r.props.UpdateBuyModal({buyModal:!0})},r.closeModal=function(){r.props.UpdateBuyModal({buyModal:!1})},M(r,a)}return I(t,g.Component),h(t,[{key:"componentWillMount",value:function(){var e=G[this.getGroupState()];this.state={groupState:e}}},{key:"getGroupState",value:function(){var e=this.props,t=e.data,a=e.data,n=a.item,r=a.is_open,o=e.promotion.realStore,i=t.group.required_person-t.group.current_person,l=(new Date(t.group.expire_time.replace(/-/g,"/")).getTime()-new Date(t.group.now_time.replace(/-/g,"/")).getTime())/1e3;return"SHELVING"!==n.status?0:0===o?8:"GroupBuy"!==t.item_type?5:this.context.isLogin?l<=0||i<=0?1===r?2:1:1===r?2:4:7}},{key:"bindClick",value:function(e){e.click&&this[e.click]()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.item,n=t.group,r=t.is_open,o={primary_image:a.primary_image,tax_rate:a.tax,trade_type:a.trade_type,object_id:1===n.is_dealed?1===r?0:this.props.location.query.object_id:0,groupPrice:n.price,shop_id:a.shop_id,shop:a.shop},i=m({},this.props,this.state,{itemId:this.props.data.item.id,data:o,closeModal:this.closeModal}),l=this.state.groupState;return v.default.createElement("section",{className:"group-purchase-btn"},v.default.createElement(w.BuyModal,m({},i,{active:l.activeType})),v.default.createElement("a",{className:"more-pintuan",href:"/groupMall"},v.default.createElement("span",{className:"list-icon"},v.default.createElement("img",{src:"/src/img/pintuan/list-shape-icon.png"})),"更多拼团"),v.default.createElement(E.LinkChange,{className:"jump-group-btn sure-join-group "+(l.clsFix||" "),onClick:function(){e.bindClick(l)}},l.text))}}]),t}(),p.contextTypes={isLogin:v.default.PropTypes.bool},f);function Q(e){return{promotion:e.itemIndex.promotion,retState:e.itemIndex.retState,buyModal:e.itemIndex.buyModal,buyActive:e.itemIndex.buyActive,proStatus:e.itemIndex.proStatus,areaData:e.itemIndex.areaData}}function V(e){return{Promotion:function(t){e(D("promotionData",m({},O.Promotion,{params:{item_id:t.data.item.id}})))},UpdateBuyModal:function(t){e(L("updateBuyModal",t))},InitState:function(t){e(L("initState",{ret:t}))}}}var K=(0,b.connect)(function(e){return m({},e.global)})(J);t.default=(0,b.connect)(Q,V)(P)}).call(this,a("OOjC"))},kjFZ:function(e,t,a){},kwaM:function(e,t,a){},lxKQ:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=(c=d)&&c.__esModule?c:{default:c};a("Zfgq");a("U5Sn");var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.toList=function(){window.location.replace(window.location.protocol+"//"+window.location.host+"/tradeList/0")},a.state={status:a.props.location.query.status},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentWillMount",value:function(){document.title="支付详情",window.location.href="jsbridge://set_title?title=支付详情"}},{key:"render",value:function(){return p.default.createElement("div",{"data-page":"pay-success"},p.default.createElement("div",{className:"pay-success"},p.default.createElement("p",null,p.default.createElement("img",{src:"/src/img/icon/agree/current-round-icon.png",width:"40",height:"40"})),p.default.createElement("p",{className:"c-fs18",style:{lineHeight:"32px"}},3==this.state.status?"订单支付成功":"订单处理中"),p.default.createElement("p",{className:"c-cc9 c-fs10"},"我们将尽快为您安排, 祝您购物愉快"),p.default.createElement("p",null,p.default.createElement("a",{className:"colour-btn",href:"trmall://main?page=home"},"继续购买")),p.default.createElement("p",null,p.default.createElement("div",{className:"look-order",onClick:this.toList},"查看订单"))))}}]),t}();t.default=f},"n2/B":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAMAAACUYSJFAAAAmVBMVEUAAADHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3n////49u/18ufKt4H+/fvr5M/8+/jm3cTk2r7Wx5zSwZP7+fTy7d/p4cng1rbZzKXYyqHTxJbNu4jItHpnJO/VAAAAHnRSTlMA8erlFKt2SCcJ1sOGbGIEAvexpJlmSkLd075bNzbFgpHdAAAA90lEQVQoz53TyZKCMBCA4Sbsq7jP2j2CoLjr+z/cGIKVIIGy/C85fKdOdYOSlUzYJLFAk+eEKAodryXpbxSgWhD9pIJ8d2ZiN3O28AFsA/sybMChXtdTTvfyk1bPHDmfNbrN6cjfI+VbqRI3iFmGuJEMzUCXgiP+EXIuLi2tCirxoVhSUSla7eiAUvFAO86G0D2tUVVc017qtbxhRiupt/IqlSdVpNW61XuKopeUDSgDe0BtcJvp24nfcQG+ejVMAbwx6hvXa/3downUxVqMocllHWML5b6mTzi1QG0ZKPa5hKdGc7Mxcz6Cbr5jcIu56bKiD8cHpX+stVypkx0S9gAAAABJRU5ErkJggg=="},nUe2:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{update:!1},t=arguments[1],a=void 0;switch(t.type){case"ZEROBUY_CHANGE_SPEC":return a=c(e,t),s(i({},e,a));case"ZEROBUY_CHANGE_DATA":case"ZEROBUY_POP_CLOSE":return s(i({},e,t));case"ZEROBUY_CHANGE_NUM":return a=u(e,t),s(i({},e,a));case"ZEROBUY_INIT_DATA":return a=l(t),s(i({},e,{update:!0},a));case"ZEROBUY_WILL_UNMOUNT":return{update:!1};default:return e}};var l=function(e){var t,a=e.specs,r=e.data.item.specs,o=(0,n.default)(a),i=o[0].split("_"),l=void 0,s=void 0;for(var c in r){var u=void 0,d=0;for(l=r[c],s=(0,n.default)(l.values);i[d];){if(s.indexOf(i[d])>=0){u=i[d];break}d++}e.clickList[c]=u}return e.nowSpec=e.specs[o[0]],e.specList=(0,n.default)(r),t=(0,n.default)(e.nowSpec.invest),e.nowInvest=e.nowSpec.invest[t[t.length-1]],e.marketPrice=e.nowSpec&&e.nowSpec.price,e},s=function(e){var t=e.num,a=e.nowInvest,n=a.invest,r=a.profit;return e.invest=t*n,e.profit=t*r,e},c=function(e,t){var a,r=t.id,o=t.spec,i={clickList:e.clickList};i.clickList[o]=r;var l=e.specList.join("_").replace(/\d+/g,function(t){return e.clickList[t]});return i.nowSpec=e.specs[l],a=(0,n.default)(i.nowSpec.invest),i.nowInvest=i.nowSpec.invest[a[0]],i.marketPrice=i.nowSpec&&i.nowSpec.price,i},u=function(e,t){var a=t.num;return function(e,t){e.data.item.store;var a=e.nowSpec.store,n={};return(t<1||t>a)&&(n.popup={messageType:t<1?"MINNUM":"MAXNUM",messageArg:a}),n.num=0==t?1:t>a?0==a?1:a:t,n}(e,e.num+a)}},nlQv:function(e,t,a){"use strict";(function(e){var n,r,o=p(a("Zx67")),i=p(a("kiBT")),l=p(a("OvRC")),s=p(a("pFYg")),c=p(a("c/Tr")),u=p(a("C4MV")),d=p(a("woOf"));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=d.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a("U7vG"),g=k(h);k(a("O27J")),a("Zfgq");a("kwaM");var v=a("d2xe"),y=a("0p2n"),E=k(a("6YRh")),b=a("2uFj"),_=k(a("qAHI")),x=a("f2t5");function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var C=void 0,S=void 0,T=0,M={specialFlashsale:{url:b.MALLAPI+"/promotion/getSpecialFlashSaleItem",method:"get"},DelFav:{url:b.MALLAPI+"/user/removeItemCollection",method:"get"},Fav:{url:b.MALLAPI+"/user/saveItemCollection",method:"post"}},I={past:{timeText:"已结束",countDown:!1},present:{timeText:"离本场结束",countDown:!0,countField:"end_time"},future:{timeText:"离本场开始",countDown:!0,countField:"start_time"}};function O(e){return(e|=0)>=10?e:"0"+e}function D(e){var t=window.location.search.replace(/^\?/,""),a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=t.match(a);return n?n[2]:null}var L=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return N(t,h.Component),m(t,[{key:"render",value:function(){var e=this.props,t=e.to,a=(e.type,e.className);return g.default.createElement("a",{href:t,className:a},this.props.children)}}]),t}(),P=function(t){function a(e){A(this,a);var t=w(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.state={update:!1,data:null},t}return N(a,h.Component),m(a,[{key:"componentWillMount",value:function(){var e=this;document.title="品牌专场特卖",this.context.isApp&&(window.location.href="jsbridge://set_title?title=品牌专场特卖");var t=D("promotion_id");_.default.request(f({},M.specialFlashsale,{params:{promotion_id:t,page:1}})).then(function(t){C=+new Date,T++,e.setState({update:!0,data:t.data.data})}).catch(function(e){console.log(e),y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})})}},{key:"componentDidUpdate",value:function(){E.default.init({offset:e(window).height(),throttle:1e3})}},{key:"render",value:function(){return this.state.update?this.state.data?g.default.createElement("div",{"data-page":"special-flashsale"},g.default.createElement(R,{data:this.state.data}),g.default.createElement(B,{data:this.state.data})):g.default.createElement(H,null):g.default.createElement(v.LoadingRound,null)}}]),a}();t.default=P;var H=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return N(t,h.Component),m(t,[{key:"render",value:function(){return g.default.createElement("img",{className:"no_commodity",src:"/src/img/specialFlashsale/noCommodity.png"})}}]),t}(),R=function(e){function t(e){A(this,t);var a=w(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={type:""},a}return N(t,h.Component),m(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=Math.floor((+new Date-C)/1e3),a=+new Date(e.now.replace(/-/g,"/"))+t,n=(S=a>+new Date(e.promotion.end_time.replace(/-/g,"/"))?0:a>+new Date(e.promotion.start_time.replace(/-/g,"/"))?1:2)<2?S?"present":"past":"future";this.setState({type:n})}},{key:"render",value:function(){var e=this.props.data,t=e.promotion&&e.promotion.arguments?e.promotion.arguments.special_flash_sale_image:"";return g.default.createElement("div",{className:"brand c-pr"},g.default.createElement("img",{src:t})," ",g.default.createElement(z,{data:e,nowTime:+new Date(e.now.replace(/-/g,"/")),type:this.state.type}))}}]),t}(),z=function(e){function t(e){A(this,t);var a=w(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={},a}return N(t,h.Component),m(t,[{key:"componentWillMount",value:function(){this.initState()}},{key:"componentDidMount",value:function(){this.initState()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer),this.timer=null}},{key:"initState",value:function(){var e=this.props,t=e.data,a=e.type,n=e.nowTime,r=Math.floor((+new Date-C)/1e3),o=null;if(this.timer&&(clearTimeout(this.timer),this.timer=null),I[a].countDown){var i=t.promotion,l=i.start_time,s=i.end_time;"present"===a&&(o=+new Date(s.replace(/-/g,"/"))-n-r),"future"===a&&(o=+new Date(l.replace(/-/g,"/"))-n-r),this.timeHandler()}this.setState({count:o/1e3})}},{key:"getTimeInfo",value:function(){return I[this.props.type].timeText}},{key:"timeHandler",value:function(){var e=this;this.timer=setTimeout(function(){var t=e.state.count-1;0==t?location.reload():(e.setState({count:t}),e.timeHandler())},1e3)}},{key:"getTimeCount",value:function(){var e=this.state.count>0?this.state.count:0;return e?O(e/3600)+" : "+O(e/60%60)+" : "+O(e%60):null}},{key:"render",value:function(){var e="离本场结束"===this.getTimeInfo();return g.default.createElement("div",{className:"c-tc timelast "+(e?"timeEndLast":"timeStartLast")},this.getTimeInfo(),g.default.createElement("span",{className:"time"},this.getTimeCount()))}}]),t}(),B=function(e){function t(e){A(this,t);var a=w(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.getData=function(e){if(delete a.state.nowState,T>1){var t=a;t.ajax&&t.ajax.abort();var n=D("promotion_id");_.default.request(f({},M.specialFlashsale,{params:{promotion_id:n,page:t._page++}})).then(function(a){var n;(!a.data.data||a.data.data.items.length<10?e.stateNodata():e.stateRefresh(),a.data.data)&&((n=t.state.data).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,c.default)(e)}(res.data.data.items)),t.setState(t.state));e.unLocked()}).catch(function(e){console.log(e),y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})})}1===T&&(a.props.data.items.length<10&&e.stateNodata(),e.unLocked()),T++},a.getData=a.getData.bind(a),a}return N(t,h.Component),m(t,[{key:"componentWillMount",value:function(){this.initState()}},{key:"initState",value:function(){this.state={data:this.props.data.items,nowState:"LOAD"},this._page=2,this.setState(this.state)}},{key:"initList",value:function(){var e=this.props.data,t=[];return e&&e.items.forEach(function(e,a){t.push(g.default.createElement(j,{data:e,key:a}))}),t}},{key:"render",value:function(){this.props.data;return g.default.createElement(v.Scroll,{getData:this.getData,nowState:this.state.nowState},g.default.createElement("ul",null," ",this.initList()," "))}}]),t}(),j=(r=n=function(e){function t(){var e,a,n;A(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=w(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.urlHandle=function(e,t){if(n.channel){if(e&&!/^t/.test(e)&&!/channel/.test(e)){e=e+(/\?/.test(e)?"&":"?")+"channel="+n.channel}}return"app"===t?"trmall://open_link_in_new_window?url="+window.btoa(e):e},w(n,a)}return N(t,h.Component),m(t,[{key:"componentWillMount",value:function(){this.state={collect:this.props.data.is_fav}}},{key:"onCollect",value:function(){var e=this;if(this.context.isLogin||!this.context.isApp){var t=this.state.collect?"DelFav":"Fav";_.default.request(f({},M[t],{params:{item_id:this.props.data.id}})).then(function(t){e.setState({collect:!e.state.collect})}).catch(function(e){y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})})}else location.href="trmall://to_login"}},{key:"priceIsInt",value:function(e){return Math.floor(e)===e}},{key:"decimalPrice",value:function(e){return e.toString().split(".")[1]}},{key:"render",value:function(){var e=this,t=this.state.collect,a=this.props.data,n=a.real_store,r=a.price,o=a.sell_price,i=this.context.isApp?"app":"pc";return g.default.createElement("li",{className:"infor_wrap"},g.default.createElement("div",{className:"infor_l c-fl"},g.default.createElement(L,{to:this.urlHandle(b.RNDomain+"/item?item_id="+a.id,i),type:i},g.default.createElement("img",{className:"primary-image","data-echo":(0,x.addImageSuffix)(a.primary_image,"_t")||"/src/img/search/no-goods-image.png",src:"/src/img/icon/loading/default-watermark.png"}),n||1!=S?null:g.default.createElement("div",{className:"sale_statue c-tc"},"还有机会"))),g.default.createElement("div",{className:"infor_r"},g.default.createElement(L,{to:this.urlHandle(b.RNDomain+"/item?item_id="+a.id,i),className:"infor_tit",type:i},a.title),g.default.createElement("div",{className:"favour"},g.default.createElement("span",{className:"full_discount "+(a.tag&&a.tag.length?"":"c-dpno")},a.tag.map(function(e,t){return g.default.createElement("span",{key:t},e)})," "),S<2?S?g.default.createElement("div",{className:"last_num c-tc "+(n>0&&n<11?"":"c-dpno")},"仅剩",n,"件"):g.default.createElement("span",{className:"prompt"},"仍有优惠~"):g.default.createElement("span",{className:"prompt"},"限量",a.store,"件")),g.default.createElement("div",{className:"detail_footer c-pr"},g.default.createElement("div",{className:"price_area c-fl c-pr"},g.default.createElement("span",{className:"promotion_price c-dpb "+(o?"":"c-pt10")},g.default.createElement("span",{className:"money_icon"},"¥"),this.priceIsInt(r)?g.default.createElement("span",null,r):g.default.createElement("span",null,Math.floor(r),g.default.createElement("span",{className:"price_decimal"},".",this.decimalPrice(r)))),g.default.createElement("span",{className:"market_price c-dpb c-cc9",style:o?{}:{display:"none"}},"¥ ",o)),g.default.createElement("div",{className:"buyoradd_btn c-fr"},S<2?g.default.createElement("span",{className:"c-tc c-fr "+(0!=S&&n?"rightnow":"toseeit")},g.default.createElement(L,{to:this.urlHandle(b.RNDomain+"/item?item_id="+a.id,i),type:i},0!==S&&n?"马上抢":"去看看")):g.default.createElement("span",{className:"c-tc c-fr "+(t?"collected":"ahead_time"),onClick:function(){return e.onCollect()}},t?"已收藏":"抢先收藏")))))}}]),t}(),n.contextTypes={isApp:g.default.PropTypes.bool,isLogin:g.default.PropTypes.bool},r)}).call(this,a("OOjC"))},nztU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*(a||30)*60*60*1e3),document.cookie=e+"="+encodeURI(t)+";expires="+n.toGMTString()+";domain=.tairanmall.com;path=/"},t.getCookie=function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?decodeURI(t[2]):null},t.clearCookie=function(e){var t={};document.cookie.split(";").map(function(e,a){t[e.split("=")[0]]=e.split("=")[1]});var a=new Date;for(var n in a.setTime(a.getTime()+-864e5),t)(n=n.trim())===e&&(document.cookie=n+"="+encodeURI("")+";expires="+a.toGMTString()+";path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=wxapp.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=wx.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=jr-m.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=m.tairanmall.com;path=/")}},oBvZ:function(e,t,a){},ppyJ:function(e,t,a){"use strict";!function(e,t){function a(){var t=o.getBoundingClientRect().width/10;o.style.fontSize=t+"px",u.rem=e.rem=t}var n,r=e.document,o=r.documentElement,i=r.querySelector('meta[name="viewport"]'),l=r.querySelector('meta[name="flexible"]'),s=0,c=0,u=t.flexible||(t.flexible={});if(i){console.warn("将根据已有的meta标签来设置缩放比例");var d=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(c=parseFloat(d[1]),s=parseInt(1/c))}else if(l){var p=l.getAttribute("content");if(p){var f=p.match(/initial\-dpr=([\d\.]+)/),m=p.match(/maximum\-dpr=([\d\.]+)/);f&&(s=parseFloat(f[1]),c=parseFloat((1/s).toFixed(2))),m&&(s=parseFloat(m[1]),c=parseFloat((1/s).toFixed(2)))}}if(!s&&!c){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),g=e.devicePixelRatio;c=1/(s=h?g>=3&&(!s||s>=3)?3:g>=2&&(!s||s>=2)?2:1:1)}if(o.setAttribute("data-dpr",s),!i)if((i=r.createElement("meta")).setAttribute("name","viewport"),i.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(i);else{var v=r.createElement("div");v.appendChild(i),r.write(v.innerHTML)}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(a,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(a,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*s+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*s+"px"},!1),a(),u.dpr=e.dpr=s,u.refreshRem=a,u.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},u.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},qAHI:function(e,t,a){"use strict";var n=o(a("//Fk")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("mtWM"),c=(i=s)&&i.__esModule?i:{default:i};c.default.interceptors.request.use(function(e){var t=e.headers;return t=(0,r.default)(t,{"X-Channel":"TrMall","X-Platform-Type":"APP","X-Platform-From":"TrMall"}),e=l({},e,{headers:t})},function(e){n.default.reject(e)}),c.default.interceptors.response.use(function(e){return 401===e.data.code&&(window.location.href="trmall://to_login"),e},function(e){return e.response&&401===e.response.data.code&&(window.location.href="trmall://to_login"),n.default.reject(e)}),t.default=c.default},qeJi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t){var a=e,n=void 0,r=void 0,o=!0;return function(){var e=this;return r=arguments,o?(a.apply(e,r),o=!1):!n&&void(n=setTimeout(function(){clearTimeout(n),n=null,a.apply(e,r)},t||500))}},t.delay=function(e,t){var a=e,n=void 0,r=void 0;return function(){var e=this;r=arguments,n&&clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,a.apply(e,r)},t||500)}},t.newWindow=function(e,t){return"app"===e?"trmall://open_link_in_new_window?url="+window.btoa(t):t};t.timeUtils={timeFormat:function(e){return(e=new Date(1e3*e)).getFullYear()+"."+this.toTwoDigit(e.getMonth()+1)+"."+this.toTwoDigit(e.getDate())},detailFormat:function(e){return isNaN(Number(e))?"":(e=new Date(1e3*e)).getFullYear()+"-"+this.toTwoDigit(e.getMonth()+1)+"-"+this.toTwoDigit(e.getDate())+" "+this.toTwoDigit(e.getHours())+":"+this.toTwoDigit(e.getMinutes())+":"+this.toTwoDigit(e.getSeconds())},toTwoDigit:function(e){return e<10?"0"+e:e}};t.browser={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i),safari:e.indexOf("Safari")>-1&&e.indexOf("Chrome")<1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()}},qrts:function(e,t,a){},qzVb:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i};var u={load:!0,data:"",companyname:"",companycode:"",corpid:""};t.default=(0,c.default)("logicompany",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return u;case"getDataSuccess":var a=t.result.data,r={};for(var o in a)"#"==o&&(r=a[o],delete a[o]);return a["#"]=r,l({},e,{load:!1,data:a});case"ctrlModal":return l({},e,function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t.modal,t.status));case"changeCompany":return l({},e,{companyname:t.name,companycode:t.code,corpid:t.id});default:return e}},u)},rsfq:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=t.PurchaseLimit=t.FilterTradeClass=t.FilterTradeType=t.TradeFade=t.FilterTrade=t.createMSG=void 0;var i=a("f2t5"),l=function(e){return e&&e.__esModule?e:{default:e}}(a("4GUf"));var s=t.createMSG=(0,i.wrap)((0,i.filter)({ACTIONERROR:"请求错误",NOTAREA:"不在配送区域",CARTSUCCESS:"加入购物车成功",SELECTSPEC:"请选择所有规格",MINNUM:"此商品最少购买1件",MAXNUM:"此商品最多只能购买{0}件",STRATEGY:"请先选择分期策略"}),function(e,t){var a=e(t),n=[].concat(Array.prototype.slice.call(arguments));return a.replace(/\{(\d+)\}/g,function(e,t){return n[+t+2]})}),c={Domestic:"国内贸易",Overseas:"海淘",Bonded:"跨境保税",Direct:"海外直邮"};t.FilterTrade=function(e){if("BONDED"==e||"DIRECT"==e)return c[e]},t.TradeFade=function(e){return"DOMESTIC"!==e.trade_type&&0!=e.tax_rate},t.FilterTradeType=function(e){return"OVERSEAS"===e||"DIRECT"===e?"海外直邮":"BONDED"===e?"跨境保税":""},t.FilterTradeClass=function(e){return("BONDED"===e?"blue-label":"yellow-label")+" label"},t.PurchaseLimit=function(e){return"DIRECT"===e||"BONDED"===e},t.createAction=function(e,t){return(0,i.wrap)((0,i.filter)(e),function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e(a);if(!r)return null;var i=n.success,c=n.error;return(0,o.default)({},r,n,t?{error:function(e){l.default.MsgTip({msg:s("ACTIONERROR")}),c&&c(e)},success:function(e){(e.msg||e.message)&&l.default.MsgTip({msg:e.msg||e.message}),i&&i(e)}}:{})})}},rxNO:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={load:!0,nav:"",comingList:"",listLoad:!0,showBanner:!0,list:{data:"",page:1,total:10,isComing:!1},categoryId:""};t.default=(0,l.default)("groupMallHome",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"initSuccess":return function(e,t){var a=s.default.fromJS(e);return a=a.set("load",!1),t[0].data.data.unshift({category_id:"",name:"精选"}),t[0].data.data.push({name:"预告"}),(a=(a=a.set("nav",t[0].data.data)).set("banner",t[1].data.data)).toJS()}(e,t.result);case"getListLoad":return i({},e,{listLoad:!0,list:u.list});case"getListSuccess":return function(e,t){var a=s.default.fromJS(e);return(a=(a=a.set("listLoad",!1)).set("list",{data:t.data.items,page:t.data.page,total:Math.ceil(t.data.count/20),isComing:t.data.is_coming})).toJS()}(e,t.result);case"concatDataSuccess":return function(e,t){var a=s.default.fromJS(e);return(a=(a=(a=a.updateIn(["list","data"],function(e){return e.concat(t.data.items)})).setIn(["list","page"],t.data.page)).setIn(["list","total"],Math.ceil(t.data.count/20))).toJS()}(e,t.result);case"changeId":return i({},e,{categoryId:t.id});case"hideBanner":return i({},e,{showBanner:t.showBanner});case"saveTop":return i({},e,{disTop:t.value});default:return e}},u)},s6sF:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=(c=d)&&c.__esModule?c:{default:c};a("zyZ9");var f=function(t){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,e));return document.title="泰享会员服务协议",t.isApp&&(location.href="jsbridge://set_title?title=泰享会员服务协议"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,d.Component),u(a,[{key:"componentDidMount",value:function(){e(window).scrollTop(1)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return p.default.createElement("div",{className:"vip-agreement-page"},p.default.createElement("div",{className:"title"},p.default.createElement("text",null,"泰享会员服务协议")),p.default.createElement("div",null,p.default.createElement("text",null,"您在申请开通泰享会员过程中勾选同意本协议之前，请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制责任的条款、法律适用和争议解决条款，特别是加粗部分")),p.default.createElement("div",null,p.default.createElement("text",null,"当您确认接受本服务协议或开始使用泰享会员服务时，即表示您与泰然城（即泰然城电子商务有限公司，以下简称“泰然城”）达成一致，自愿接受本协议一切内容，阅读本协议的过程中，如果您不同意任一或全部条款内容，请不要进行下ー步操作或使用本协议项下服务，您应立即停止开通程序。")),p.default.createElement("div",null,p.default.createElement("text",null,"本协议由您与泰然城共同签署，作为《泰然城用户协议》的补充，与《泰然城用户协议》及所有泰然城已经公布的适用于所有会员用户的各类服务条款及规则构成统一整体。未来泰然城会以本协议为基准，继续丰富相关的服务条款与规则，并依法定程序公布生效。所有条款与规则为协议不可分割的组成部分，与协议具有同等法律效力。")),p.default.createElement("div",null,p.default.createElement("text",null,"您在申请开通泰享会员过程中勾选“已阅读并同意”并通过泰然城上的任一种支付方式付费，即表示您已仔细阅读并完全接受本协议下的全部条款。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"一、泰享会员服务开通")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"1.1.您在申请成为泰享会员前须完成泰然城会员的注册与登录，以确认您的主体身份及完成支付。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"1.2.当您接受本协议开通泰享会员。泰然城将按照本协议条款为您提供泰享会员服务。同时您在享受泰享会员服务时应严格遵守本协议条款。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"1.3、您应确保在泰享会员服务开通及使用过程中，始终具备完全民事权利能力和完全民事行为能力，并确保您具有签订和履行本协议项下权利义务之实际能力。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"1.4、一旦您点击支付了泰享会员服务费或在其它泰享会员付费服务中并支付了泰享会员服务费的，即视为您认可该项服务费；您付费成功后，泰享会员服务即时生效。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"1.5、 基于权益调整，泰然城可能会调整泰享会员服务开通所需会员服务费用。调整后的服务费用自公布之日起生效，您于生效前已开通的泰享会员服务不受影响，但到期后若需续费开通，则需按照调整后已生效的费用标准支付。若该价格标示有明显错误且泰然城发出相关价格错误通知的情形，双方应协商解決。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"二、风险提示")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"2.1、泰享会员服务及会员权益仅限您本人使用。开通泰享会员服务或获取泰享会员权益的账户作为您享受相应服务及权益的重要身份标识，请妥善保管用户名、密码均由您自行设置并保管。泰然城会员账户被他人使用可能会造成您本人在权益使用上产生不良影响，因此泰然城请您无论何种因由不要将自己的账户给予他人使用，从公平合理的角度，您应知晓所有通过该账户实现的操作泰然城只能默认视为您本人的行为，由此产生的后果由您与实际使用者自行承担。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"2.2、您明确了解并选择接受了泰然城上的某种付费方式，泰然城明确告知您付费过程可能存在一定的风险（包括但不限于不法分子利用您账户或银行卡等进行违法活动），该等风险均会给您造成相应的经济损失。为此，您同意泰然城在充分履行其在本协议项下全部义务及勤勉谨慎义务的前提下不对您的前述风险和损失承担任何责任；并且，泰然城不承担向不法分子追究侵权责任或者代其向您承担损失的任何责任和义务。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"2.3、成为泰享会员后，您对本服务或本协议条款及调整后的服务或条款有任何异议，可放弃泰享会员资格，但泰然城不退还已缴纳的服务费用。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"三、泰享会员权益")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.1、购物9折：当您在泰然城平台上购买泰然城自营商品，或在泰然城门店购买任意商品时，您可在标价的基础上享受9折优惠，该优惠可叠加享受其他优惠，即您的最终付费为=单品标价-活动折扣-会员9折折扣-品类券折扣。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.2、免费饮品券10张：在泰享会员有效期内，凭该饮品券您可在泰然城线下门店咖啡吧领取任意饮品10杯。若您的泰享会员身份到期，不管续费与否，本券即失效，泰然城有权不提供饮品。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.3、书吧vip：泰然城书吧仅向泰享会员提供服务，书吧内海量图书/杂志可供免费阅读，图书可外借，外借规则参考店内具体规则。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.4、生日礼包1份及指定蛋糕券1张：当你开通泰享会员并完善相关信息后，在生日月（以您注册时填写的生日信息为准），泰然城向您提供生日礼包券1张、指定蛋糕券1张，生日礼包内容由泰然城指定，价值不低于99元；蛋糕券的使用仅限于指定品类，若您购买的产品高于该券价值，您须支付差价。本券有效期为您生日日期所在自然月期间，且仅限泰然城门店内使用。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.5、线下活动报名权：泰然城不定期开展线下活动或联合其他企业开展线下活动，泰享会员可在泰然城门店免费预约参加。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.6、泰享会员可提前续费，会员权益时间按照当前时间依次累计，续费后会员权益待当前权益全部失效后，方可享受。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"3.7、泰然城有权基于泰享会员体系合理性考量，在提前7日通知的情况下对泰享会员权益进行适当的调整，该调整会以公布形式生效或在您的泰享会员到期后才生效。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"四、泰享会员有效期")),p.default.createElement("div",null,p.default.createElement("text",null,"泰享会员服务有效期为365天，自服务开通之日起计算。若您在有效期届满后希望继续享受泰享会员服务的，请您续费或重新开通，有效期届满后您未续费或重新开通的，泰享会员服务终止。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"五、泰享会员使用规范")),p.default.createElement("div",null,p.default.createElement("text",null,"您确保合理使用泰享会员服务，不利用泰享会员服务进行盈利或非法获利，不以任何形式转让或转移您所享有的泰享会员服务或泰享会员权益，不以任何方式将泰享会员服务或泰享会员权益借给他人使用。若泰然城有合理理由怀疑您存在任何不当使用会员服务行为的，泰然城将取消您的泰享会员资格、作废泰享会员权益且您不应要求泰然城退还您所支付的会员服务费用。您应对您不当使用会员服务的行为及后果（包括损失）负责，您若给泰然城造成损失的，泰然城有权向您追偿。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"六、泰享会员服务终止")),p.default.createElement("div",{className:"tileft",style:{marginBottom:"0px"}},p.default.createElement("text",null,"6.1  您开通泰享会员服务后，若出现以下情形造成泰享会员服务终止或中止的，您不应要求退还部分或全部会员服务费用：")),p.default.createElement("div",{style:{marginTop:"0px",marginBottom:"0px"}},p.default.createElement("text",null,"1）您中途主动取消泰享会员服务、放弃会员权益或终止资格的；")),p.default.createElement("div",{style:{marginTop:"0px",marginBottom:"0px"}},p.default.createElement("text",null,"2）泰然城根据《泰然城用户协议》、本协议会平台其他协议及规则注销您的帐号、终止您的泰然城会员资格的；")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"6.2  若泰然城无正当理由即自行决定终止向您提供泰享会员服务，作为对您作为泰享会员的回馈，泰然城将根据您会员期限中剩余的整月数，按比例向您退款。然而，因泰然城认定您为违反本协议或任何相关法律的行为、欺诈或滥用泰享会员的行为、或损害泰然城利益或伤害其他用户的行为而导致的终止，泰然城不予退款。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"七、不可抗力及免责条款")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1、您理解泰然城将尽所能确保本服务及其所涉及的技术及信息安全、可靠，但受限于现有技术有限，对于下述原因导致的合同履行障碍、瑕疵、延后或内容变更等情形，导致您直接或间接损失，您理解泰然城无法承担责任：")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1.1、因服务器的死机、网络的故障、数据库故障、软件升级、服务器维修、调整、升级等问题或 因自然灾害、罢工、暴乱、战争、恐怖袭击、政府行为、黑客攻击、司法行政命令等不可抗力因素")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1.2、因电信部门技术调整或故障、通讯网络故障等公共服务因素；")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1.3、用户自身设备的软件、系统、硬件和通信线路出现故障，或用户通过非本协议项下约定的方式使用本服务的；")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1.4、鉴于网络服务的特殊性，出现紧急设备/系统的故障/维护、网络信息与数据安全等情况，您同意泰然城有权中断或终止部分或全部的网络服务，并及时以公告形式通知。对于因此造成服务的中断或终止而造成的；")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"7.1.5、您的泰享会员服务期限中包含解决故障、服务器维修、调整、升级等所需用的合理时间，对上述情况所需用的时间泰然城不予补偿。")),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",null,p.default.createElement("text",null)),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"八、其他")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"8.1、泰然城未能坚持或未能强制要求您严格遵守本协议不构成对任何权利的放弃。")),p.default.createElement("div",{className:"tileft"},p.default.createElement("text",null,"8.2、本协议由泰然城进行解释。")))}}]),a}();t.default=f}).call(this,a("OOjC"))},sEuz:function(e,t,a){"use strict";var n=i(a("fZjL")),r=i(a("C4MV")),o=i(a("woOf"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=u(a("GHKy")),c=u(a("BYKG"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,a){return t in e?(0,r.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={load:!0,data:"",from:"",md5:"",address:{id:"",data:"",name:""},identify:{id:"",data:"",needId:"",name:"",has:!0},mode:"",buyType:0,agree:!0,invoiceReady:!1,invoice:{enabled:!1,status:!1,tip:!1,text:"个人-普通",type:"NORMAL",action:1,name:"个人"},disTop:0,invoiceItem:"",buyMessage:{},shopIdArr:[],showOffline:!1,couponShow:!1,totalShow:!1,redPacketShow:!1,invoiceItemShow:!1,couponList:{num:0,list:""},couponSelect:{code:"",limit:"",desc:""},redPacketList:{num:0,list:"",all:""},payType:{show:!1,type:"online"},prompt:{show:!1,msg:""},errorPage:!1,emptyAddress:!1,diffNameModal:!1,alterationModal:!1,invoiceModal:!1,redSelectModal:{show:!1,msg:""}};function f(e,t,a){var r={list:[],all:t=t||[],num:0,limit:a},o={Internal:0,Normal:0,Virtual:0};return e&&e.length&&e.forEach(function(e){var t={},a=e.object;e.exchange&&(a=a.concat(e.exchange)),a.forEach(function(e,a){if("zero_buy"!==e.obj_type&&!e.no_store&&e.good_type in o){var r=e.promotion&&e.promotion.promotion_price?e.promotion.promotion_price:e.marks&&e.marks.business&&(0,n.default)(e.marks.business.rules)[0]<=e.quantity?e.marks.business.sell_price:e.price;r*=e.quantity,t[e.cart_id]={price:r,type:e.good_type}}}),e.repo_group.length&&e.repo_group.forEach(function(e){e.items.length&&e.items.forEach(function(e){t[e.cart_id].price+=+e.total_dlyfee,t[e.cart_id].price+=+e.total_tax,t[e.cart_id].price-=+e.total_discount_coupon_platform,t[e.cart_id].price-=+e.total_discount_coupon_shop,t[e.cart_id].price-=+e.total_discount_promotion})}),(0,n.default)(t).forEach(function(e,a){o[t[e].type]+=t[e].price})}),console.log(o),t.forEach(function(e){var t=0,a=e.rules.used_item_type;"all"===a?t=o.Internal+o.Normal+o.Virtual:t=a.split(",").reduce(function(e,t){return e+o[t]},0);t>e.deduct_money&&r.list.push(e)}),r.num=r.list.length,r}var m={typeToStr:{NORMAL:"普通",ELEC:"电子"}};function h(e,t,a,n,r){var o=c.default.fromJS(e);return(o=(o=(o=(o=o.setIn(["invoice","type"],t)).setIn(["invoice","action"],a)).setIn(["invoice","text"],function(e,t,a){return"VAT"===e?a+"-增值税":t+"-"+m.typeToStr[e]}(t,n,r))).setIn(["invoice","name"],n)).toJS()}t.default=(0,s.default)("orderConfirm",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case"resetState":return p;case"initialData":return function(e,t,a,n){var r=c.default.fromJS(e);if(r=r.set("load",!1),a&&(r=r.set("mode",a)),n&&(r=r.set("buyType",Number(n)?1:0)),t.md5CartInfo&&(r=r.set("md5",t.md5CartInfo)),t.shop_ids&&t.shop_ids.length&&(r=r.set("shopIdArr",t.shop_ids)),(r=r.set("showOffline",t.showOffline)).get("invoiceReady")||(r=(r=(r=r.set("invoiceReady",!0)).set("invoiceItem",t.disabled_invoice_items)).setIn(["invoice","enabled"],!!t.invoice_enabled)),r=r.set("data",t.order),t.order.addressInfo&&(r=r.set("address",{id:t.order.addressInfo.addr_id,data:t.order.addressInfo,name:t.order.addressInfo.name})),r=r.setIn(["identify","needId"],t.order.isNeedCard),t.order.isNeedCard&&t.idCard&&t.idCard.data&&t.idCard.data.length){var o=void 0;t.idCard.data.some(function(e,a){return t.idCard.defaultCardId===e.card_id&&(o=e,!0)}),o&&(r=r.set("identify",{needId:t.order.isNeedCard,id:o.card_id,name:o.name,data:o,has:!0}))}return r.toJS()}(e,t.result,t.mode,t.buyType);case"addMessage":return l({},e,{buyMessage:l({},e.buyMessage,d({},t.id,t.value))});case"couponData":return function(e,t){var a={list:t.data.coupons?t.data.coupons:[],num:t.data.coupons?t.data.coupons.length:0},n=f(e.data.cart,t.data.redPackets,+t.data.packet_limit_num);return l({},e,{couponList:a,redPacketList:n})}(e,t.result);case"couponPopup":return l({},e,{couponShow:t.status});case"selectCoupon":return l({},e,{couponSelect:t.coupon,couponShow:!1});case"resetCoupon":return l({},e,{couponSelect:{code:"",limit:"",desc:""}});case"paymentPopup":return l({},e,{payType:l({},e.payType,{show:t.status})});case"paymentSelect":return l({},e,{payType:{show:!1,type:t.status}});case"totalPopup":return l({},e,{totalShow:t.status});case"redPacketPopup":return l({},e,{redPacketShow:t.status});case"filterRed":return function(e,t){var a=c.default.fromJS(e);return(a=a.updateIn(["redPacketList","list"],function(e){return(e=e.toJS()).map(function(e,a){return t.used.indexOf(e.coupon_code)>-1?e.check=!0:e.check=!1,t.used.indexOf(e.coupon_code)>-1||t.unused.indexOf(e.coupon_code)>-1?e.disabled=!1:e.disabled=!0,e})})).toJS()}(e,t.data);case"redSelect":return function(e,t){var a=c.default.fromJS(e);return t.forEach(function(t){a=a.setIn(["redPacketList","list",t,"check"],!e.redPacketList.list[t].check)}),a.toJS()}(e,t.selectArr);case"redClear":return function(e){var t=c.default.fromJS(e);return(t=t.updateIn(["redPacketList","list"],function(e){return e.map(function(e){return e.set("check",!1)})})).toJS()}(e);case"resetRedPacket":return function(e){return l({},e,{redPacketList:f(e.data.cart,e.redPacketList.all,e.redPacketList.limit)})}(e);case"ctrlPrompt":return l({},e,{prompt:l({},t.prompt)});case"ctrlModal":return l({},e,d({},t.modal,t.status));case"invoiceModal":return l({},e,{invoiceModal:!1});case"redSelectModal":return l({},e,{redSelectModal:l({},t.modal)});case"setOrigin":return l({},e,{from:t.origin});case"saveTop":return l({},e,{disTop:t.value});case"selectIdentify":return function(e,t){var a=c.default.fromJS(e);return a=(a=a.setIn(["identify","id"],t.cardId)).setIn(["identify","name"],t.name),t.idnumber=t.idNumber,(a=a.setIn(["identify","data"],t)).toJS()}(e,t.data);case"selectAddress":return function(e,t){return t.area_string=t.provinceName+t.cityName+t.districtName,t.addr=t.address,t.mobile=t.phone,l({},e,{address:{id:t.addressId,data:t,name:t.name}})}(e,t.data);case"selectInvoice":return h(e,t.invoice,t.action,t.invoiceName,t.unitName);case"agreeChange":return l({},e,{agree:!e.agree});case"toggleInvoice":return function(e){var t=e.invoice;return t.status?(t=l({},t,{status:!t.status}),l({},e,{invoice:t})):(t=l({},t,{status:!t.status}),l({},e,{invoiceModal:!0,invoice:t}))}(e);case"equalName":return function(e){var t=c.default.fromJS(e),a=(t=t.set("diffNameModal",!1)).getIn(["identify","name"]);return(t=t.setIn(["address","name"],a)).toJS()}(e);default:return e}},p)},sReQ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAAAAACLqx7iAAADjElEQVR42u2aWY+rOBBG8///4Wgwq1lCdgh8tViaeSBbz72tkciNm047T5GIwuFU2VVlsaIFfVYB5ofBIJh5lZg3NYOwml4n5i3NgN7DDP40DIhCzrxQTGghfgwMgplXi3kzM/h6GCzSDBa2tBcDAwpmfOTx+5gBBTN+dr53MQMKZnzVytCQvzUMgpnv1HYuAAZhNXkV8/3N/CKGmXkRZkRVCACryrPxWz0jBqQydrvaFoWtNqdBlPFFZkAqfZvFcW7L0uaJSZuO9Rk7q9liwDo0Ji433UhEhH5XJ6bqn5Ez2wxED4mpO1ZlZmYWlfM6NhtReIPBlUXaKD+J8v0Cq55tVNFsmrmFUqSJKjh+zGYCOVlHBebSrGaJAWsb1aL4b7pCdBOVLPBpRg9RJb+7Jdi1UatezFzE6JhknwQDIqU5zQvUPDPSmKPD72Gh56Qgfj3MVUwfV/L5r1wbHWapmWVG208CgSlQQ1bOUjMHhod8uhnoQzUCq1yimPTqCUa7uNWJ5dxB7vWBup4ZBHeIdnPiNKdq684cFUQkhywtx2v2MDVpumEikiGtfYVJmvQsRCRDnttkfYXRfWyLtFMiprIY2QsMU1mAiUjOWVEm9Q1mG1ubnpSIuM4G8QODogQTEXGbJHl/C9Nok6QmJmKPMGNhpzXMfGjPgsuahoybHTEmmLN42fQYdgoTgdUJcNtg2E0rnbnyZYa4+d/nLnNPCQzdmqPeiwM5AUEeehsZs8rX0taTaeVhP94cmaRf99f7wx3MztcO/LH2aP+3VXbrv456lSVN7K0ckDTmdOsgmKqk+2fI8pEvMDqkFr7CRK4zldyCon2cba3Z39LItdHeXwtBXD82V3rMTboVxrW5SgsI+YKB9kk+Xh8epOPpLDztNxApZ/ZWsxvy7eMMALkN/WC3No3MO5SYeYwmUk2jyi8X3MbMHpxmD3FUmnp0HwdrkKPW5IOvIe6eNlRH+VEc3+c4Vu3LqBic5/GWCCKbxNQdqco09yuf17Fp4HHwf5wduzKOy20/jMA49PsqMfao8gVHItNh0bFMTZwV1hZ5EiV2R45AX2Bm6meo3zeVLQpb1tseKs/83dPvQrAqE8YRNH37ShgiTCevf+TsNbw/81NgLtV6ETALe08PCwvTghIYC3qhHWFpB5gAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgPl2MP8CbjMaFltYhkIAAAAASUVORK5CYII="},thos:function(e,t){e.exports="data:image/png;base64,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"},uaqS:function(e,t,a){"use strict";var n=i(a("fZjL")),r=i(a("woOf")),o=i(a("C4MV"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Prompt=t.Modal=void 0;var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=d(a("U7vG")),u=d(a("O27J"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Modal=function e(t){var a=this;p(this,e),this.show=function(e){return u.default.render(c.default.createElement(a.component,s({},e,{destroy:a.destroy})),a.node),document.body.appendChild(a.node),a.isMount=!0,a.node},this.destroy=function(){a.isMount&&(u.default.unmountComponentAtNode(a.node),document.body.removeChild(a.node),a.isMount=!1)},this.component=t,this.isMount=!1,this.node=document.createElement("div")};var f=0;t.Prompt=function(){function e(t){var a=this;p(this,e),this._destroy=function(e){e in a.promptManage&&(u.default.unmountComponentAtNode(a.promptManage[e]),document.body.removeChild(a.promptManage[e]),delete a.promptManage[e])},this.destroy=function(){var e=(0,n.default)(a.promptManage);e.length&&e.forEach(function(e){u.default.unmountComponentAtNode(a.promptManage[e]),document.body.removeChild(a.promptManage[e]),delete a.promptManage[e]})},this.component=t,this.promptManage={}}return l(e,[{key:"show",value:function(e){var t=document.createElement("div"),a=++f;console.log(this.promptManage),u.default.render(c.default.createElement(this.component,s({},e,{destroy:this._destroy.bind(this,"prompt_"+a)})),t),document.body.appendChild(t),this.promptManage["prompt_"+a]=t}}]),e}()},w9wd:function(e,t,a){},wNpY:function(e,t,a){},ySZt:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=p(u);p(a("O27J"));function p(e){return e&&e.__esModule?e:{default:e}}a("8tH3");var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentWillMount",value:function(){document.title="服务协议"}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"service-contract"},d.default.createElement("div",{dangerouslySetInnerHTML:{__html:'<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px;">进口个人委托申报协议</span></strong></span></p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">本人承诺所购买商品系个人合理自用，针对保税区发货的各种商品，现委托商家代理申报，代缴税款等通关事宜，本人保证遵守《海关法》和国家相关法律法规，保证所提供的身份信息和收货信息真实完整，无侵犯他人权益的行为，以上委托关系如实填写，本人愿意接受海关、检验检疫机构及其他监管部门的监管，并承担相应法律责任。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px; font-family: 微软雅黑;">泰然城用户协议</span></strong></span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">欢迎加入泰然城，开始您的幸福购物之旅！</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">感谢您使用我们的服务。泰然城的各项服务由泰然城电子商务有限公司提供，服务所有权和运营权属于泰然城电子商务有限公司（泰然城平台包括泰然城网站www.tairanmall.com和客户端），以下称为“泰然城”或“本站”。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><span style="font-size: 14px;">泰然城在此特别提醒用户，《泰然城用户协议》（以下简称“本协议”）为您与泰然城平台经营者者之间所订立的契约，具有合同的法律效力。</span><strong><span style="font-size: 14px;">您在使用泰然城提供的各项服务之前，应仔细阅读本协议的各项条款，特别是加粗的涉及您核心利益的条款、免除或者限制责任的条款、法律适用和争议解决条款。</span></strong><span style="font-size: 14px;">您一旦使用泰然城服务，即视为您已了解并完全同意本协议各项内容，包括泰然城对本协议随时所做的任何修改，并成为泰然城用户（以下简称“您”或“用户”）。 届时您不应以未阅读本协议的内容为理由，主张本协议无效，或要求撤销本协议。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 14px;"></span></strong></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">一、服务内容</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户注册成功后，即成为泰然城的会员，可享受泰然城为您提供的服务，可以在泰然城上进行购物、订单查询、参加各项优惠活动、发表产品评论等。请记住您的注册手机号，它是您在泰然城的唯一识别，您的任何投诉、问题、购买记录，均采用这个注册手机号处理。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户必须自行准备如下设备和承担如下开支：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1上网设备，包括并不限于电脑或者其他上网终端、调制解调器及其他必备的上网装置；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2上网开支，包括并不限于网络接入费、上网设备租用费、手机流量费等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.泰然城有权不断更改和改进服务，包括增加、删除某项服务，或暂停、彻底停止某项服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">二、用户注册及使用规则</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.注册资格</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">用户须为具有法定的相应权利能力和行为能力的自然、法人或其他组织，能够独立承担法律责任，如用户不具备前述与用户行为相适应的民事行为能力，则用户及用户的监护人应依照法律规定承担因此而导致的一切后果。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.个人信息</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1 用户同意泰然城为提供更好的服务，向您搜集姓名/名称、地址、手机号码等个人信息，泰然城将搜集的前述信息用于精准服务和相关的信息推送。用户同意其提供的注册资料真实、准确、完整、合法有效，用户个人信息如有变动的，应及时更新个人信息。泰然城有权通过征信机构、银行卡绑定等方式，对您提交的身份信息的真实性进行验证。如果用户提供的注册资料不合法、不真实、不准确、不详尽的，用户需承担因此引起的相应责任及后果，并且泰然城保留终止用户使用本平台各项服务的权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2 用户设置的会员名不得违反国家法律法规的规定以及侵犯或涉嫌侵犯他人合法权益。泰然城有权对用户名等用户注册信息进行审核并向用户反馈注册结果，只有经泰然城审核同意并反馈确认的才成为泰然城的用户，并享有泰然城提供的各项服务。否则，泰然城有权终止向用户提供泰然城平台服务，注销账户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3 用户在本站进行浏览、下单购物等活动时，涉及用户真实姓名/名称、通信地址、联系电话等隐私信息的，本站将予以严格保密，除非得到用户的授权或法律另有规定，本站不会向外界披露用户隐私信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.账户</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.1 用户注册成功后，将产生泰然城用户名和密码等账户信息，用户可以根据本站规定改变密码。用户应谨慎合理的保存、使用用户名和密码。如账户因您主动泄露或遭受他人诈骗等行为导致的损失及后果，均由您自行承担，如用户账号遭受他人攻击而导致损失的，泰然城网和用户将根据双方的过错依法承担相应的责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.2 您确认并同意，在您的账户登录状态下进行的所有操作均视为您本人的操作，您应对您账户项下的所有行为结果（包括但不限于在线签署各类协议、发布信息、购买商品及服务及披露信息等）负责。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.3 用户不得将在本站注册获得的账户借给他人使用，否则用户应承担由此产生的全部责任，并与实际使用人承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.使用规则</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1 用户在使用泰然城服务过程中实施的所有行为均应遵守中华人民共和国法律、法规等规范性文件及泰然城各项规则的规定和要求，不违背社会公共利益或公共道德，不损害他人的合法权益，不违反本协议及相关规则。如果违反前述承诺，产生任何法律后果的，用户应以自己的名义独立承担所有的法律责任，并确保泰然城免于因此遭受任何损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2 用户确认并同意，泰然城有权在提前通过网络公示等方式对平台服务规则进行修改，用户应当在指定时间之内对相关服务规则的修改进行回复。用户未对相关修改进行反馈意见的情况下即视为同意上述修改。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.3 用户应该严格遵守泰然城的一切规则，不得出现恶意注册、恶意点评、恶意退款、恶意骗取积分等违规行为，一经发现，泰然城有权取消用户资格，并追回已经发放的全部积分，同时该用户必须承担由此给泰然城带来的所有损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.4 用户同意，泰然城拥有通过邮件、短信、电话，以及客户端推送等形式，向在本站注册、购物用户、收货人发送促销活动等告知信息的权利，泰然城将给予用户退订的权利，用户如不同意接收前述信息，可以通过前述信息中退订途径进行退订。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.5 用户了解并同意，泰然城有权应国家司法、行政等主管部门的要求，向其提供您在泰然城平台填写的注册信息和交易记录等必要信息。如您涉嫌侵犯他人知识产权，则泰然城亦有权在初步判断涉嫌侵权行为存在的情况下，向权利人提供您必要的身份信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.6 用户同意，泰然城有权使用用户的注册信息、用户名、密码等信息，登录进入用户的注册账户，进行证据保全，包括但不限于公证、见证等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.7 泰然城用户账号如果一年内无登录记录，将被视为休眠账户作冻结处理；超过两年无登录记录，泰然城有权注销该账号。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.8 对于被泰然城暂时停止或者永久停止账号的用户，泰然城将不再向该用户提供服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.9 为便于或更好的提供服务，用户同意并授权泰然城将用户在注册、使用本站过程中提供、形成的信息传递给泰然城关联公司（关联公司指泰然城电子商务有限公司下分子公司、孙公司）或本站卖方，用于泰然城的产品/服务包含的核心业务或附加功能上，这些功能包含了网上购物所必须的功能、改进泰然城平台上的产品与/或服务功能、保障交易安全所必须的功能，以及为精准服务用户而在泰然城圈儿、社区、早教、亲子等板块使用。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.授权使用</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1 对于用户在注册和使用泰然城过程中提供的资料及数据信息，用户授权泰然城及其关联公司独家的、全球通用的、永久的、免费的许可使用权利（包括再授权），用途包括但不限于网站、电子杂志、杂志、刊物等。泰然城及其关联公司有权使用、复制、编辑、改写等方式处理并展示用户的数据资料。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您同意可以使用本站的账户信息在与本站合作的第三方网站进行注册、登录和账户绑定操作，届时您应按照第三方网站的相关协议与规则使用第三方网站，而不是按照本协议。</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">第三方网站的内容、产品、广告和其他任何信息均由您自行判断并承担风险，而与本站无关。</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">三、用户依法言行义务</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议依据国家相关法律法规规章制定，用户同意在注册账户和使用泰然城期间，严格遵守以下义务：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.1 不得传输或发表：煽动抗拒、破坏宪法和法律、行政法规实施的言论，煽动颠覆国家政权，推翻社会主义制度的言论，煽动分裂国家、破坏国家统一的的言论，煽动民族仇恨、民族歧视、破坏民族团结的言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.2 不得利用本站从事洗钱、窃取商业秘密、窃取个人信息等违法犯罪活动；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.3 不得干扰本站的正常运转，不得侵入本站及国家计算机信息系统；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.4 不得传输或发表任何违法犯罪的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的，淫秽的、不文明的等信息资料；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.5 不得传输或发表损害国家社会公共利益和涉及国家安全的信息资料或言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.6 不得教唆他人从事本条所禁止的行为；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.7 不得发布任何侵犯他人著作权、商标权等知识产权或合法权利的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.8 不得发布任何泰然城认为不适合在泰然城展示的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户应不时关注并遵守本站不时公布或修改的各类合法规则规定。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本站保有删除站内各类不符合法律政策或不真实的信息内容的权利，并予以通知用户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.若用户未遵守以上规定的，本站有权作出独立判断并采取暂停或关闭用户帐号等措施。用户须对自己在网上的言论和行为承担法律责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">四、订单</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.在本站购物的用户，请您仔细确认所购商品的名称、价格、数量、型号、规格、尺寸、联系地址、电话、收货人等信息。收货人与用户本人不一致的，收货人的行为和意思表示视为用户的行为和意思表示，用户应对收货人的行为及意思表示的法律后果承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2. </span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">除网站页面另有明确标示为自营商品外，泰然城应当被界定为本站买卖双方提供网络服务的第三方交易平台。在您与入驻商家发生的消费者权益纠纷、产品质量纠纷，均应由您先行与产品或服务的卖方解决。</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如无法解决的，您可申请泰然城客服介入调解，泰然城不承担卖方或买方的责任。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.除法律另有强制性规定外，双方约定如下：本站上展示的商品和价格等信息仅仅是要约邀请，您下单时须填写您希望购买的商品数量、价款及支付方式、收货人、联系方式、收货地址等内容；系统生成的订单信息是计算机信息系统根据您填写的内容自动生成的数据，仅是您向品牌合作商发出的合同要约；</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">本站卖方收到您的订单信息后，只有将您在订单中订购的商品从仓库实际直接向您发出时，方视为您与卖方之间就实际直接向您发出的商品建立了合同关系；</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如果您在一份订单里订购了多种商品并且本站卖方只给您发出了部分商品时，您与本站卖方之间仅就实际直接向您发出的商品建立了合同关系；只有在本站卖方实际直接向您发出了订单中订购的其他商品时，您和本站卖方之间就订单中该其他已实际直接向您发出的商品才成立合同关系。您可以随时登录您在本站注册的账户，查询您的订单状态。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您了解并同意，本平台上的商品、价格、数量、是否有货等商品信息随时可能发生变动，本站不作特别通知。您接受本平台在发现网页拼写错误或系统问题导致的展示错误，正式向您发出通知后，对商品信息进行调整，订单按照正确的信息执行，或取消订单，同时若用户违反泰然城交易规则，平台管理者有权关闭或拒绝您的交易订单，泰然城承诺不滥用该条款的权利，不故意利用该条款损害用户合法权益。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城、关联公司或本站卖方将会把商品（货物）送到您所指定的收货地址。您了解本平台所提示的送货时间供参考，实际送货会与参考时间略有差异。平台管理者和所有者或其关联公司不对因您及收货人原因导致无法送货或延迟送货承担责任。若发生不可抗力或其他正当合理理由导致发货延迟的，您将给予充分理解。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">因如下情况造成订单延迟或无法配送等，泰然城或本站卖方不承担延迟配送的责任：</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.1 用户提供的信息错误、地址不详细等原因导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.2 货物送达后无人签收，导致无法配送或延迟配送的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.3 情势变更因素导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.4 不可抗力因素导致的，例如：自然灾害、交通戒严、突发战争等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">五、责任限制</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">1.除泰然城在本协议中规定的其它限制之外，在中国（“中国”指中华人民共和国，为本协议之目的不包括香港和澳门特别行政区以及台湾省）法律法规所允许的限度内，对于因用户使用服务而引起的或与之有关的任何直接的、间接的、特殊的、附带的、后果性的或惩罚性的损害，或任何其它性质的损害，泰然城、泰然城的董事、管理人员、雇员、代理或其它代表在任何情况下都不承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">2.泰然城不对本站所涉及的技术及信息的有效性、准确性、可靠性、稳定性和及时性作出任何承诺和保证。如因不可抗力或其它本站无法控制的原因使本站系统崩溃或无法正常使用导致本平台不能服务或延迟服务、丢失数据信息、记录的，泰然城不承担责任，但泰然城将协助处理相关事宜。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.除标有“自营”商品外，用户应理解泰然城平台上销售的商品和相关信息由入驻商家提供和发布；由于泰然城不参与也无法核实商品/服务的交易，对于商品/服务的质量、安全及合法性、真实性、准确性，用户应谨慎判断。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">4.除商品被标有“自营”字样外，用户理解泰然城上发布的商品及相关的图片、文字等信息均由入驻泰然城的卖方所提供，泰然城不对该信息所涉及的知识产权承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.用户有责任切实维护自身持有的银行卡及资金安全，应当采取一切措施避免银行卡及身份信息被泄露。如您银行卡内资金有未经您许可的被盗刷、资金损失等行为，请您主动联系您的开户银行，或者就上述违法行为向公安机关报案。泰然城不承担经系统识别的您卡内资金划转及损失。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">六、协议修改</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.泰然城有权不定时修改本协议及/或各类规则。所有修改的适用不具有追溯力，且会在网站进行公示，修改后的协议或规则将在公示后立即生效。如果用户不同意服务的修改条款或规则，应停止使用服务。如用户继续使用服务，则视为同意。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果本协议条款与附加条款有冲突，以附加条款为准。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">七、违约赔偿</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户同意保障和维护泰然城及其他用户的利益，如因用户违反有关法律、法规或本协议项下的任何条款而给泰然城或任何其他第三人造成损失，用户同意承担由此造成的损害赔偿责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果用户不遵守本协议，且泰然城未立即采取行动，并不意味泰然城放弃可能享有的任何权利或在将来采取行动。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.如用户涉嫌违反有关法律或者本协议之规定，使泰然城遭受任何损失，或受到任何第三方的索赔，或受到任何行政管理部门的处罚，用户应当赔偿泰然城因此造成的损失及（或）发生的费用，包括合理的律师费用。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">八、协议终止</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.您了解并同意，泰然城有权在您的账户存在风险交易的情况下中止、终止向您提供部分或全部泰然城平台服务，暂时冻结或永久冻结（注销）您的账户，且无须为此向您或任何第三方承担任何责任，如出现依法律或本协议及/或泰然城平台规则规定的您违约的情形时，泰然城网可以有权通知您解除本协议，并中止、终止向您提供部分或全部平台服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.出现以下情况时，泰然城有权直接以注销账户的方式终止本协议:</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1泰然城终止向您提供服务后，您涉嫌再一次直接或间接或以他人名义注册为泰然城用户的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2您注册信息中的主要内容不真实或不准确或不及时或不完整。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3本协议（含本协议的修改、附加条款及泰然城各项规则）变更时，您明示并通知泰然城不愿接受新的服务协议的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.4在您的账户内存在或发现有盗卡、信用卡套现、洗钱等违法违规行为或风险时；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.5其它泰然城认为应当终止服务的情况。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您有权向泰然城要求注销您的账户，经泰然城审核同意的，泰然城注销（永久冻结）您的账户，届时，您与泰然城基于本协议的合同关系即终止。您的账户被注销（永久冻结）后，泰然城没有义务为您保留或向您披露您账户中的任何信息，也没有义务向您或第三方转发任何您未曾阅读或发送过的信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您同意，您与泰然城的合同关系终止后，泰然城仍享有下列权利：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1继续保存您的注册信息及您使用泰然城平台服务期间的所有交易信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2您在使用泰然城平台服务期间存在违法行为或违反本协议和/或规则的行为的，泰然城仍可依据本协议向您主张权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城中止或终止向您提供泰然城平台服务后，对于您在服务中止或终止之前的交易行为依下列原则处理，您应独立处理并完全承担进行以下处理所产生的任何争议、损失或增加的任何费用，并应确保泰然城免于因此产生任何损失或承担任何费用：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1您在服务中止或终止之前已经上传至泰然城平台的物品尚未交易的，泰然城有权在中止或终止服务的同时删除此项物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您在服务中止或终止之前已经与本站卖方达成买卖合同，但合同尚未实际履行的，泰然城有权删除该买卖合同及其交易物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.3您在服务中止或终止之前已经与本站卖方达成买卖合同且已部分履行的，泰然城可以不删除该项交易，但泰然城有权在中止或终止服务的同时将相关情形通知您的交易卖方。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">九、法律管辖和适用</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议的订立、执行和解释及争议的解决均应适用中国法律。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如发生本协议与中国法律相抵触时，则这些条款将完全按法律规定重新解释，而其它合法条款则依旧保持对用户产生法律效力和影响。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本协议的规定是可分割的，如本协议任何规定被裁定为无效或不可执行，该规定可被删除而其余条款应予以执行。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.为维护用户在本平台交易过程中的权利义务，您同意泰然城有权先行裁决您与泰然城本站卖方的消费争议，并执行泰然城的裁决结果。如您对泰然城裁决结果不满意或有异议，您有权将争议提交司法机构。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.如泰然城与用户双方就本协议内容或其执行发生任何争议，双方应尽力友好协商解决；协商不成时，任何一方均可向被告所在地法院提起诉讼。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">十、其他</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议构成双方对本协议之约定事项及其他有关事宜的完整协议，除本协议规定的之外，未赋予本协议各方其他权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.本协议中的标题仅为方便而设，不作为对标题下条款的解释。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255);">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您注册为泰然城的会员即视为您完全接受本协议，在注册之前请您再次确认已知悉并完全理解本协议的全部内容。</span>\n</p>'}}))}}]),t}();t.default=f},ybQ1:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=f(u),p=f(a("mtWM"));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.phoneHandle=function(e){a.phone=e.target.value},a.pwHandle=function(e){a.pw=e.target.value},a.submitHandle=function(){""!==a.phone&&11===a.phone.length&&""!==a.pw?p.default.request({url:"/account/user/login",method:"post",headers:{domain:".tairanmall.com"},data:"phone="+a.phone+"&password="+a.pw}).then(function(e){alert("登录成功"),window.history.back()}).catch(function(e){alert("登录失败")}):alert("账号密码不正确")},a.resetPW=function(){p.default.request({url:"/account/user/reset/password/login_password",method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"phone="+a.phone+"&newPassword="+a.pw+"&smsCode=1311&type=thw_sms_dlmm"}).then(function(e){alert("重置成功")}).catch(function(e){})},a.registerAccount=function(){p.default.request({url:"/account/user/register",method:"post",data:"phone="+a.phone+"&password="+a.pw+"&smsCode=1311"}).then(function(e){alert("注册成功")})},a.phone="",a.pw="",a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentWillMount",value:function(){window.location.replace("https://m.tairanmall.com/")}},{key:"unBindWeixin",value:function(){p.default.request({url:"/account/user/oauth/bind/weixin",method:"delete"}).then(function(e){alert("解绑成功")})}},{key:"loginOut",value:function(){p.default.request({url:"/account/user/logout",method:"post"}).then(function(e){alert("退出成功")})}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4"}},d.default.createElement("div",{style:{textIndent:"20px",fontSize:"18px",color:"blue"}},"登录"),d.default.createElement("br",null),d.default.createElement("div",null,"手机号：",d.default.createElement("input",{type:"text",placeholder:"请输入手机号",onInput:this.phoneHandle})),d.default.createElement("br",null),d.default.createElement("div",null,"密码：",d.default.createElement("input",{type:"password",placeholder:"请输入密码",onInput:this.pwHandle})),d.default.createElement("br",null)),d.default.createElement("div",null,d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.submitHandle},"登录")),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.resetPW},"重置密码")),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.registerAccount},"注册账号"))))}}]),t}();t.default=m},yxlI:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=k(p),m=a("Zfgq"),h=a("4n+p"),g=k(a("fw66")),v=a("d2xe"),y=k(a("qAHI")),E=a("f2t5"),b=a("2uFj"),_=a("f2Hk"),x=a("NUeF");function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var C={submit:{url:b.MALLAPI+"/user/sold/apply",method:"post"},soldorder:{url:b.MALLAPI+"/user/sold/goods-order",method:"get"}},S=(0,_.concatPageAndType)("afterSaleApply"),T=(0,_.concatPageAndType)("popup"),M=(0,_.actionAxios)("afterSaleApply"),I={restore:{0:"请选择",1:"商品与描述不符",2:"商品错发漏发",3:"收到商品破损",4:"商品质量问题",5:"个人原因退货",6:"其他"},refund:{0:"请选择",1:"商品与描述不符",2:"商品错发漏发",3:"收到商品破损",4:"商品质量问题",5:"个人原因退货",6:"未收到货",7:"商品问题已拒签",8:"退运费",9:"其他"}},O=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"componentWillMount",value:function(){document.title="售后申请单",window.location="jsbridge://set_title?title=售后申请单",!1,this.props.resetData();var e=this.props.dispatch,t=this.props.location.query.tid;e(M("getData",u({},C.soldorder,{params:{order_good_no:t}})))}},{key:"componentWillUnmount",value:function(){this.props.resetData()}},{key:"render",value:function(){var e=this.props,t=e.tid,a=e.refund,n=e.listType,r=e.typeChange,o=e.load,i=e.reason,l=e.reasonChange,s=(e.moneyChange,e.data),c=e.ctrlPopup,u=e.dispatch,d=e.describeChange,p=e.applySubmit,m=e.hidePopup,h=e.popup,g=e.popupShow,y=s.payment,E=s.is_gift;return f.default.createElement("div",{"data-page":"after-sale-apply"},o?f.default.createElement(v.LoadingRound,null):f.default.createElement("form",{id:"applyForm"},f.default.createElement("input",{type:"hidden",name:"order_good_no",value:t}),f.default.createElement(D,{refund:a,typeChange:r,listType:n,reason:i,reasonChange:l}),f.default.createElement(L,{payment:y,refund:a,ctrlPopup:c,listType:n,reason:i,data:s,dispatch:u,is_gift:E}),f.default.createElement(P,{changeHandle:d}),f.default.createElement(H,{dispatch:u}),f.default.createElement(z,{submitHandle:p}),f.default.createElement(B,{popup:h,listData:x.popupData[h],listType:n,reason:i,hidePopup:m,show:g,reasonChange:l,typeChange:r})))}}]),t}(),D=function(t){function a(){var t,r,o;A(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=w(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.checkAftertype=function(t){var a=o.props,n=a.typeChange,r=a.reasonChange,i=a.refund;"退货退款"==e(t.target).text()&&1==i||(!e(t.target).hasClass("current-yesround")&&r(0),e(t.target).addClass("current-yesround").siblings().removeClass("current-yesround"),n(e(t.target).attr("data-type")))},w(o,r)}return N(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.refund,n=t.typeChange;1==a&&(n("refund"),e(".current-noround").addClass("current-yesround"))}},{key:"render",value:function(){var e=this,t=void 0;return t=0==this.props.refund?x.popupData.type.list:x.popupData.type.onlylist,f.default.createElement("section",{className:"apply-section"},f.default.createElement("div",{className:"type-container"},f.default.createElement("div",null,"售后类型"),f.default.createElement("div",{className:"after-type"},t.map(function(t,a){return f.default.createElement("i",{key:t.select,"data-type":t.select,className:"current-noround",onClick:function(t){e.checkAftertype(t)}},t.method)}))))}}]),a}(),L=function(t){function r(t){A(this,r);var a=w(this,(r.__proto__||(0,n.default)(r)).call(this,t));return a.changeAmout=function(t){var n=t.target.value,r=a.props.dispatch;a.setState({num:(n.match(/^(\d)*\.?\d*$/)||[""])[0]},function(){r(S("changeMoney",{money:e("#logiCode").val()}))})},a.state={num:a.props.payment},a}return N(r,p.Component),d(r,[{key:"render",value:function(){var e=this,t=this.props,n=t.refund,r=t.ctrlPopup,o=t.reason,i=t.listType,l=t.data,s=l.num,c=l.primary_image,u=l.spec_nature_info,d=l.title,p=l.payment,h=l.freight,g=l.is_gift;return f.default.createElement("section",{className:"apply-section"},f.default.createElement("div",{className:"list-body"},f.default.createElement("div",{className:"list-img"},f.default.createElement(m.Link,null,f.default.createElement("img",{src:c?(0,E.addImageSuffix)(c,"_s"):a("VM8K")}))),f.default.createElement("div",{className:"list-body-ctt"},f.default.createElement("div",{className:"order-info-detail"},f.default.createElement("div",{className:"order-info-top"},f.default.createElement(m.Link,{className:"order-info-title"},d),f.default.createElement("div",{className:"info-price"},f.default.createElement("div",{className:"order-info-type"},u),f.default.createElement("div",{className:"right"},"×",s)))))),f.default.createElement("div",null,f.default.createElement("div",{className:"logic logic-company"},f.default.createElement("span",null,"退款原因："),f.default.createElement("input",{type:"text",placeholder:"请选择",maxLength:"20",value:"SELECT"===i?"请选择":I[i][o],disabled:!0}),f.default.createElement("span",{onClick:r.bind(null,"reason",!0)},f.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10"}))),f.default.createElement("div",{className:"logic logic-order"},f.default.createElement("span",null,"退款金额：￥"),f.default.createElement("input",{type:"text",id:"logiCode",readOnly:1==n||g,value:this.state.num,onChange:function(t){e.changeAmout(t)},placeholder:"最多可退￥"+p+"元",maxLength:"9",name:"amount"})),f.default.createElement("div",{className:"limit-money"},"最多可退￥"+p+"元","含运费￥"+h)))}}]),r}();t.default=(0,h.connect)(function(e,t){return u({},e.popup,e.afterSaleApply)},function(e,t){var a=t.location.query,n=a.tid,r=a.refund;return{dispatch:e,resetData:function(){e(S("resetData",{query:{tid:n,listType:(Number(r),"SELECT"),refund:void 0!==r?Number(r):""}}))},moneyChange:function(t){e(S("changeMoney",{money:t.target.value.trim()}))},describeChange:function(t){e(S("changeDescribe",{description:t.target.value.trim()}))},ctrlPopup:function(t,a){e("reason"===t?function(e,n){"SELECT"===n().afterSaleApply.listType?g.default.MsgTip({msg:"请选择售后类型"}):e(S("ctrlPopup",{popup:t,show:a}))}:S("ctrlPopup",{popup:t,show:a}))},reasonChange:function(t){e(S("reasonChange",{reason:t}))},typeChange:function(t,a){e(S("typeChange",{listType:t,reasonList:a}))},hidePopup:function(){e(S("hidePopup",{show:!1}))},promptClose:function(){e(T("ctrlPrompt",{prompt:{show:!1,msg:""}}))}}},function(e,t,a){var n=!1;return t.dispatch,u({},e,t,a,{applySubmit:function(){if(!n)if("SELECT"!==e.listType)if(0!=e.reason)if(/^(\d)*\.?\d*$/.test(e.money)&&e.money)if(parseFloat(e.money)>parseFloat(e.paymentLarg))g.default.MsgTip({msg:"超出最多可退金额"});else{if(e.data.is_gift){if(parseFloat(e.money)<0)return void g.default.MsgTip({msg:"退款金额不能小于0.00"})}else if(parseFloat(e.money)<.01)return void g.default.MsgTip({msg:"退款金额不能小于0.01"});n=!0,y.default.request(u({},C.submit,{data:{order_good_no:e.tid,type:e.listType,reason:I[e.listType][e.reason],amount:e.money,remark:e.description,images:e.subArr}})).then(function(e){g.default.MsgTip({msg:"申请成功"}),setTimeout(function(){m.browserHistory.replace("/afterSale/list")},1e3)}).catch(function(e){throw g.default.MsgTip({msg:e.response.data.message||"网络繁忙！"}),n=!1,new Error(e)})}else g.default.MsgTip({msg:"请输入正确的退款金额"});else g.default.MsgTip({msg:"请选择退款原因"});else g.default.MsgTip({msg:"请选择售后类型"})}})})(O);var P=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"apply-section"},f.default.createElement("section",{className:"apply-detail"},f.default.createElement("h3",null,"详细说明"),f.default.createElement("div",{className:"area"},f.default.createElement("textarea",{name:"remark",placeholder:"最多200字",maxLength:"200",onBlur:this.props.changeHandle}))))}}]),t}(),H=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("section",{className:"apply-section"},f.default.createElement("div",{className:"apply-detail"},f.default.createElement("h3",null,"申请凭证"),f.default.createElement(R,{maxLength:3,inputName:"evidence_pic[]",dispatch:this.props.dispatch})))}}]),t}(),R=function(e){function t(e){A(this,t);var a=w(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.choosePhoto=function(e){a.selectIndex=e;var t="jsbridge://choosePic?maxSize=2000&size=0&crop=false&postUrl="+window.btoa("https://appapi.tairanmall.com/image/upload?from=user&type=aftersales");window.location=t},a.changePhoto=function(e){var t=a.props.dispatch,n=a.state.imgArr;a.selectIndex>=n.length?n.push(e):n[a.selectIndex]=e,a.setState({imgArr:n},function(){t(S("setsubImgArr",{subArr:n}))})},a.deletePhoto=function(e){var t=a.state.imgArr,n=a.props.dispatch;t.splice(e,1),a.setState({imgArr:t},function(){n(S("setsubImgArr",{subArr:t}))})},a.state={imgArr:[]},a.maxLength=e.maxLength||3,a.selectIndex=0,a.inputName=a.props.inputName,a}return N(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;window.onImageSelected=function(t){var a=t;e.changePhoto(a)}}},{key:"componentWillUnmount",value:function(){window.onImageSelected=null}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"multi-img-choose c-clrfix"},this.state.imgArr.map(function(t,a){return f.default.createElement("div",{className:"photo",key:a},f.default.createElement("img",{src:t,onClick:function(t){return e.choosePhoto(a)}}),f.default.createElement("input",{type:"hidden",class:"subimgArr",name:e.inputName,value:t}),f.default.createElement("i",{className:"red-delete-icon",onClick:function(t){return e.deletePhoto(a)}}," "))}),this.state.imgArr.length<this.maxLength&&f.default.createElement("div",{className:"photo",onClick:function(t){return e.choosePhoto(e.state.imgArr.length)}},f.default.createElement("img",{src:"/src/img/afterSale/voucher-img.png"})))}}]),t}(),z=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"btm-btn colour-btn",onClick:this.props.submitHandle},"提交申请")}}]),t}(),B=function(e){function t(){return A(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.listData,n=t.popup,r=t.listType,o=t.reason,i=t.show,l="";return"reason"===n&&(l=a.list[r].map(function(t,a){return f.default.createElement("div",{className:"list",key:"reason-"+a,onClick:function(a){return e.props.reasonChange(t.select)}},f.default.createElement("div",{className:"one"},t.content),t.select==o&&f.default.createElement("i",{className:"current-yesround-icon"}," "))})),f.default.createElement("div",null,i&&f.default.createElement(v.Shady,{clickHandle:this.props.hidePopup}),f.default.createElement("div",{className:"total-popup "+(i?"active":"")},f.default.createElement("div",{className:"popup-top"},i&&a.title,f.default.createElement("i",{className:"black-close-icon",onClick:this.props.hidePopup}," ")),f.default.createElement("div",{className:"popup-body"},l)))}}]),t}()}).call(this,a("OOjC"))},zRnA:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(u=f)&&u.__esModule?u:{default:u},h=a("4n+p"),g=a("f2Hk"),v=a("d2xe"),y=a("2uFj"),E=a("NUeF");function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var k=(0,g.concatPageAndType)("consultrecord"),A=(0,g.actionAxios)("consultrecord"),w={init:{url:y.MALLAPI+"/user/sold/info",method:"get"}},N=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"componentWillMount",value:function(){this.props.resetData(),this.props.getData()}},{key:"render",value:function(){var e=this.props,t=e.load,a=e.data,n=a.type,r=a.status,o=a.updated_at;return m.default.createElement("div",{"data-page":"after-consult-record"},t?m.default.createElement(v.LoadingRound,null):m.default.createElement("div",null,m.default.createElement("h5",{className:"newest-info"},"最新消息来源于 ",o),70==r&&m.default.createElement(M,null),80==r&&m.default.createElement(I,null),20==n&&/20|30/.test(r)&&m.default.createElement(O,{data:a}),20==n&&/20|30|50/.test(r)&&m.default.createElement(T,{data:a}),70!=r&&10!=r&&m.default.createElement(S,{data:a}),m.default.createElement(D,{data:a}),m.default.createElement(C,{data:a})))}}]),t}(),C=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop.attr;e.goods_order;return m.default.createElement("div",null,m.default.createElement(v.CustomerService,{className:"save",shopAttr:t},m.default.createElement("button",{className:"btm-btn  colour-btn"},"联系客服")))}}]),t}(),S=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.type,n=e.refund_amount,r=e.nod_remark,o=e.delivery;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"商家"),10==a&&/20|30/.test(t)&&m.default.createElement("div",null,m.default.createElement("h3",null,"同意售后申请"),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",n)),/10|20/.test(a)&&10==t&&m.default.createElement("div",{className:"aftersale-text"},"待审核"),20==a&&/20|30|40|50|80/.test(t)&&!!o&&m.default.createElement("div",null,m.default.createElement("h3",null,"同意售后申请并给出回寄信息"),m.default.createElement("div",{className:"aftersale-text"},"收货人 ：",o.receiver.name),m.default.createElement("div",{className:"aftersale-text"},"联系电话 ：",o.receiver.mobile),m.default.createElement("div",{className:"aftersale-text"},"收货地址 ：",o.receiver.address)),60==t&&m.default.createElement("div",null,m.default.createElement("h3",null,"商家驳回售后申请")),r&&m.default.createElement("div",{className:"aftersale-text"},"商家留言 ：",r))}}]),t}(),T=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e.delivery,a=e.status,n=t.sender,r=n.corp_name,o=n.delivery_no;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"寄回商品"),/30|50|20/.test(a)&&m.default.createElement("div",null,m.default.createElement("div",{className:"aftersale-text"},"物流公司 ：",r),m.default.createElement("div",{className:"aftersale-text"},"物流单号 ：",o)))}}]),t}(),M=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"用户撤回售后申请"))}}]),t}(),I=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"用户超时填写物流"))}}]),t}(),O=function(e){function t(){return b(this,t),_(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data.refund_amount;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"商家"),m.default.createElement("h3",null,"收到货并操作退款"),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",e))}}]),t}(),D=function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showBigPicture=function(e){a.setState({imgSrc:e.target.src,bigShow:!0})},a.hideBigPicture=function(){a.setState({imgSrc:"",bigShow:!1})},a.state={imgSrc:"",bigShow:!1},a}return x(t,f.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.images,n=t.user_remark,r=t.reason,o=t.type,i=t.apply_amount,l=[];return a&&(l=a),m.default.createElement("div",{className:"common-container",style:{paddingBottom:"80px"}},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"发起售后申请"),m.default.createElement("div",{className:"aftersale-text"},"售后类型 ：",E.asTypes[o]),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",i),m.default.createElement("div",{className:"aftersale-text"},"退款原因 ：",r),n&&m.default.createElement("div",{className:"aftersale-text"},"详细说明：",n),a?m.default.createElement("div",{className:"img"},l.map(function(t,a){return m.default.createElement("img",{className:"img-voucher",src:t,key:a,width:"75",height:"75",onClick:e.showBigPicture})})):"",l&&this.state.bigShow?m.default.createElement("div",null,m.default.createElement(v.Shady,{clickHandle:this.hideBigPicture}),m.default.createElement("div",{onClick:this.hideBigPicture,className:"big-picture"},m.default.createElement("img",{src:this.state.imgSrc}))):"")}}]),t}();t.default=(0,h.connect)(function(e,t){return d({},e.consultrecord)},function(e,t){var a=t.location.query.oid;return{dispatch:e,getData:function(){e(A("getData",d({},w.init,{params:{after_sale_bn:a}})))},resetData:function(){e(k("resetData"))}}},function(e,t,a){return t.dispatch,d({},e,t,a)})(N)},zbGE:function(e,t,a){},zpSi:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownLoad=t.FormBind=t.HOCPopup=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=h(p),m=h(a("O27J"));a("Zfgq");function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("0WfC"),a("Hprb");t.HOCPopup=function(e){return function(t){function a(e){g(this,a);var t=v(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.existence=!1,t.openPortal=t.openPortal.bind(t),t.renderPortal=t.renderPortal.bind(t),t.closePortal=t.closePortal.bind(t),t}return y(a,p.Component),d(a,[{key:"renderPortal",value:function(t){t.active?(document.body.appendChild(this.node),this.existence=!0,m.default.unstable_renderSubtreeIntoContainer(this,f.default.createElement(e,u({},t,{onClose:this.closePortal})),this.node)):this.existence&&(m.default.unmountComponentAtNode(this.node),document.body.removeChild(this.node),this.existence=!1)}},{key:"openPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.renderPortal(e)}},{key:"closePortal",value:function(){this.props.onClose()}},{key:"unMountPortal",value:function(){this.existence&&document.body.removeChild(this.node)}},{key:"componentDidMount",value:function(){this.node=document.createElement("div"),this.openPortal()}},{key:"componentWillUpdate",value:function(e){this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.unMountPortal()}},{key:"render",value:function(){return null}}]),a}()},t.FormBind=function(e){return function(t){function a(e){return g(this,a),v(this,(a.__proto__||(0,n.default)(a)).call(this,e))}return y(a,p.Component),d(a,[{key:"textChange",value:function(){var e,t,a,n=Array.prototype.pop.call(arguments),r=(e={},t=n.target.dataset.type,a=n.target.value,t in e?(0,l.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e);this.setState(r),arguments[0]&&arguments[0](n.target)}},{key:"render",value:function(){return f.default.createElement(e,u({},this.props,this.state,{textChange:this.textChange}))}}]),a}()},t.DropDownLoad=function(t){return function(a){function r(e){return g(this,r),v(this,(r.__proto__||(0,n.default)(r)).call(this,e))}return y(r,p.Component),d(r,[{key:"componentDidMount",value:function(){this.props.didMount&&this.props.didMount(),this.createDropLoad()}},{key:"componentWillUnmount",value:function(){this.removeDropLoad()}},{key:"createDropLoad",value:function(){this.dropLoad=e(this.refs.list).dropload({scrollArea:this.props.scrollArea,loadDownFn:this.props.dropDown})}},{key:"removeDropLoad",value:function(){this.dropLoad.remove()}},{key:"render",value:function(){return f.default.createElement("div",{"data-comp":"drop-down-load",ref:"list"},f.default.createElement(t,this.props))}}]),r}()}}).call(this,a("OOjC"))},zyZ9:function(e,t,a){}},[[33,24,25]]]);